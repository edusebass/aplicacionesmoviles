"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6688],{6688:(j,m,s)=>{s.r(m),s.d(m,{LoginPageModule:()=>C});var f=s(177),l=s(4341),a=s(7863),g=s(4964),c=s(467),n=s(4438),v=s(856);function h(e,t){1&e&&(n.j41(0,"span"),n.EFF(1,"Email is required"),n.k0s())}function _(e,t){1&e&&(n.j41(0,"span"),n.EFF(1,"Email is invalid"),n.k0s())}function P(e,t){if(1&e&&(n.j41(0,"div",9),n.DNE(1,h,2,0,"span",4)(2,_,2,0,"span",4),n.k0s()),2&e){const r=n.XpG(2);n.R7$(),n.Y8G("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.required),n.R7$(),n.Y8G("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.email)}}function L(e,t){if(1&e&&(n.j41(0,"div"),n.DNE(1,P,3,2,"div",8),n.k0s()),2&e){const r=n.XpG();n.R7$(),n.Y8G("ngIf",null==r.email?null:r.email.errors)}}function y(e,t){1&e&&(n.j41(0,"span"),n.EFF(1,"Password is required"),n.k0s())}function F(e,t){1&e&&(n.j41(0,"span"),n.EFF(1,"Password needs to be 6 characters"),n.k0s())}function k(e,t){if(1&e&&(n.j41(0,"div",9),n.DNE(1,y,2,0,"span",4)(2,F,2,0,"span",4),n.k0s()),2&e){const r=n.XpG(2);n.R7$(),n.Y8G("ngIf",null==r.password||null==r.password.errors?null:r.password.errors.required),n.R7$(),n.Y8G("ngIf",null==r.password||null==r.password.errors?null:r.password.errors.minlength)}}function I(e,t){if(1&e&&(n.j41(0,"div"),n.DNE(1,k,3,2,"div",8),n.k0s()),2&e){const r=n.XpG();n.R7$(),n.Y8G("ngIf",null==r.password?null:r.password.errors)}}const G=[{path:"",component:(()=>{var e;class t{constructor(i,o,u,d,p){this.fb=i,this.router=o,this.alertController=u,this.loadingController=d,this.chatService=p}ngOnInit(){this.credentialForm=this.fb.group({email:["",[l.k0.required,l.k0.email]],password:["",[l.k0.required,l.k0.minLength(6)]]})}signUp(){var i=this;return(0,c.A)(function*(){const o=yield i.loadingController.create();yield o.present(),i.chatService.signup(i.credentialForm.value).then(u=>{o.dismiss(),i.router.navigateByUrl("/chat",{replaceUrl:!0})},function(){var u=(0,c.A)(function*(d){o.dismiss(),yield(yield i.alertController.create({header:"Sign up failed",message:d.message,buttons:["OK"]})).present()});return function(d){return u.apply(this,arguments)}}())})()}signIn(){var i=this;return(0,c.A)(function*(){const o=yield i.loadingController.create();yield o.present(),i.chatService.signIn(i.credentialForm.value).then(u=>{o.dismiss(),i.router.navigateByUrl("/chat",{replaceUrl:!0})},function(){var u=(0,c.A)(function*(d){o.dismiss(),yield(yield i.alertController.create({header:":(",message:d.message,buttons:["OK"]})).present()});return function(d){return u.apply(this,arguments)}}())})()}get email(){return this.credentialForm.get("email")}get password(){return this.credentialForm.get("password")}}return(e=t).\u0275fac=function(i){return new(i||e)(n.rXU(l.ok),n.rXU(g.Ix),n.rXU(a.hG),n.rXU(a.Xi),n.rXU(v.m))},e.\u0275cmp=n.VBU({type:e,selectors:[["app-login"]],decls:16,vars:3,consts:[["color","primary"],[1,"ion-padding"],[3,"formGroup"],["placeholder","Email address","formControlName","email","autofocus","true","clearInput","true"],[4,"ngIf"],["placeholder","Password","type","password","formControlName","password","clearInput","true"],["expand","full",3,"click"],["expand","full","color","secondary",3,"click"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(i,o){1&i&&(n.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),n.EFF(3,"Devdactic Chat"),n.k0s()()(),n.j41(4,"ion-content",1)(5,"form",2)(6,"ion-item"),n.nrm(7,"ion-input",3),n.k0s(),n.DNE(8,L,2,1,"div",4),n.j41(9,"ion-item"),n.nrm(10,"ion-input",5),n.k0s(),n.DNE(11,I,2,1,"div",4),n.k0s(),n.j41(12,"ion-button",6),n.bIt("click",function(){return o.signUp()}),n.EFF(13,"Sign up"),n.k0s(),n.j41(14,"ion-button",7),n.bIt("click",function(){return o.signIn()}),n.EFF(15,"Sign in"),n.k0s()()),2&i&&(n.R7$(5),n.Y8G("formGroup",o.credentialForm),n.R7$(3),n.Y8G("ngIf",(null==o.email?null:o.email.dirty)||(null==o.email?null:o.email.touched)),n.R7$(3),n.Y8G("ngIf",(null==o.password?null:o.password.dirty)||(null==o.password?null:o.password.touched)))},dependencies:[f.bT,l.qT,l.BC,l.cb,a.Jm,a.W9,a.eU,a.$w,a.uz,a.BC,a.ai,a.Gw,l.j4,l.JD],styles:[".errors[_ngcontent-%COMP%]{font-size:small;color:#fff;background:var(--ion-color-danger);padding-left:15px;padding-top:5px;padding-bottom:5px}"]}),t})()}];let w=(()=>{var e;class t{}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275mod=n.$C({type:e}),e.\u0275inj=n.G2t({imports:[g.iI.forChild(G),g.iI]}),t})(),C=(()=>{var e;class t{}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275mod=n.$C({type:e}),e.\u0275inj=n.G2t({imports:[f.MD,l.YN,a.bv,w,l.X1]}),t})()}}]);