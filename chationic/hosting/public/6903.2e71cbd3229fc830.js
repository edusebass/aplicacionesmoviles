"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6903],{6903:(v,d,r)=>{r.r(d),r.d(d,{ChatPageModule:()=>P});var l=r(177),c=r(4341),n=r(7863),h=r(4964),t=r(4438),u=r(856);const f=(e,s)=>({"my-message":e,"other-message":s});function p(e,s){if(1&e&&(t.j41(0,"ion-row")(1,"ion-col",13)(2,"b"),t.EFF(3),t.k0s(),t.nrm(4,"br"),t.j41(5,"span"),t.EFF(6),t.k0s(),t.j41(7,"div",14),t.nrm(8,"br"),t.EFF(9),t.nI1(10,"date"),t.k0s()()()),2&e){const o=s.$implicit;t.R7$(),t.Y8G("offset",o.myMsg?3:0)("ngClass",t.l_i(8,f,o.myMsg,!o.myMsg)),t.R7$(2),t.JRh(o.fromName),t.R7$(3),t.SpI("",o.msg," "),t.R7$(3),t.JRh(t.i5U(10,5,null==o.createdAt?null:o.createdAt.toMillis(),"short"))}}const C=[{path:"",component:(()=>{var e;class s{constructor(a,i){this.chatService=a,this.router=i,this.newMsg=""}ngOnInit(){this.messages=this.chatService.getChatMessages()}sendMessage(){this.chatService.addChatMessage(this.newMsg).then(()=>{this.newMsg="",this.content.scrollToBottom()})}signOut(){this.chatService.signOut().then(()=>{this.router.navigateByUrl("/",{replaceUrl:!0})})}}return(e=s).\u0275fac=function(a){return new(a||e)(t.rXU(u.m),t.rXU(h.Ix))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-chat"]],viewQuery:function(a,i){if(1&a&&t.GBs(n.W9,5),2&a){let g;t.mGM(g=t.lsd())&&(i.content=g.first)}},decls:19,vars:5,consts:[["color","primary"],["slot","end"],["fill","clear",3,"click"],["name","log-out","slot","icon-only"],[1,"ion-padding"],[4,"ngFor","ngForOf"],["color","light"],[1,"ion-align-items-center"],["size","10"],["autoGrow","true","rows","1","maxLength","500",1,"message-input",3,"ngModelChange","ngModel"],["size","2"],["expand","block","fill","clear","color","primary",1,"msg-btn",3,"click","disabled"],["name","send","slot","icon-only"],["size","9",1,"message",3,"offset","ngClass"],[1,"time","ion-text-right"]],template:function(a,i){1&a&&(t.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),t.EFF(3,"Open Chat"),t.k0s(),t.j41(4,"ion-buttons",1)(5,"ion-button",2),t.bIt("click",function(){return i.signOut()}),t.nrm(6,"ion-icon",3),t.k0s()()()(),t.j41(7,"ion-content",4)(8,"ion-grid"),t.DNE(9,p,11,11,"ion-row",5),t.nI1(10,"async"),t.k0s()(),t.j41(11,"ion-footer")(12,"ion-toolbar",6)(13,"ion-row",7)(14,"ion-col",8)(15,"ion-textarea",9),t.mxI("ngModelChange",function(m){return t.DH7(i.newMsg,m)||(i.newMsg=m),m}),t.k0s()(),t.j41(16,"ion-col",10)(17,"ion-button",11),t.bIt("click",function(){return i.sendMessage()}),t.nrm(18,"ion-icon",12),t.k0s()()()()()),2&a&&(t.R7$(9),t.Y8G("ngForOf",t.bMT(10,3,i.messages)),t.R7$(6),t.R50("ngModel",i.newMsg),t.R7$(2),t.Y8G("disabled",""===i.newMsg))},dependencies:[l.YU,l.Sq,c.BC,c.vS,n.Jm,n.QW,n.hU,n.W9,n.M0,n.lO,n.eU,n.iq,n.ln,n.nc,n.BC,n.ai,n.Gw,l.Jj,l.vh],styles:[".message-input[_ngcontent-%COMP%]{width:100%;border:1px solid var(--ion-color-medium);border-radius:6px;background:#fff;resize:none;margin-top:0;--padding-start: 8px}.message[_ngcontent-%COMP%]{padding:10px!important;border-radius:10px!important;margin-bottom:4px!important;white-space:pre-wrap}.my-message[_ngcontent-%COMP%]{background:var(--ion-color-tertiary);color:#fff}.other-message[_ngcontent-%COMP%]{background:var(--ion-color-secondary);color:#fff}.time[_ngcontent-%COMP%]{color:#dfdfdf;float:right;font-size:small}"]}),s})()}];let M=(()=>{var e;class s{}return(e=s).\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[h.iI.forChild(C),h.iI]}),s})(),P=(()=>{var e;class s{}return(e=s).\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[l.MD,c.YN,n.bv,M]}),s})()}}]);