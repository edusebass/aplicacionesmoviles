(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{4033:(Dn,At,O)=>{"use strict";O.d(At,{$:()=>Ko,A:()=>ve,G:()=>We,K:()=>Io,L:()=>Vr,N:()=>zn,P:()=>ic,R:()=>gl,U:()=>dr,V:()=>Fo,W:()=>Or,X:()=>Ns,Y:()=>$a,Z:()=>fo,_:()=>po,a:()=>ws,a0:()=>yo,a1:()=>Xi,a2:()=>va,a3:()=>lu,a4:()=>Ba,a5:()=>Es,a6:()=>xl,a7:()=>Xs,a8:()=>Ma,a9:()=>Cs,aA:()=>to,aB:()=>we,aC:()=>te,aD:()=>ed,aE:()=>yn,aF:()=>Sr,aG:()=>ac,aH:()=>$d,aI:()=>Ul,aJ:()=>Yn,aN:()=>Ss,aQ:()=>is,aa:()=>Qs,ab:()=>il,ac:()=>_a,ad:()=>Ys,ae:()=>ya,af:()=>hs,ag:()=>es,ah:()=>Ia,ak:()=>$o,al:()=>Ea,am:()=>al,ap:()=>G,aq:()=>je,as:()=>mo,at:()=>Na,au:()=>wt,av:()=>ki,aw:()=>Si,ax:()=>et,ay:()=>me,az:()=>da,b:()=>Ao,c:()=>Ud,d:()=>Yc,e:()=>Vl,f:()=>ra,g:()=>ln,h:()=>jd,i:()=>I,j:()=>zd,k:()=>Gn,l:()=>Ll,m:()=>Kr,o:()=>ba,p:()=>xe,r:()=>qc,s:()=>Kc,u:()=>Ld,w:()=>Yr});var d=O(467),u=O(7852),N=O(1076),Te=O(8041),de=O(1635),Be=O(1362);const xe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ve={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const We=function qe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Ye=function Ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ct=new N.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),nt=new Te.Vy("@firebase/auth");function tt(E,...f){nt.logLevel<=Te.$b.ERROR&&nt.error(`Auth (${u.SDK_VERSION}): ${E}`,...f)}function et(E,...f){throw St(E,...f)}function we(E,...f){return St(E,...f)}function Ge(E,f,m){const b=Object.assign(Object.assign({},Ye()),{[f]:m});return new N.FA("auth","Firebase",b).create(f,{appName:E.name})}function ze(E){return Ge(E,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dt(E,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&et(E,"argument-error"),Ge(E,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function St(E,...f){if("string"!=typeof E){const m=f[0],b=[...f.slice(1)];return b[0]&&(b[0].appName=E.name),E._errorFactory.create(m,...b)}return ct.create(E,...f)}function te(E,f,...m){if(!E)throw St(f,...m)}function Dt(E){const f="INTERNAL ASSERTION FAILED: "+E;throw tt(f),new Error(f)}function wt(E,f){E||Dt(f)}function an(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function zt(){return"http:"===It()||"https:"===It()}function It(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class J{constructor(f,m){this.shortDelay=f,this.longDelay=m,wt(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,N.jZ)()||(0,N.lV)()}get(){return function Tn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(zt()||(0,N.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function B(E,f){wt(E.emulator,"Emulator should always be set here");const{url:m}=E.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class R{static initialize(f,m,b){this.fetchImpl=f,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Dt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Dt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Dt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const H={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ee=new J(3e4,6e4);function Ve(E,f){return E.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:E.tenantId}):f}function it(E,f,m,b){return Me.apply(this,arguments)}function Me(){return(Me=(0,d.A)(function*(E,f,m,b,q={}){return Xe(E,q,(0,d.A)(function*(){let Ae={},_t={};b&&("GET"===f?_t=b:Ae={body:JSON.stringify(b)});const Gt=(0,N.Am)(Object.assign({key:E.config.apiKey},_t)).slice(1),vn=yield E._getAdditionalHeaders();return vn["Content-Type"]="application/json",E.languageCode&&(vn["X-Firebase-Locale"]=E.languageCode),R.fetch()(gn(E,E.config.apiHost,m,Gt),Object.assign({method:f,headers:vn,referrerPolicy:"no-referrer"},Ae))}))})).apply(this,arguments)}function Xe(E,f,m){return jt.apply(this,arguments)}function jt(){return(jt=(0,d.A)(function*(E,f,m){E._canInitEmulator=!1;const b=Object.assign(Object.assign({},H),f);try{const q=new Jt(E),Ae=yield Promise.race([m(),q.promise]);q.clearNetworkTimeout();const _t=yield Ae.json();if("needConfirmation"in _t)throw Pn(E,"account-exists-with-different-credential",_t);if(Ae.ok&&!("errorMessage"in _t))return _t;{const Gt=Ae.ok?_t.errorMessage:_t.error.message,[vn,Zn]=Gt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===vn)throw Pn(E,"credential-already-in-use",_t);if("EMAIL_EXISTS"===vn)throw Pn(E,"email-already-in-use",_t);if("USER_DISABLED"===vn)throw Pn(E,"user-disabled",_t);const gr=b[vn]||vn.toLowerCase().replace(/[_\s]+/g,"-");if(Zn)throw Ge(E,gr,Zn);et(E,gr)}}catch(q){if(q instanceof N.g)throw q;et(E,"network-request-failed",{message:String(q)})}})).apply(this,arguments)}function ft(E,f,m,b){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,d.A)(function*(E,f,m,b,q={}){const Ae=yield it(E,f,m,b,q);return"mfaPendingCredential"in Ae&&et(E,"multi-factor-auth-required",{_serverResponse:Ae}),Ae})).apply(this,arguments)}function gn(E,f,m,b){const q=`${f}${m}?${b}`;return E.config.emulator?B(E.config,q):`${E.config.apiScheme}://${q}`}function Sn(E){switch(E){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Jt{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(we(this.auth,"network-request-failed")),Ee.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Pn(E,f,m){const b={appName:E.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const q=we(E,f,b);return q.customData._tokenResponse=m,q}function Jn(E){return void 0!==E&&void 0!==E.getResponse}function bn(E){return void 0!==E&&void 0!==E.enterprise}class nn{constructor(f){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=f.recaptchaEnforcementState}getProviderEnforcementState(f){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const m of this.recaptchaEnforcementState)if(m.provider&&m.provider===f)return Sn(m.enforcementState);return null}isProviderEnabled(f){return"ENFORCE"===this.getProviderEnforcementState(f)||"AUDIT"===this.getProviderEnforcementState(f)}}function pt(){return(pt=(0,d.A)(function*(E){return(yield it(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ft(E,f){return rn.apply(this,arguments)}function rn(){return(rn=(0,d.A)(function*(E,f){return it(E,"GET","/v2/recaptchaConfig",Ve(E,f))})).apply(this,arguments)}function or(){return(or=(0,d.A)(function*(E,f){return it(E,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function wn(){return(wn=(0,d.A)(function*(E,f){return it(E,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function hn(E,f){return Un.apply(this,arguments)}function Un(){return(Un=(0,d.A)(function*(E,f){return it(E,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function tr(E){if(E)try{const f=new Date(Number(E));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function Kn(){return(Kn=(0,d.A)(function*(E,f=!1){const m=(0,N.Ku)(E),b=yield m.getIdToken(f),q=qn(b);te(q&&q.exp&&q.auth_time&&q.iat,m.auth,"internal-error");const Ae="object"==typeof q.firebase?q.firebase:void 0,_t=null==Ae?void 0:Ae.sign_in_provider;return{claims:q,token:b,authTime:tr(Ir(q.auth_time)),issuedAtTime:tr(Ir(q.iat)),expirationTime:tr(Ir(q.exp)),signInProvider:_t||null,signInSecondFactor:(null==Ae?void 0:Ae.sign_in_second_factor)||null}})).apply(this,arguments)}function Ir(E){return 1e3*Number(E)}function qn(E){const[f,m,b]=E.split(".");if(void 0===f||void 0===m||void 0===b)return tt("JWT malformed, contained fewer than 3 sections"),null;try{const q=(0,N.u)(m);return q?JSON.parse(q):(tt("Failed to decode base64 JWT payload"),null)}catch(q){return tt("Caught error parsing JWT payload as JSON",null==q?void 0:q.toString()),null}}function ui(E){const f=qn(E);return te(f,"internal-error"),te(typeof f.exp<"u","internal-error"),te(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}function jn(E,f){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,d.A)(function*(E,f,m=!1){if(m)return f;try{return yield f}catch(b){throw b instanceof N.g&&function mi({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}(b)&&E.auth.currentUser===E&&(yield E.auth.signOut()),b}})).apply(this,arguments)}class at{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const q=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,q)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(f);this.timerId=setTimeout((0,d.A)(function*(){yield m.iteration()}),b)}iteration(){var f=this;return(0,d.A)(function*(){try{yield f.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===(null==m?void 0:m.code)&&f.schedule(!0))}f.schedule()})()}}class Dr{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=tr(this.lastLoginAt),this.creationTime=tr(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Mr(E){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,d.A)(function*(E){var f;const m=E.auth,b=yield E.getIdToken(),q=yield jn(E,hn(m,{idToken:b}));te(null==q?void 0:q.users.length,m,"internal-error");const Ae=q.users[0];E._notifyReloadListener(Ae);const _t=null!==(f=Ae.providerUserInfo)&&void 0!==f&&f.length?kt(Ae.providerUserInfo):[],Gt=function Je(E,f){return[...E.filter(b=>!f.some(q=>q.providerId===b.providerId)),...f]}(E.providerData,_t),gr=!!E.isAnonymous&&!(E.email&&Ae.passwordHash||null!=Gt&&Gt.length),di={uid:Ae.localId,displayName:Ae.displayName||null,photoURL:Ae.photoUrl||null,email:Ae.email||null,emailVerified:Ae.emailVerified||!1,phoneNumber:Ae.phoneNumber||null,tenantId:Ae.tenantId||null,providerData:Gt,metadata:new Dr(Ae.createdAt,Ae.lastLoginAt),isAnonymous:gr};Object.assign(E,di)})).apply(this,arguments)}function mt(){return(mt=(0,d.A)(function*(E){const f=(0,N.Ku)(E);yield Mr(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function kt(E){return E.map(f=>{var{providerId:m}=f,b=(0,de.Tt)(f,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function fe(){return(fe=(0,d.A)(function*(E,f){const m=yield Xe(E,{},(0,d.A)(function*(){const b=(0,N.Am)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:q,apiKey:Ae}=E.config,_t=gn(E,q,"/v1/token",`key=${Ae}`),Gt=yield E._getAdditionalHeaders();return Gt["Content-Type"]="application/x-www-form-urlencoded",R.fetch()(_t,{method:"POST",headers:Gt,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}function se(){return(se=(0,d.A)(function*(E,f){return it(E,"POST","/v2/accounts:revokeToken",Ve(E,f))})).apply(this,arguments)}class pe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){te(f.idToken,"internal-error"),te(typeof f.idToken<"u","internal-error"),te(typeof f.refreshToken<"u","internal-error");const m="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):ui(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}updateFromIdToken(f){te(0!==f.length,"internal-error");const m=ui(f);this.updateTokensAndExpiration(f,null,m)}getToken(f,m=!1){var b=this;return(0,d.A)(function*(){return m||!b.accessToken||b.isExpired?(te(b.refreshToken,f,"user-token-expired"),b.refreshToken?(yield b.refresh(f,b.refreshToken),b.accessToken):null):b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var b=this;return(0,d.A)(function*(){const{accessToken:q,refreshToken:Ae,expiresIn:_t}=yield function ot(E,f){return fe.apply(this,arguments)}(f,m);b.updateTokensAndExpiration(q,Ae,Number(_t))})()}updateTokensAndExpiration(f,m,b){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(f,m){const{refreshToken:b,accessToken:q,expirationTime:Ae}=m,_t=new pe;return b&&(te("string"==typeof b,"internal-error",{appName:f}),_t.refreshToken=b),q&&(te("string"==typeof q,"internal-error",{appName:f}),_t.accessToken=q),Ae&&(te("number"==typeof Ae,"internal-error",{appName:f}),_t.expirationTime=Ae),_t}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new pe,this.toJSON())}_performRefresh(){return Dt("not implemented")}}function ie(E,f){te("string"==typeof E||typeof E>"u","internal-error",{appName:f})}class lt{constructor(f){var{uid:m,auth:b,stsTokenManager:q}=f,Ae=(0,de.Tt)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new at(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=q,this.accessToken=q.accessToken,this.displayName=Ae.displayName||null,this.email=Ae.email||null,this.emailVerified=Ae.emailVerified||!1,this.phoneNumber=Ae.phoneNumber||null,this.photoURL=Ae.photoURL||null,this.isAnonymous=Ae.isAnonymous||!1,this.tenantId=Ae.tenantId||null,this.providerData=Ae.providerData?[...Ae.providerData]:[],this.metadata=new Dr(Ae.createdAt||void 0,Ae.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,d.A)(function*(){const b=yield jn(m,m.stsTokenManager.getToken(m.auth,f));return te(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(f){return function Br(E){return Kn.apply(this,arguments)}(this,f)}reload(){return function ii(E){return mt.apply(this,arguments)}(this)}_assign(f){this!==f&&(te(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const m=new lt(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(f){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var b=this;return(0,d.A)(function*(){let q=!1;f.idToken&&f.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(f),q=!0),m&&(yield Mr(b)),yield b.auth._persistUserIfCurrent(b),q&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var f=this;return(0,d.A)(function*(){if((0,u._isFirebaseServerApp)(f.auth.app))return Promise.reject(ze(f.auth));const m=yield f.getIdToken();return yield jn(f,function Qt(E,f){return or.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var b,q,Ae,_t,Gt,vn,Zn,gr;const di=null!==(b=m.displayName)&&void 0!==b?b:void 0,$s=null!==(q=m.email)&&void 0!==q?q:void 0,Cl=null!==(Ae=m.phoneNumber)&&void 0!==Ae?Ae:void 0,Tl=null!==(_t=m.photoURL)&&void 0!==_t?_t:void 0,vc=null!==(Gt=m.tenantId)&&void 0!==Gt?Gt:void 0,zl=null!==(vn=m._redirectEventId)&&void 0!==vn?vn:void 0,mu=null!==(Zn=m.createdAt)&&void 0!==Zn?Zn:void 0,ka=null!==(gr=m.lastLoginAt)&&void 0!==gr?gr:void 0,{uid:Hl,emailVerified:_c,isAnonymous:nd,providerData:Ja,stsTokenManager:Dl}=m;te(Hl&&Dl,f,"internal-error");const ho=pe.fromJSON(this.name,Dl);te("string"==typeof Hl,f,"internal-error"),ie(di,f.name),ie($s,f.name),te("boolean"==typeof _c,f,"internal-error"),te("boolean"==typeof nd,f,"internal-error"),ie(Cl,f.name),ie(Tl,f.name),ie(vc,f.name),ie(zl,f.name),ie(mu,f.name),ie(ka,f.name);const rd=new lt({uid:Hl,auth:f,email:$s,emailVerified:_c,displayName:di,isAnonymous:nd,photoURL:Tl,phoneNumber:Cl,tenantId:vc,stsTokenManager:ho,createdAt:mu,lastLoginAt:ka});return Ja&&Array.isArray(Ja)&&(rd.providerData=Ja.map(Xh=>Object.assign({},Xh))),zl&&(rd._redirectEventId=zl),rd}static _fromIdTokenResponse(f,m,b=!1){return(0,d.A)(function*(){const q=new pe;q.updateFromServerResponse(m);const Ae=new lt({uid:m.localId,auth:f,stsTokenManager:q,isAnonymous:b});return yield Mr(Ae),Ae})()}static _fromGetAccountInfoResponse(f,m,b){return(0,d.A)(function*(){const q=m.users[0];te(void 0!==q.localId,"internal-error");const Ae=void 0!==q.providerUserInfo?kt(q.providerUserInfo):[],_t=!(q.email&&q.passwordHash||null!=Ae&&Ae.length),Gt=new pe;Gt.updateFromIdToken(b);const vn=new lt({uid:q.localId,auth:f,stsTokenManager:Gt,isAnonymous:_t}),Zn={uid:q.localId,displayName:q.displayName||null,photoURL:q.photoUrl||null,email:q.email||null,emailVerified:q.emailVerified||!1,phoneNumber:q.phoneNumber||null,tenantId:q.tenantId||null,providerData:Ae,metadata:new Dr(q.createdAt,q.lastLoginAt),isAnonymous:!(q.email&&q.passwordHash||null!=Ae&&Ae.length)};return Object.assign(vn,Zn),vn})()}}const qt=new Map;function yn(E){wt(E instanceof Function,"Expected a class definition");let f=qt.get(E);return f?(wt(f instanceof E,"Instance stored in cache mismatched with class"),f):(f=new E,qt.set(E,f),f)}const dr=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.A)(function*(){return!0})()}_set(m,b){var q=this;return(0,d.A)(function*(){q.storage[m]=b})()}_get(m){var b=this;return(0,d.A)(function*(){const q=b.storage[m];return void 0===q?null:q})()}_remove(m){var b=this;return(0,d.A)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return E.type="NONE",E})();function Sr(E,f,m){return`firebase:${E}:${f}:${m}`}class On{constructor(f,m,b){this.persistence=f,this.auth=m,this.userKey=b;const{config:q,name:Ae}=this.auth;this.fullUserKey=Sr(this.userKey,q.apiKey,Ae),this.fullPersistenceKey=Sr("persistence",q.apiKey,Ae),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,d.A)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?lt._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,d.A)(function*(){if(m.persistence===f)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,b="authUser"){return(0,d.A)(function*(){if(!m.length)return new On(yn(dr),f,b);const q=(yield Promise.all(m.map(function(){var Zn=(0,d.A)(function*(gr){if(yield gr._isAvailable())return gr});return function(gr){return Zn.apply(this,arguments)}}()))).filter(Zn=>Zn);let Ae=q[0]||yn(dr);const _t=Sr(b,f.config.apiKey,f.name);let Gt=null;for(const Zn of m)try{const gr=yield Zn._get(_t);if(gr){const di=lt._fromJSON(f,gr);Zn!==Ae&&(Gt=di),Ae=Zn;break}}catch{}const vn=q.filter(Zn=>Zn._shouldAllowMigration);return Ae._shouldAllowMigration&&vn.length?(Ae=vn[0],Gt&&(yield Ae._set(_t,Gt.toJSON())),yield Promise.all(m.map(function(){var Zn=(0,d.A)(function*(gr){if(gr!==Ae)try{yield gr._remove(_t)}catch{}});return function(gr){return Zn.apply(this,arguments)}}())),new On(Ae,f,b)):new On(Ae,f,b)})()}}function Mn(E){const f=E.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Do(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(nr(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Rr(f))return"Blackberry";if(eo(f))return"Webos";if(Xr(f))return"Safari";if((f.includes("chrome/")||oi(f))&&!f.includes("edge/"))return"Chrome";if(Si(f))return"Android";{const b=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function nr(E=(0,N.ZQ)()){return/firefox\//i.test(E)}function Xr(E=(0,N.ZQ)()){const f=E.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function oi(E=(0,N.ZQ)()){return/crios\//i.test(E)}function Do(E=(0,N.ZQ)()){return/iemobile/i.test(E)}function Si(E=(0,N.ZQ)()){return/android/i.test(E)}function Rr(E=(0,N.ZQ)()){return/blackberry/i.test(E)}function eo(E=(0,N.ZQ)()){return/webos/i.test(E)}function ki(E=(0,N.ZQ)()){return/iphone|ipad|ipod/i.test(E)||/macintosh/i.test(E)&&/mobile/i.test(E)}function to(E=(0,N.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}function ee(E=(0,N.ZQ)()){return ki(E)||Si(E)||eo(E)||Rr(E)||/windows phone/i.test(E)||Do(E)}function oe(E,f=[]){let m;switch(E){case"Browser":m=Mn((0,N.ZQ)());break;case"Worker":m=`${Mn((0,N.ZQ)())}-${E}`;break;default:m=E}const b=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${u.SDK_VERSION}/${b}`}class re{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const b=Ae=>new Promise((_t,Gt)=>{try{_t(f(Ae))}catch(vn){Gt(vn)}});b.onAbort=m,this.queue.push(b);const q=this.queue.length-1;return()=>{this.queue[q]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,d.A)(function*(){if(m.auth.currentUser===f)return;const b=[];try{for(const q of m.queue)yield q(f),q.onAbort&&b.push(q.onAbort)}catch(q){b.reverse();for(const Ae of b)try{Ae()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null==q?void 0:q.message})}})()}}function Mt(){return(Mt=(0,d.A)(function*(E,f={}){return it(E,"GET","/v2/passwordPolicy",Ve(E,f))})).apply(this,arguments)}class An{constructor(f){var m,b,q,Ae;const _t=f.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(m=_t.minPasswordLength)&&void 0!==m?m:6,_t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=_t.maxPasswordLength),void 0!==_t.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=_t.containsLowercaseCharacter),void 0!==_t.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=_t.containsUppercaseCharacter),void 0!==_t.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=_t.containsNumericCharacter),void 0!==_t.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=_t.containsNonAlphanumericCharacter),this.enforcementState=f.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(q=null===(b=f.allowedNonAlphanumericCharacters)||void 0===b?void 0:b.join(""))&&void 0!==q?q:"",this.forceUpgradeOnSignin=null!==(Ae=f.forceUpgradeOnSignin)&&void 0!==Ae&&Ae,this.schemaVersion=f.schemaVersion}validatePassword(f){var m,b,q,Ae,_t,Gt;const vn={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(f,vn),this.validatePasswordCharacterOptions(f,vn),vn.isValid&&(vn.isValid=null===(m=vn.meetsMinPasswordLength)||void 0===m||m),vn.isValid&&(vn.isValid=null===(b=vn.meetsMaxPasswordLength)||void 0===b||b),vn.isValid&&(vn.isValid=null===(q=vn.containsLowercaseLetter)||void 0===q||q),vn.isValid&&(vn.isValid=null===(Ae=vn.containsUppercaseLetter)||void 0===Ae||Ae),vn.isValid&&(vn.isValid=null===(_t=vn.containsNumericCharacter)||void 0===_t||_t),vn.isValid&&(vn.isValid=null===(Gt=vn.containsNonAlphanumericCharacter)||void 0===Gt||Gt),vn}validatePasswordLengthOptions(f,m){const b=this.customStrengthOptions.minPasswordLength,q=this.customStrengthOptions.maxPasswordLength;b&&(m.meetsMinPasswordLength=f.length>=b),q&&(m.meetsMaxPasswordLength=f.length<=q)}validatePasswordCharacterOptions(f,m){let b;this.updatePasswordCharacterOptionsStatuses(m,!1,!1,!1,!1);for(let q=0;q<f.length;q++)b=f.charAt(q),this.updatePasswordCharacterOptionsStatuses(m,b>="a"&&b<="z",b>="A"&&b<="Z",b>="0"&&b<="9",this.allowedNonAlphanumericCharacters.includes(b))}updatePasswordCharacterOptionsStatuses(f,m,b,q,Ae){this.customStrengthOptions.containsLowercaseLetter&&(f.containsLowercaseLetter||(f.containsLowercaseLetter=m)),this.customStrengthOptions.containsUppercaseLetter&&(f.containsUppercaseLetter||(f.containsUppercaseLetter=b)),this.customStrengthOptions.containsNumericCharacter&&(f.containsNumericCharacter||(f.containsNumericCharacter=q)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(f.containsNonAlphanumericCharacter||(f.containsNonAlphanumericCharacter=Ae))}}class rr{constructor(f,m,b,q){this.app=f,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=b,this.config=q,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yi(this),this.idTokenSubscription=new yi(this),this.beforeStateQueue=new re(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ct,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=q.sdkClientVersion}_initializeWithPersistence(f,m){var b=this;return m&&(this._popupRedirectResolver=yn(m)),this._initializationPromise=this.queue((0,d.A)(function*(){var q,Ae;if(!b._deleted&&(b.persistenceManager=yield On.create(b,f),!b._deleted)){if(null!==(q=b._popupRedirectResolver)&&void 0!==q&&q._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(Ae=b.currentUser)||void 0===Ae?void 0:Ae.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,d.A)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUserFromIdToken(f){var m=this;return(0,d.A)(function*(){try{const b=yield hn(m,{idToken:f}),q=yield lt._fromGetAccountInfoResponse(m,b,f);yield m.directlySetCurrentUser(q)}catch(b){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",b),yield m.directlySetCurrentUser(null)}})()}initializeCurrentUser(f){var m=this;return(0,d.A)(function*(){var b;if((0,u._isFirebaseServerApp)(m.app)){const Gt=m.app.settings.authIdToken;return Gt?new Promise(vn=>{setTimeout(()=>m.initializeCurrentUserFromIdToken(Gt).then(vn,vn))}):m.directlySetCurrentUser(null)}const q=yield m.assertedPersistence.getCurrentUser();let Ae=q,_t=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const Gt=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,vn=null==Ae?void 0:Ae._redirectEventId,Zn=yield m.tryRedirectSignIn(f);(!Gt||Gt===vn)&&null!=Zn&&Zn.user&&(Ae=Zn.user,_t=!0)}if(!Ae)return m.directlySetCurrentUser(null);if(!Ae._redirectEventId){if(_t)try{yield m.beforeStateQueue.runMiddleware(Ae)}catch(Gt){Ae=q,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(Gt))}return Ae?m.reloadAndSetCurrentUserOrClear(Ae):m.directlySetCurrentUser(null)}return te(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===Ae._redirectEventId?m.directlySetCurrentUser(Ae):m.reloadAndSetCurrentUserOrClear(Ae)})()}tryRedirectSignIn(f){var m=this;return(0,d.A)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch{yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,d.A)(function*(){try{yield Mr(f)}catch(b){if("auth/network-request-failed"!==(null==b?void 0:b.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function $e(){if(typeof navigator>"u")return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var f=this;return(0,d.A)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,d.A)(function*(){if((0,u._isFirebaseServerApp)(m.app))return Promise.reject(ze(m));const b=f?(0,N.Ku)(f):null;return b&&te(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(f,m=!1){var b=this;return(0,d.A)(function*(){if(!b._deleted)return f&&te(b.tenantId===f.tenantId,b,"tenant-id-mismatch"),m||(yield b.beforeStateQueue.runMiddleware(f)),b.queue((0,d.A)(function*(){yield b.directlySetCurrentUser(f),b.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,d.A)(function*(){return(0,u._isFirebaseServerApp)(f.app)?Promise.reject(ze(f)):(yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0))})()}setPersistence(f){var m=this;return(0,u._isFirebaseServerApp)(this.app)?Promise.reject(ze(this)):this.queue((0,d.A)(function*(){yield m.assertedPersistence.setPersistence(yn(f))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(f){var m=this;return(0,d.A)(function*(){m._getPasswordPolicyInternal()||(yield m._updatePasswordPolicy());const b=m._getPasswordPolicyInternal();return b.schemaVersion!==m.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(m._errorFactory.create("unsupported-password-policy-schema-version",{})):b.validatePassword(f)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var f=this;return(0,d.A)(function*(){const m=yield function Le(E){return Mt.apply(this,arguments)}(f),b=new An(m);null===f.tenantId?f._projectPasswordPolicy=b:f._tenantPasswordPolicies[f.tenantId]=b})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new N.FA("auth","Firebase",f())}onAuthStateChanged(f,m,b){return this.registerStateListener(this.authStateSubscription,f,m,b)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,b){return this.registerStateListener(this.idTokenSubscription,f,m,b)}authStateReady(){return new Promise((f,m)=>{if(this.currentUser)f();else{const b=this.onAuthStateChanged(()=>{b(),f()},m)}})}revokeAccessToken(f){var m=this;return(0,d.A)(function*(){if(m.currentUser){const b=yield m.currentUser.getIdToken(),q={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:f,idToken:b};null!=m.tenantId&&(q.tenantId=m.tenantId),yield function ye(E,f){return se.apply(this,arguments)}(m,q)}})()}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var b=this;return(0,d.A)(function*(){const q=yield b.getOrInitRedirectPersistenceManager(m);return null===f?q.removeCurrentUser():q.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,d.A)(function*(){if(!m.redirectPersistenceManager){const b=f&&yn(f)||m._popupRedirectResolver;te(b,m,"argument-error"),m.redirectPersistenceManager=yield On.create(m,[yn(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,d.A)(function*(){var b,q;return m._isInitialized&&(yield m.queue((0,d.A)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===f?m._currentUser:(null===(q=m.redirectUser)||void 0===q?void 0:q._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,d.A)(function*(){if(f===m.currentUser)return m.queue((0,d.A)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,b,q){if(this._deleted)return()=>{};const Ae="function"==typeof m?m:m.next.bind(m);let _t=!1;const Gt=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(Gt,this,"internal-error"),Gt.then(()=>{_t||Ae(this.currentUser)}),"function"==typeof m){const vn=f.addObserver(m,b,q);return()=>{_t=!0,vn()}}{const vn=f.addObserver(m);return()=>{_t=!0,vn()}}}directlySetCurrentUser(f){var m=this;return(0,d.A)(function*(){m.currentUser&&m.currentUser!==f&&m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh(),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=oe(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,d.A)(function*(){var m;const b={"X-Client-Version":f.clientVersion};f.app.options.appId&&(b["X-Firebase-gmpid"]=f.app.options.appId);const q=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();q&&(b["X-Firebase-Client"]=q);const Ae=yield f._getAppCheckToken();return Ae&&(b["X-Firebase-AppCheck"]=Ae),b})()}_getAppCheckToken(){var f=this;return(0,d.A)(function*(){var m;const b=yield null===(m=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return null!=b&&b.error&&function Tt(E,...f){nt.logLevel<=Te.$b.WARN&&nt.warn(`Auth (${u.SDK_VERSION}): ${E}`,...f)}(`Error while retrieving App Check token: ${b.error}`),null==b?void 0:b.token})()}}function Yn(E){return(0,N.Ku)(E)}class yi{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,N.tD)(m=>this.observer=m)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let zi={loadJS:()=>(0,d.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ln(E){return zi.loadJS(E)}function jr(E){return`__${E}${Math.floor(1e6*Math.random())}`}class si{constructor(f){this.type="recaptcha-enterprise",this.auth=Yn(f)}verify(f="verify",m=!1){var b=this;return(0,d.A)(function*(){function Ae(){return Ae=(0,d.A)(function*(Gt){if(!m){if(null==Gt.tenantId&&null!=Gt._agentRecaptchaConfig)return Gt._agentRecaptchaConfig.siteKey;if(null!=Gt.tenantId&&void 0!==Gt._tenantRecaptchaConfigs[Gt.tenantId])return Gt._tenantRecaptchaConfigs[Gt.tenantId].siteKey}return new Promise(function(){var vn=(0,d.A)(function*(Zn,gr){Ft(Gt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(di=>{if(void 0!==di.recaptchaKey){const $s=new nn(di);return null==Gt.tenantId?Gt._agentRecaptchaConfig=$s:Gt._tenantRecaptchaConfigs[Gt.tenantId]=$s,Zn($s.siteKey)}gr(new Error("recaptcha Enterprise site key undefined"))}).catch(di=>{gr(di)})});return function(Zn,gr){return vn.apply(this,arguments)}}())}),Ae.apply(this,arguments)}function _t(Gt,vn,Zn){const gr=window.grecaptcha;bn(gr)?gr.enterprise.ready(()=>{gr.enterprise.execute(Gt,{action:f}).then(di=>{vn(di)}).catch(()=>{vn("NO_RECAPTCHA")})}):Zn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Gt,vn)=>{(function q(Gt){return Ae.apply(this,arguments)})(b.auth).then(Zn=>{if(!m&&bn(window.grecaptcha))_t(Zn,Gt,vn);else{if(typeof window>"u")return void vn(new Error("RecaptchaVerifier is only supported in browser"));let gr=function Ki(){return zi.recaptchaEnterpriseScript}();0!==gr.length&&(gr+=Zn),Ln(gr).then(()=>{_t(Zn,Gt,vn)}).catch(di=>{vn(di)})}}).catch(Zn=>{vn(Zn)})})})()}}function Nr(E,f,m){return bo.apply(this,arguments)}function bo(){return(bo=(0,d.A)(function*(E,f,m,b=!1){const q=new si(E);let Ae;try{Ae=yield q.verify(m)}catch{Ae=yield q.verify(m,!0)}const _t=Object.assign({},f);return Object.assign(_t,b?{captchaResp:Ae}:{captchaResponse:Ae}),Object.assign(_t,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(_t,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),_t})).apply(this,arguments)}function Fi(E,f,m,b){return Qr.apply(this,arguments)}function Qr(){return Qr=(0,d.A)(function*(E,f,m,b){var q;if(null!==(q=E._getRecaptchaConfig())&&void 0!==q&&q.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const Ae=yield Nr(E,f,m,"getOobCode"===m);return b(E,Ae)}return b(E,f).catch(function(){var Ae=(0,d.A)(function*(_t){if("auth/missing-recaptcha-token"===_t.code){console.log(`${m} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Gt=yield Nr(E,f,m,"getOobCode"===m);return b(E,Gt)}return Promise.reject(_t)});return function(_t){return Ae.apply(this,arguments)}}())}),Qr.apply(this,arguments)}function Io(E,f,m){const b=Yn(E);te(b._canInitEmulator,b,"emulator-config-failed"),te(/^https?:\/\//.test(f),b,"invalid-emulator-scheme");const q=!(null==m||!m.disableWarnings),Ae=vi(f),{host:_t,port:Gt}=function Ur(E){const f=vi(E),m=/(\/\/)?([^?#/]+)/.exec(E.substr(f.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",q=/^(\[[^\]]+\])(:|$)/.exec(b);if(q){const Ae=q[1];return{host:Ae,port:zr(b.substr(Ae.length+1))}}{const[Ae,_t]=b.split(":");return{host:Ae,port:zr(_t)}}}(f);b.config.emulator={url:`${Ae}//${_t}${null===Gt?"":`:${Gt}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:_t,port:Gt,protocol:Ae.replace(":",""),options:Object.freeze({disableWarnings:q})}),q||function lr(){function E(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}function vi(E){const f=E.indexOf(":");return f<0?"":E.substr(0,f+1)}function zr(E){if(!E)return null;const f=Number(E);return isNaN(f)?null:f}class Vr{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return Dt("not implemented")}_getIdTokenResponse(f){return Dt("not implemented")}_linkToIdToken(f,m){return Dt("not implemented")}_getReauthenticationResolver(f){return Dt("not implemented")}}function vs(E,f){return ar.apply(this,arguments)}function ar(){return(ar=(0,d.A)(function*(E,f){return it(E,"POST","/v1/accounts:resetPassword",Ve(E,f))})).apply(this,arguments)}function Oo(){return(Oo=(0,d.A)(function*(E,f){return it(E,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Go(E,f){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,d.A)(function*(E,f){return it(E,"POST","/v1/accounts:signUp",f)})).apply(this,arguments)}function ai(){return(ai=(0,d.A)(function*(E,f){return it(E,"POST","/v1/accounts:update",Ve(E,f))})).apply(this,arguments)}function S(E,f){return Q.apply(this,arguments)}function Q(){return(Q=(0,d.A)(function*(E,f){return ft(E,"POST","/v1/accounts:signInWithPassword",Ve(E,f))})).apply(this,arguments)}function _e(E,f){return x.apply(this,arguments)}function x(){return(x=(0,d.A)(function*(E,f){return it(E,"POST","/v1/accounts:sendOobCode",Ve(E,f))})).apply(this,arguments)}function ht(){return(ht=(0,d.A)(function*(E,f){return _e(E,f)})).apply(this,arguments)}function mr(E,f){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,d.A)(function*(E,f){return _e(E,f)})).apply(this,arguments)}function K(E,f){return he.apply(this,arguments)}function he(){return(he=(0,d.A)(function*(E,f){return _e(E,f)})).apply(this,arguments)}function He(){return(He=(0,d.A)(function*(E,f){return _e(E,f)})).apply(this,arguments)}function Et(){return(Et=(0,d.A)(function*(E,f){return ft(E,"POST","/v1/accounts:signInWithEmailLink",Ve(E,f))})).apply(this,arguments)}function on(){return(on=(0,d.A)(function*(E,f){return ft(E,"POST","/v1/accounts:signInWithEmailLink",Ve(E,f))})).apply(this,arguments)}class Zt extends Vr{constructor(f,m,b,q=null){super("password",b),this._email=f,this._password=m,this._tenantId=q}static _fromEmailAndPassword(f,m){return new Zt(f,m,"password")}static _fromEmailAndCode(f,m,b=null){return new Zt(f,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if(null!=m&&m.email&&null!=m&&m.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,d.A)(function*(){switch(m.signInMethod){case"password":return Fi(f,{returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",S);case"emailLink":return function bt(E,f){return Et.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:et(f,"internal-error")}})()}_linkToIdToken(f,m){var b=this;return(0,d.A)(function*(){switch(b.signInMethod){case"password":return Fi(f,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Go);case"emailLink":return function Yt(E,f){return on.apply(this,arguments)}(f,{idToken:m,email:b._email,oobCode:b._password});default:et(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function cn(E,f){return dn.apply(this,arguments)}function dn(){return(dn=(0,d.A)(function*(E,f){return ft(E,"POST","/v1/accounts:signInWithIdp",Ve(E,f))})).apply(this,arguments)}class zn extends Vr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new zn(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):et("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:q}=m,Ae=(0,de.Tt)(m,["providerId","signInMethod"]);if(!b||!q)return null;const _t=new zn(b,q);return _t.idToken=Ae.idToken||void 0,_t.accessToken=Ae.accessToken||void 0,_t.secret=Ae.secret,_t.nonce=Ae.nonce,_t.pendingToken=Ae.pendingToken||null,_t}_getIdTokenResponse(f){return cn(f,this.buildRequest())}_linkToIdToken(f,m){const b=this.buildRequest();return b.idToken=m,cn(f,b)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,cn(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,N.Am)(m)}return f}}function vr(){return(vr=(0,d.A)(function*(E,f){return it(E,"POST","/v1/accounts:sendVerificationCode",Ve(E,f))})).apply(this,arguments)}function Ar(){return(Ar=(0,d.A)(function*(E,f){return ft(E,"POST","/v1/accounts:signInWithPhoneNumber",Ve(E,f))})).apply(this,arguments)}function pr(){return(pr=(0,d.A)(function*(E,f){const m=yield ft(E,"POST","/v1/accounts:signInWithPhoneNumber",Ve(E,f));if(m.temporaryProof)throw Pn(E,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const fi={USER_NOT_FOUND:"user-not-found"};function rs(){return(rs=(0,d.A)(function*(E,f){return ft(E,"POST","/v1/accounts:signInWithPhoneNumber",Ve(E,Object.assign(Object.assign({},f),{operation:"REAUTH"})),fi)})).apply(this,arguments)}class So extends Vr{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new So({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new So({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function qi(E,f){return Ar.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function er(E,f){return pr.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function ko(E,f){return rs.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:b,verificationCode:q}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:b,code:q}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:b,phoneNumber:q,temporaryProof:Ae}=f;return b||m||q||Ae?new So({verificationId:m,verificationCode:b,phoneNumber:q,temporaryProof:Ae}):null}}class ao{constructor(f){var m,b,q,Ae,_t,Gt;const vn=(0,N.I9)((0,N.hp)(f)),Zn=null!==(m=vn.apiKey)&&void 0!==m?m:null,gr=null!==(b=vn.oobCode)&&void 0!==b?b:null,di=function Ua(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(q=vn.mode)&&void 0!==q?q:null);te(Zn&&gr&&di,"argument-error"),this.apiKey=Zn,this.operation=di,this.code=gr,this.continueUrl=null!==(Ae=vn.continueUrl)&&void 0!==Ae?Ae:null,this.languageCode=null!==(_t=vn.languageCode)&&void 0!==_t?_t:null,this.tenantId=null!==(Gt=vn.tenantId)&&void 0!==Gt?Gt:null}static parseLink(f){const m=function ma(E){const f=(0,N.I9)((0,N.hp)(E)).link,m=f?(0,N.I9)((0,N.hp)(f)).deep_link_id:null,b=(0,N.I9)((0,N.hp)(E)).deep_link_id;return(b?(0,N.I9)((0,N.hp)(b)).link:null)||b||m||f||E}(f);try{return new ao(m)}catch{return null}}}let Fo=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(m,b){return Zt._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const q=ao.parseLink(b);return te(q,"argument-error"),Zt._fromEmailAndCode(m,q.code,q.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class Jo{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class pi extends Jo{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class fo extends pi{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return te("providerId"in m&&"signInMethod"in m,"argument-error"),zn._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return te(f.idToken||f.accessToken,"argument-error"),zn._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return fo.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return fo.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:q,pendingToken:Ae,nonce:_t,providerId:Gt}=f;if(!b&&!q&&!m&&!Ae||!Gt)return null;try{return new fo(Gt)._credential({idToken:m,accessToken:b,nonce:_t,pendingToken:Ae})}catch{return null}}}let Or=(()=>{class E extends pi{constructor(){super("facebook.com")}static credential(m){return zn._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return E.credential(m.oauthAccessToken)}catch{return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),Ns=(()=>{class E extends pi{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return zn._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:q}=m;if(!b&&!q)return null;try{return E.credential(b,q)}catch{return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),$a=(()=>{class E extends pi{constructor(){super("github.com")}static credential(m){return zn._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return E.credential(m.oauthAccessToken)}catch{return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class is extends Vr{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return cn(f,this.buildRequest())}_linkToIdToken(f,m){const b=this.buildRequest();return b.idToken=m,cn(f,b)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,cn(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:q,pendingToken:Ae}=m;return b&&q&&Ae&&b===q?new is(b,Ae):null}static _create(f,m){return new is(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class po extends Jo{constructor(f){te(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return po.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return po.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=is.fromJSON(f);return te(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:b}=f;if(!m||!b)return null;try{return is._create(b,m)}catch{return null}}}let Ko=(()=>{class E extends pi{constructor(){super("twitter.com")}static credential(m,b){return zn._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:q}=m;if(!b||!q)return null;try{return E.credential(b,q)}catch{return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function lo(E,f){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,d.A)(function*(E,f){return ft(E,"POST","/v1/accounts:signUp",Ve(E,f))})).apply(this,arguments)}class Eo{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,b,q=!1){return(0,d.A)(function*(){const Ae=yield lt._fromIdTokenResponse(f,b,q),_t=Pa(b);return new Eo({user:Ae,providerId:_t,_tokenResponse:b,operationType:m})})()}static _forOperation(f,m,b){return(0,d.A)(function*(){yield f._updateTokensIfNecessary(b,!0);const q=Pa(b);return new Eo({user:f,providerId:q,_tokenResponse:b,operationType:m})})()}}function Pa(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function yo(E){return ys.apply(this,arguments)}function ys(){return(ys=(0,d.A)(function*(E){var f;if((0,u._isFirebaseServerApp)(E.app))return Promise.reject(ze(E));const m=Yn(E);if(yield m._initializationPromise,null!==(f=m.currentUser)&&void 0!==f&&f.isAnonymous)return new Eo({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield lo(m,{returnSecureToken:!0}),q=yield Eo._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(q.user),q})).apply(this,arguments)}class Pi extends N.g{constructor(f,m,b,q){var Ae;super(m.code,m.message),this.operationType=b,this.user=q,Object.setPrototypeOf(this,Pi.prototype),this.customData={appName:f.name,tenantId:null!==(Ae=f.tenantId)&&void 0!==Ae?Ae:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(f,m,b,q){return new Pi(f,m,b,q)}}function qs(E,f,m,b){return("reauthenticate"===f?m._getReauthenticationResolver(E):m._getIdTokenResponse(E)).catch(Ae=>{throw"auth/multi-factor-auth-required"===Ae.code?Pi._fromErrorAndOperation(E,Ae,f,b):Ae})}function aa(E){return new Set(E.map(({providerId:f})=>f).filter(f=>!!f))}function G(E,f){return M.apply(this,arguments)}function M(){return M=(0,d.A)(function*(E,f){const m=(0,N.Ku)(E);yield be(!0,m,f);const{providerUserInfo:b}=yield function Wn(E,f){return wn.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),q=aa(b||[]);return m.providerData=m.providerData.filter(Ae=>q.has(Ae.providerId)),q.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),M.apply(this,arguments)}function Ie(E,f){return W.apply(this,arguments)}function W(){return(W=(0,d.A)(function*(E,f,m=!1){const b=yield jn(E,f._linkToIdToken(E.auth,yield E.getIdToken()),m);return Eo._forOperation(E,"link",b)})).apply(this,arguments)}function be(E,f,m){return sn.apply(this,arguments)}function sn(){return(sn=(0,d.A)(function*(E,f,m){yield Mr(f);const q=!1===E?"provider-already-linked":"no-such-provider";te(aa(f.providerData).has(m)===E,f.auth,q)})).apply(this,arguments)}function Bn(E,f){return fr.apply(this,arguments)}function fr(){return(fr=(0,d.A)(function*(E,f,m=!1){const{auth:b}=E;if((0,u._isFirebaseServerApp)(b.app))return Promise.reject(ze(b));const q="reauthenticate";try{const Ae=yield jn(E,qs(b,q,f,E),m);te(Ae.idToken,b,"internal-error");const _t=qn(Ae.idToken);te(_t,b,"internal-error");const{sub:Gt}=_t;return te(E.uid===Gt,b,"user-mismatch"),Eo._forOperation(E,q,Ae)}catch(Ae){throw"auth/user-not-found"===(null==Ae?void 0:Ae.code)&&et(b,"user-mismatch"),Ae}})).apply(this,arguments)}function go(E,f){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,d.A)(function*(E,f,m=!1){if((0,u._isFirebaseServerApp)(E.app))return Promise.reject(ze(E));const b="signIn",q=yield qs(E,b,f),Ae=yield Eo._fromIdTokenResponse(E,b,q);return m||(yield E._updateCurrentUser(Ae.user)),Ae})).apply(this,arguments)}function Xi(E,f){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,d.A)(function*(E,f){return go(Yn(E),f)})).apply(this,arguments)}function va(E,f){return ds.apply(this,arguments)}function ds(){return(ds=(0,d.A)(function*(E,f){const m=(0,N.Ku)(E);return yield be(!1,m,f.providerId),Ie(m,f)})).apply(this,arguments)}function lu(E,f){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,d.A)(function*(E,f){return Bn((0,N.Ku)(E),f)})).apply(this,arguments)}function Is(){return(Is=(0,d.A)(function*(E,f){return ft(E,"POST","/v1/accounts:signInWithCustomToken",Ve(E,f))})).apply(this,arguments)}function Ba(E,f){return uo.apply(this,arguments)}function uo(){return uo=(0,d.A)(function*(E,f){if((0,u._isFirebaseServerApp)(E.app))return Promise.reject(ze(E));const m=Yn(E),b=yield function la(E,f){return Is.apply(this,arguments)}(m,{token:f,returnSecureToken:!0}),q=yield Eo._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(q.user),q}),uo.apply(this,arguments)}class xr{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?Mi._fromServerResponse(f,m):"totpInfo"in m?ro._fromServerResponse(f,m):et(f,"internal-error")}}class Mi extends xr{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new Mi(m)}}class ro extends xr{constructor(f){super("totp",f)}static _fromServerResponse(f,m){return new ro(m)}}function Uo(E,f,m){var b;te((null===(b=m.url)||void 0===b?void 0:b.length)>0,E,"invalid-continue-uri"),te(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(te(m.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(te(m.android.packageName.length>0,E,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function sr(E){return ja.apply(this,arguments)}function ja(){return(ja=(0,d.A)(function*(E){const f=Yn(E);f._getPasswordPolicyInternal()&&(yield f._updatePasswordPolicy())})).apply(this,arguments)}function Es(E,f,m){return As.apply(this,arguments)}function As(){return(As=(0,d.A)(function*(E,f,m){const b=Yn(E),q={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};m&&Uo(b,q,m),yield Fi(b,q,"getOobCode",mr)})).apply(this,arguments)}function xl(E,f,m){return rl.apply(this,arguments)}function rl(){return rl=(0,d.A)(function*(E,f,m){yield vs((0,N.Ku)(E),{oobCode:f,newPassword:m}).catch(function(){var b=(0,d.A)(function*(q){throw"auth/password-does-not-meet-requirements"===q.code&&sr(E),q});return function(q){return b.apply(this,arguments)}}())}),rl.apply(this,arguments)}function Xs(E,f){return za.apply(this,arguments)}function za(){return za=(0,d.A)(function*(E,f){yield function wo(E,f){return ai.apply(this,arguments)}((0,N.Ku)(E),{oobCode:f})}),za.apply(this,arguments)}function Ma(E,f){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,d.A)(function*(E,f){const m=(0,N.Ku)(E),b=yield vs(m,{oobCode:f}),q=b.requestType;switch(te(q,m,"internal-error"),q){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":te(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":te(b.mfaInfo,m,"internal-error");default:te(b.email,m,"internal-error")}let Ae=null;return b.mfaInfo&&(Ae=xr._fromServerResponse(Yn(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:Ae},operation:q}})).apply(this,arguments)}function Cs(E,f){return ua.apply(this,arguments)}function ua(){return(ua=(0,d.A)(function*(E,f){const{data:m}=yield Ma((0,N.Ku)(E),f);return m.email})).apply(this,arguments)}function Qs(E,f,m){return Os.apply(this,arguments)}function Os(){return(Os=(0,d.A)(function*(E,f,m){if((0,u._isFirebaseServerApp)(E.app))return Promise.reject(ze(E));const b=Yn(E),_t=yield Fi(b,{returnSecureToken:!0,email:f,password:m,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lo).catch(vn=>{throw"auth/password-does-not-meet-requirements"===vn.code&&sr(E),vn}),Gt=yield Eo._fromIdTokenResponse(b,"signIn",_t);return yield b._updateCurrentUser(Gt.user),Gt})).apply(this,arguments)}function il(E,f,m){return(0,u._isFirebaseServerApp)(E.app)?Promise.reject(ze(E)):Xi((0,N.Ku)(E),Fo.credential(f,m)).catch(function(){var b=(0,d.A)(function*(q){throw"auth/password-does-not-meet-requirements"===q.code&&sr(E),q});return function(q){return b.apply(this,arguments)}}())}function _a(E,f,m){return qo.apply(this,arguments)}function qo(){return(qo=(0,d.A)(function*(E,f,m){const b=Yn(E),q={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};(function Ae(_t,Gt){te(Gt.handleCodeInApp,b,"argument-error"),Gt&&Uo(b,_t,Gt)})(q,m),yield Fi(b,q,"getOobCode",K)})).apply(this,arguments)}function Ys(E,f){const m=ao.parseLink(f);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}function ya(E,f,m){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,d.A)(function*(E,f,m){if((0,u._isFirebaseServerApp)(E.app))return Promise.reject(ze(E));const b=(0,N.Ku)(E),q=Fo.credentialWithLink(f,m||an());return te(q._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Xi(b,q)})).apply(this,arguments)}function Ci(){return(Ci=(0,d.A)(function*(E,f){return it(E,"POST","/v1/accounts:createAuthUri",Ve(E,f))})).apply(this,arguments)}function hs(E,f){return ks.apply(this,arguments)}function ks(){return ks=(0,d.A)(function*(E,f){const b={identifier:f,continueUri:zt()?an():"http://localhost"},{signinMethods:q}=yield function ol(E,f){return Ci.apply(this,arguments)}((0,N.Ku)(E),b);return q||[]}),ks.apply(this,arguments)}function es(E,f){return Zs.apply(this,arguments)}function Zs(){return Zs=(0,d.A)(function*(E,f){const m=(0,N.Ku)(E),q={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};f&&Uo(m.auth,q,f);const{email:Ae}=yield function Ce(E,f){return ht.apply(this,arguments)}(m.auth,q);Ae!==E.email&&(yield E.reload())}),Zs.apply(this,arguments)}function Ia(E,f,m){return Nl.apply(this,arguments)}function Nl(){return Nl=(0,d.A)(function*(E,f,m){const b=(0,N.Ku)(E),Ae={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:f};m&&Uo(b.auth,Ae,m);const{email:_t}=yield function Se(E,f){return He.apply(this,arguments)}(b.auth,Ae);_t!==E.email&&(yield E.reload())}),Nl.apply(this,arguments)}function Ts(){return(Ts=(0,d.A)(function*(E,f){return it(E,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function $o(E,f){return Fs.apply(this,arguments)}function Fs(){return Fs=(0,d.A)(function*(E,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const b=(0,N.Ku)(E),Ae={idToken:yield b.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},_t=yield jn(b,function sl(E,f){return Ts.apply(this,arguments)}(b.auth,Ae));b.displayName=_t.displayName||null,b.photoURL=_t.photoUrl||null;const Gt=b.providerData.find(({providerId:vn})=>"password"===vn);Gt&&(Gt.displayName=b.displayName,Gt.photoURL=b.photoURL),yield b._updateTokensIfNecessary(_t)}),Fs.apply(this,arguments)}function Ea(E,f){const m=(0,N.Ku)(E);return(0,u._isFirebaseServerApp)(m.auth.app)?Promise.reject(ze(m.auth)):Js(m,f,null)}function al(E,f){return Js((0,N.Ku)(E),null,f)}function Js(E,f,m){return Ds.apply(this,arguments)}function Ds(){return Ds=(0,d.A)(function*(E,f,m){const{auth:b}=E,Ae={idToken:yield E.getIdToken(),returnSecureToken:!0};f&&(Ae.email=f),m&&(Ae.password=m);const _t=yield jn(E,function No(E,f){return Oo.apply(this,arguments)}(b,Ae));yield E._updateTokensIfNecessary(_t,!0)}),Ds.apply(this,arguments)}class os{constructor(f,m,b={}){this.isNewUser=f,this.providerId=m,this.profile=b}}class C extends os{constructor(f,m,b,q){super(f,m,b),this.username=q}}class z extends os{constructor(f,m){super(f,"facebook.com",m)}}class Ne extends C{constructor(f,m){super(f,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class k extends os{constructor(f,m){super(f,"google.com",m)}}class ae extends C{constructor(f,m,b){super(f,"twitter.com",m,b)}}function je(E){const{user:f,_tokenResponse:m}=E;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function xa(E){var f,m;if(!E)return null;const{providerId:b}=E,q=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},Ae=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!b&&null!=E&&E.idToken){const _t=null===(m=null===(f=qn(E.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(_t)return new os(Ae,"anonymous"!==_t&&"custom"!==_t?_t:null)}if(!b)return null;switch(b){case"facebook.com":return new z(Ae,q);case"github.com":return new Ne(Ae,q);case"google.com":return new k(Ae,q);case"twitter.com":return new ae(Ae,q,E.screenName||null);case"custom":case"anonymous":return new os(Ae,null);default:return new os(Ae,b,q)}}(m)}function Yr(E,f,m,b){return(0,N.Ku)(E).onIdTokenChanged(f,m,b)}class xi{constructor(f,m,b){this.type=f,this.credential=m,this.user=b}static _fromIdtoken(f,m){return new xi("enroll",f,m)}static _fromMfaPendingCredential(f){return new xi("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,b;if(null!=f&&f.multiFactorSession){if(null!==(m=f.multiFactorSession)&&void 0!==m&&m.pendingCredential)return xi._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(b=f.multiFactorSession)&&void 0!==b&&b.idToken)return xi._fromIdtoken(f.multiFactorSession.idToken)}return null}}class _i{constructor(f,m,b){this.session=f,this.hints=m,this.signInResolver=b}static _fromError(f,m){const b=Yn(f),q=m.customData._serverResponse,Ae=(q.mfaInfo||[]).map(Gt=>xr._fromServerResponse(b,Gt));te(q.mfaPendingCredential,b,"internal-error");const _t=xi._fromMfaPendingCredential(q.mfaPendingCredential);return new _i(_t,Ae,function(){var Gt=(0,d.A)(function*(vn){const Zn=yield vn._process(b,_t);delete q.mfaInfo,delete q.mfaPendingCredential;const gr=Object.assign(Object.assign({},q),{idToken:Zn.idToken,refreshToken:Zn.refreshToken});switch(m.operationType){case"signIn":const di=yield Eo._fromIdTokenResponse(b,m.operationType,gr);return yield b._updateCurrentUser(di.user),di;case"reauthenticate":return te(m.user,b,"internal-error"),Eo._forOperation(m.user,m.operationType,gr);default:et(b,"internal-error")}});return function(vn){return Gt.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,d.A)(function*(){return m.signInResolver(f)})()}}function mo(E,f){var m;const b=(0,N.Ku)(E),q=f;return te(f.customData.operationType,b,"argument-error"),te(null===(m=q.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),_i._fromError(b,q)}class ss{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>xr._fromServerResponse(f.auth,b)))})}static _fromUser(f){return new ss(f)}getSession(){var f=this;return(0,d.A)(function*(){return xi._fromIdtoken(yield f.user.getIdToken(),f.user)})()}enroll(f,m){var b=this;return(0,d.A)(function*(){const q=f,Ae=yield b.getSession(),_t=yield jn(b.user,q._process(b.user.auth,Ae,m));return yield b.user._updateTokensIfNecessary(_t),b.user.reload()})()}unenroll(f){var m=this;return(0,d.A)(function*(){const b="string"==typeof f?f:f.uid,q=yield m.user.getIdToken();try{const Ae=yield jn(m.user,function Tr(E,f){return it(E,"POST","/v2/accounts/mfaEnrollment:withdraw",Ve(E,f))}(m.user.auth,{idToken:q,mfaEnrollmentId:b}));m.enrolledFactors=m.enrolledFactors.filter(({uid:_t})=>_t!==b),yield m.user._updateTokensIfNecessary(Ae),yield m.user.reload()}catch(Ae){throw Ae}})()}}const Ls=new WeakMap;function Na(E){const f=(0,N.Ku)(E);return Ls.has(f)||Ls.set(f,ss._fromUser(f)),Ls.get(f)}const ti="__sak";class Jr{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(ti,"1"),this.storage.removeItem(ti),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ao=(()=>{class E extends Jr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ca(){const E=(0,N.ZQ)();return Xr(E)||ki(E)}()&&function ke(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ee(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const q=this.storage.getItem(b),Ae=this.localCache[b];q!==Ae&&m(b,Ae,q)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((Gt,vn,Zn)=>{this.notifyListeners(Gt,Zn)});const q=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Gt=this.storage.getItem(q);if(m.newValue!==Gt)null!==m.newValue?this.storage.setItem(q,m.newValue):this.storage.removeItem(q);else if(this.localCache[q]===m.newValue&&!b)return}const Ae=()=>{const Gt=this.storage.getItem(q);!b&&this.localCache[q]===Gt||this.notifyListeners(q,Gt)},_t=this.storage.getItem(q);!function ne(){return(0,N.lT)()&&10===document.documentMode}()||_t===m.newValue||m.newValue===m.oldValue?Ae():setTimeout(Ae,10)}notifyListeners(m,b){this.localCache[m]=b;const q=this.listeners[m];if(q)for(const Ae of Array.from(q))Ae(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,q)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var q=()=>super._set,Ae=this;return(0,d.A)(function*(){yield q().call(Ae,m,b),Ae.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,q=this;return(0,d.A)(function*(){const Ae=yield b().call(q,m);return q.localCache[m]=JSON.stringify(Ae),Ae})()}_remove(m){var b=()=>super._remove,q=this;return(0,d.A)(function*(){yield b().call(q,m),delete q.localCache[m]})()}}return E.type="LOCAL",E})(),ws=(()=>{class E extends Jr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return E.type="SESSION",E})();let ul=(()=>{class E{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(Ae=>Ae.isListeningto(m));if(b)return b;const q=new E(m);return this.receivers.push(q),q}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,d.A)(function*(){const q=m,{eventId:Ae,eventType:_t,data:Gt}=q.data,vn=b.handlersMap[_t];if(null==vn||!vn.size)return;q.ports[0].postMessage({status:"ack",eventId:Ae,eventType:_t});const Zn=Array.from(vn).map(function(){var di=(0,d.A)(function*($s){return $s(q.origin,Gt)});return function($s){return di.apply(this,arguments)}}()),gr=yield function wr(E){return Promise.all(E.map(function(){var f=(0,d.A)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return f.apply(this,arguments)}}()))}(Zn);q.ports[0].postMessage({status:"done",eventId:Ae,eventType:_t,response:gr})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function Ss(E="",f=10){let m="";for(let b=0;b<f;b++)m+=Math.floor(10*Math.random());return E+m}class Rs{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,b=50){var q=this;return(0,d.A)(function*(){const Ae=typeof MessageChannel<"u"?new MessageChannel:null;if(!Ae)throw new Error("connection_unavailable");let _t,Gt;return new Promise((vn,Zn)=>{const gr=Ss("",20);Ae.port1.start();const di=setTimeout(()=>{Zn(new Error("unsupported_event"))},b);Gt={messageChannel:Ae,onMessage($s){const Cl=$s;if(Cl.data.eventId===gr)switch(Cl.data.status){case"ack":clearTimeout(di),_t=setTimeout(()=>{Zn(new Error("timeout"))},3e3);break;case"done":clearTimeout(_t),vn(Cl.data.response);break;default:clearTimeout(di),clearTimeout(_t),Zn(new Error("invalid_response"))}}},q.handlers.add(Gt),Ae.port1.addEventListener("message",Gt.onMessage),q.target.postMessage({eventType:f,eventId:gr,data:m},[Ae.port2])}).finally(()=>{Gt&&q.removeMessageHandler(Gt)})})()}}function io(){return window}function $i(){return typeof io().WorkerGlobalScope<"u"&&"function"==typeof io().importScripts}function Bo(){return(Bo=(0,d.A)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ta="firebaseLocalStorageDb",Xo="firebaseLocalStorage",Ga="fbase_key";class fl{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function uu(E,f){return E.transaction([Xo],f?"readwrite":"readonly").objectStore(Xo)}function Us(){const E=indexedDB.open(ta,1);return new Promise((f,m)=>{E.addEventListener("error",()=>{m(E.error)}),E.addEventListener("upgradeneeded",()=>{const b=E.result;try{b.createObjectStore(Xo,{keyPath:Ga})}catch(q){m(q)}}),E.addEventListener("success",(0,d.A)(function*(){const b=E.result;b.objectStoreNames.contains(Xo)?f(b):(b.close(),yield function pl(){const E=indexedDB.deleteDatabase(ta);return new fl(E).toPromise()}(),f(yield Us()))}))})}function Aa(E,f,m){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,d.A)(function*(E,f,m){const b=uu(E,!0).put({[Ga]:f,value:m});return new fl(b).toPromise()})).apply(this,arguments)}function rc(){return(rc=(0,d.A)(function*(E,f){const m=uu(E,!1).get(f),b=yield new fl(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Ca(E,f){const m=uu(E,!0).delete(f);return new fl(m).toPromise()}const I=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,d.A)(function*(){return m.db||(m.db=yield Us()),m.db})()}_withRetries(m){var b=this;return(0,d.A)(function*(){let q=0;for(;;)try{const Ae=yield b._openDb();return yield m(Ae)}catch(Ae){if(q++>3)throw Ae;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,d.A)(function*(){return $i()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,d.A)(function*(){m.receiver=ul._getInstance(function dl(){return $i()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,d.A)(function*(q,Ae){return{keyProcessed:(yield m._poll()).includes(Ae.key)}});return function(q,Ae){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,d.A)(function*(q,Ae){return["keyChanged"]});return function(q,Ae){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,d.A)(function*(){var b,q;if(m.activeServiceWorker=yield function kl(){return Bo.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Rs(m.activeServiceWorker);const Ae=yield m.sender._send("ping",{},800);Ae&&null!==(b=Ae[0])&&void 0!==b&&b.fulfilled&&null!==(q=Ae[0])&&void 0!==q&&q.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,d.A)(function*(){if(b.sender&&b.activeServiceWorker&&function jo(){var E;return(null===(E=null==navigator?void 0:navigator.serviceWorker)||void 0===E?void 0:E.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.A)(function*(){try{if(!indexedDB)return!1;const m=yield Us();return yield Aa(m,ti,"1"),yield Ca(m,ti),!0}catch{}return!1})()}_withPendingWrite(m){var b=this;return(0,d.A)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var q=this;return(0,d.A)(function*(){return q._withPendingWrite((0,d.A)(function*(){return yield q._withRetries(Ae=>Aa(Ae,m,b)),q.localCache[m]=b,q.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,d.A)(function*(){const q=yield b._withRetries(Ae=>function kd(E,f){return rc.apply(this,arguments)}(Ae,m));return b.localCache[m]=q,q})()}_remove(m){var b=this;return(0,d.A)(function*(){return b._withPendingWrite((0,d.A)(function*(){return yield b._withRetries(q=>Ca(q,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,d.A)(function*(){const b=yield m._withRetries(_t=>{const Gt=uu(_t,!1).getAll();return new fl(Gt).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const q=[],Ae=new Set;if(0!==b.length)for(const{fbase_key:_t,value:Gt}of b)Ae.add(_t),JSON.stringify(m.localCache[_t])!==JSON.stringify(Gt)&&(m.notifyListeners(_t,Gt),q.push(_t));for(const _t of Object.keys(m.localCache))m.localCache[_t]&&!Ae.has(_t)&&(m.notifyListeners(_t,null),q.push(_t));return q})()}notifyListeners(m,b){this.localCache[m]=b;const q=this.listeners[m];if(q)for(const Ae of Array.from(q))Ae(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,d.A)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})(),De=1e12;class Pt{constructor(f){this.auth=f,this.counter=De,this._widgets=new Map}render(f,m){const b=this.counter;return this._widgets.set(b,new pn(f,this.auth.name,m||{})),this.counter++,b}reset(f){var m;const b=f||De;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(f){var m;return(null===(m=this._widgets.get(f||De))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,d.A)(function*(){var b;return null===(b=m._widgets.get(f||De))||void 0===b||b.execute(),""})()}}class pn{constructor(f,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const q="string"==typeof f?document.getElementById(f):f;te(q,"argument-error",{appName:m}),this.container=q,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Bt(E){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<E;b++)f.push(m.charAt(Math.floor(62*Math.random())));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Fn=jr("rcb"),Pr=new J(3e4,6e4);class Zi{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=io().grecaptcha)||void 0===f||!f.render)}load(f,m=""){return te(function ni(E){return E.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E)}(m),f,"argument-error"),this.shouldResolveImmediately(m)&&Jn(io().grecaptcha)?Promise.resolve(io().grecaptcha):new Promise((b,q)=>{const Ae=io().setTimeout(()=>{q(we(f,"network-request-failed"))},Pr.get());io()[Fn]=()=>{io().clearTimeout(Ae),delete io()[Fn];const Gt=io().grecaptcha;if(!Gt||!Jn(Gt))return void q(we(f,"internal-error"));const vn=Gt.render;Gt.render=(Zn,gr)=>{const di=vn(Zn,gr);return this.counter++,di},this.hostLanguage=m,b(Gt)},Ln(`${function gi(){return zi.recaptchaV2Script}()}?${(0,N.Am)({onload:Fn,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(Ae),q(we(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var m;return!(null===(m=io().grecaptcha)||void 0===m||!m.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class vo{load(f){return(0,d.A)(function*(){return new Pt(f)})()}clearedOneInstance(){}}const as="recaptcha",Fl={theme:"light",type:"image"};class gl{constructor(f,m,b=Object.assign({},Fl)){this.parameters=b,this.type=as,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Yn(f),this.isInvisible="invisible"===this.parameters.size,te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const q="string"==typeof m?document.getElementById(m):m;te(q,this.auth,"argument-error"),this.container=q,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new vo:new Zi,this.validateStartingState()}verify(){var f=this;return(0,d.A)(function*(){f.assertNotDestroyed();const m=yield f.render(),b=f.getAssertedRecaptcha();return b.getResponse(m)||new Promise(Ae=>{const _t=Gt=>{Gt&&(f.tokenChangeListeners.delete(_t),Ae(Gt))};f.tokenChangeListeners.add(_t),f.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){te(!this.parameters.sitekey,this.auth,"argument-error"),te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof f)f(m);else if("string"==typeof f){const b=io()[f];"function"==typeof b&&b(m)}}}assertNotDestroyed(){te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,d.A)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,d.A)(function*(){te(zt()&&!$i(),f.auth,"internal-error"),yield function ml(){let E=null;return new Promise(f=>{"complete"!==document.readyState?(E=()=>f(),window.addEventListener("load",E)):f()}).catch(f=>{throw E&&window.removeEventListener("load",E),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function vt(E){return pt.apply(this,arguments)}(f.auth);te(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Oa{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=So._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function Kc(E,f,m){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,d.A)(function*(E,f,m){if((0,u._isFirebaseServerApp)(E.app))return Promise.reject(ze(E));const b=Yn(E),q=yield cu(b,f,(0,N.Ku)(m));return new Oa(q,Ae=>Xi(b,Ae))})).apply(this,arguments)}function Ll(E,f,m){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,d.A)(function*(E,f,m){const b=(0,N.Ku)(E);yield be(!1,b,"phone");const q=yield cu(b.auth,f,(0,N.Ku)(m));return new Oa(q,Ae=>va(b,Ae))})).apply(this,arguments)}function qc(E,f,m){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,d.A)(function*(E,f,m){const b=(0,N.Ku)(E);if((0,u._isFirebaseServerApp)(b.auth.app))return Promise.reject(ze(b.auth));const q=yield cu(b.auth,f,(0,N.Ku)(m));return new Oa(q,Ae=>lu(b,Ae))})).apply(this,arguments)}function cu(E,f,m){return Xc.apply(this,arguments)}function Xc(){return Xc=(0,d.A)(function*(E,f,m){var b;const q=yield m.verify();try{let Ae;if(te("string"==typeof q,E,"argument-error"),te(m.type===as,E,"argument-error"),Ae="string"==typeof f?{phoneNumber:f}:f,"session"in Ae){const _t=Ae.session;if("phoneNumber"in Ae)return te("enroll"===_t.type,E,"internal-error"),(yield function bs(E,f){return it(E,"POST","/v2/accounts/mfaEnrollment:start",Ve(E,f))}(E,{idToken:_t.credential,phoneEnrollmentInfo:{phoneNumber:Ae.phoneNumber,recaptchaToken:q}})).phoneSessionInfo.sessionInfo;{te("signin"===_t.type,E,"internal-error");const Gt=(null===(b=Ae.multiFactorHint)||void 0===b?void 0:b.uid)||Ae.multiFactorUid;return te(Gt,E,"missing-multi-factor-info"),(yield function D(E,f){return it(E,"POST","/v2/accounts/mfaSignIn:start",Ve(E,f))}(E,{mfaPendingCredential:_t.credential,mfaEnrollmentId:Gt,phoneSignInInfo:{recaptchaToken:q}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:_t}=yield function ir(E,f){return vr.apply(this,arguments)}(E,{phoneNumber:Ae.phoneNumber,recaptchaToken:q});return _t}}finally{m._reset()}}),Xc.apply(this,arguments)}function Ld(E,f){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,d.A)(function*(E,f){const m=(0,N.Ku)(E);if((0,u._isFirebaseServerApp)(m.auth.app))return Promise.reject(ze(m.auth));yield Ie(m,f)})).apply(this,arguments)}let ic=(()=>{class E{constructor(m){this.providerId=E.PROVIDER_ID,this.auth=Yn(m)}verifyPhoneNumber(m,b){return cu(this.auth,m,(0,N.Ku)(b))}static credential(m,b){return So._fromVerification(m,b)}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:q}=m;return b&&q?So._fromTokenResponse(b,q):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function na(E,f){return f?yn(f):(te(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class Yo extends Vr{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return cn(f,this._buildIdpRequest())}_linkToIdToken(f,m){return cn(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return cn(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function Vd(E){return go(E.auth,new Yo(E),E.bypassAuthState)}function vl(E){const{auth:f,user:m}=E;return te(m,f,"internal-error"),Bn(m,new Yo(E),E.bypassAuthState)}function du(E){return ls.apply(this,arguments)}function ls(){return(ls=(0,d.A)(function*(E){const{auth:f,user:m}=E;return te(m,f,"internal-error"),Ie(m,new Yo(E),E.bypassAuthState)})).apply(this,arguments)}class Mu{constructor(f,m,b,q,Ae=!1){this.auth=f,this.resolver=b,this.user=q,this.bypassAuthState=Ae,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,d.A)(function*(b,q){f.pendingPromise={resolve:b,reject:q};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(Ae){f.reject(Ae)}});return function(b,q){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,d.A)(function*(){const{urlResponse:b,sessionId:q,postBody:Ae,tenantId:_t,error:Gt,type:vn}=f;if(Gt)return void m.reject(Gt);const Zn={auth:m.auth,requestUri:b,sessionId:q,tenantId:_t||void 0,postBody:Ae||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(vn)(Zn))}catch(gr){m.reject(gr)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Vd;case"linkViaPopup":case"linkViaRedirect":return du;case"reauthViaPopup":case"reauthViaRedirect":return vl;default:et(this.auth,"internal-error")}}resolve(f){wt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){wt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Qc=new J(2e3,1e4);function Ud(E,f,m){return us.apply(this,arguments)}function us(){return(us=(0,d.A)(function*(E,f,m){if((0,u._isFirebaseServerApp)(E.app))return Promise.reject(we(E,"operation-not-supported-in-this-environment"));const b=Yn(E);dt(E,f,Jo);const q=na(b,m);return new zo(b,"signInViaPopup",f,q).executeNotNull()})).apply(this,arguments)}function Vl(E,f,m){return _l.apply(this,arguments)}function _l(){return(_l=(0,d.A)(function*(E,f,m){const b=(0,N.Ku)(E);if((0,u._isFirebaseServerApp)(b.auth.app))return Promise.reject(we(b.auth,"operation-not-supported-in-this-environment"));dt(b.auth,f,Jo);const q=na(b.auth,m);return new zo(b.auth,"reauthViaPopup",f,q,b).executeNotNull()})).apply(this,arguments)}function Yc(E,f,m){return hu.apply(this,arguments)}function hu(){return(hu=(0,d.A)(function*(E,f,m){const b=(0,N.Ku)(E);dt(b.auth,f,Jo);const q=na(b.auth,m);return new zo(b.auth,"linkViaPopup",f,q,b).executeNotNull()})).apply(this,arguments)}let zo=(()=>{class E extends Mu{constructor(m,b,q,Ae,_t){super(m,b,Ae,_t),this.provider=q,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var m=this;return(0,d.A)(function*(){const b=yield m.execute();return te(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,d.A)(function*(){wt(1===m.filter.length,"Popup operations only handle one event");const b=Ss();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(q=>{m.reject(q)}),m.resolver._isIframeWebStorageSupported(m.auth,q=>{q||m.reject(we(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(we(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,q;this.pollId=null!==(q=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==q&&q.closed?window.setTimeout(()=>{this.pollId=null,this.reject(we(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,Qc.get())};m()}}return E.currentPopupAction=null,E})();const fu="pendingRedirect",Ta=new Map;class pu extends Mu{constructor(f,m,b=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,d.A)(function*(){let b=Ta.get(m.auth._key());if(!b){try{const Ae=(yield function yl(E,f){return _r.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;b=()=>Promise.resolve(Ae)}catch(q){b=()=>Promise.reject(q)}Ta.set(m.auth._key(),b)}return m.bypassAuthState||Ta.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,b=this;return(0,d.A)(function*(){if("signInViaRedirect"===f.type)return m().call(b,f);if("unknown"!==f.type){if(f.eventId){const q=yield b.auth._redirectUserForId(f.eventId);if(q)return b.user=q,m().call(b,f);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,d.A)(function*(){})()}cleanUp(){}}function _r(){return(_r=(0,d.A)(function*(E,f){const m=oc(f),b=$l(E);if(!(yield b._isAvailable()))return!1;const q="true"===(yield b._get(m));return yield b._remove(m),q})).apply(this,arguments)}function qa(E,f){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,d.A)(function*(E,f){return $l(E)._set(oc(f),"true")})).apply(this,arguments)}function Ul(){Ta.clear()}function $d(E,f){Ta.set(E._key(),f)}function $l(E){return yn(E._redirectPersistence)}function oc(E){return Sr(fu,E.config.apiKey,E.name)}function ra(E,f,m){return function Bd(E,f,m){return Jc.apply(this,arguments)}(E,f,m)}function Jc(){return(Jc=(0,d.A)(function*(E,f,m){if((0,u._isFirebaseServerApp)(E.app))return Promise.reject(ze(E));const b=Yn(E);dt(E,f,Jo),yield b._initializationPromise;const q=na(b,m);return yield qa(q,b),q._openRedirect(b,f,"signInViaRedirect")})).apply(this,arguments)}function jd(E,f,m){return function Kh(E,f,m){return sc.apply(this,arguments)}(E,f,m)}function sc(){return(sc=(0,d.A)(function*(E,f,m){const b=(0,N.Ku)(E);if(dt(b.auth,f,Jo),(0,u._isFirebaseServerApp)(b.auth.app))return Promise.reject(ze(b.auth));yield b.auth._initializationPromise;const q=na(b.auth,m);yield qa(q,b.auth);const Ae=yield cs(b);return q._openRedirect(b.auth,f,"reauthViaRedirect",Ae)})).apply(this,arguments)}function ln(E,f,m){return function Gr(E,f,m){return xu.apply(this,arguments)}(E,f,m)}function xu(){return(xu=(0,d.A)(function*(E,f,m){const b=(0,N.Ku)(E);dt(b.auth,f,Jo),yield b.auth._initializationPromise;const q=na(b.auth,m);yield be(!1,b,f.providerId),yield qa(q,b.auth);const Ae=yield cs(b);return q._openRedirect(b.auth,f,"linkViaRedirect",Ae)})).apply(this,arguments)}function zd(E,f){return Di.apply(this,arguments)}function Di(){return(Di=(0,d.A)(function*(E,f){return yield Yn(E)._initializationPromise,ac(E,f,!1)})).apply(this,arguments)}function ac(E,f){return Il.apply(this,arguments)}function Il(){return(Il=(0,d.A)(function*(E,f,m=!1){if((0,u._isFirebaseServerApp)(E.app))return Promise.reject(ze(E));const b=Yn(E),q=na(b,f),_t=yield new pu(b,q,m).execute();return _t&&!m&&(delete _t.user._redirectEventId,yield b._persistUserIfCurrent(_t.user),yield b._setRedirectUser(null,f)),_t})).apply(this,arguments)}function cs(E){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,d.A)(function*(E){const f=Ss(`${E.uid}:::`);return E._redirectEventId=f,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),f})).apply(this,arguments)}class ed{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(f,b)&&(m=!0,this.sendToConsumer(f,b),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function ts(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uc(E);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var b;if(f.error&&!uc(f)){const q=(null===(b=f.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(we(this.auth,q))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const b=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&b}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(qh(f))}saveEventToCache(f){this.cachedEventUids.add(qh(f)),this.lastProcessedEventTime=Date.now()}}function qh(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(f=>f).join("-")}function uc({type:E,error:f}){return"unknown"===E&&"auth/no-auth-event"===(null==f?void 0:f.code)}function da(E){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,d.A)(function*(E,f={}){return it(E,"GET","/v1/projects",f)})).apply(this,arguments)}const Wi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ha=/^https?/;function Nu(){return(Nu=(0,d.A)(function*(E){if(E.config.emulator)return;const{authorizedDomains:f}=yield da(E);for(const m of f)try{if(Wd(m))return}catch{}et(E,"unauthorized-domain")})).apply(this,arguments)}function Wd(E){const f=an(),{protocol:m,hostname:b}=new URL(f);if(E.startsWith("chrome-extension://")){const _t=new URL(E);return""===_t.hostname&&""===b?"chrome-extension:"===m&&E.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&_t.hostname===b}if(!ha.test(m))return!1;if(Wi.test(E))return b===E;const q=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+q+"|"+q+")$","i").test(b)}const cc=new J(3e4,6e4);function dc(){const E=io().___jsl;if(null!=E&&E.H)for(const f of Object.keys(E.H))if(E.H[f].r=E.H[f].r||[],E.H[f].L=E.H[f].L||[],E.H[f].r=[...E.H[f].L],E.CP)for(let m=0;m<E.CP.length;m++)E.CP[m]=null}let Qa=null;const Gd=new J(5e3,15e3),fc="__/auth/iframe",Ou="emulator/auth/iframe",gu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ku=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pc(E){const f=E.config;te(f.authDomain,E,"auth-domain-config-required");const m=f.emulator?B(f,Ou):`https://${E.config.authDomain}/${fc}`,b={apiKey:f.apiKey,appName:E.name,v:u.SDK_VERSION},q=ku.get(E.config.apiHost);q&&(b.eid=q);const Ae=E._getFrameworks();return Ae.length&&(b.fw=Ae.join(",")),`${m}?${(0,N.Am)(b).slice(1)}`}function Lu(){return Lu=(0,d.A)(function*(E){const f=yield function hc(E){return Qa=Qa||function jl(E){return new Promise((f,m)=>{var b,q,Ae;function _t(){dc(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{dc(),m(we(E,"network-request-failed"))},timeout:cc.get()})}if(null!==(q=null===(b=io().gapi)||void 0===b?void 0:b.iframes)&&void 0!==q&&q.Iframe)f(gapi.iframes.getContext());else{if(null===(Ae=io().gapi)||void 0===Ae||!Ae.load){const Gt=jr("iframefcb");return io()[Gt]=()=>{gapi.load?_t():m(we(E,"network-request-failed"))},Ln(`${function Ei(){return zi.gapiScript}()}?onload=${Gt}`).catch(vn=>m(vn))}_t()}}).catch(f=>{throw Qa=null,f})}(E),Qa}(E),m=io().gapi;return te(m,E,"internal-error"),f.open({where:document.body,url:pc(E),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gu,dontclear:!0},b=>new Promise(function(){var q=(0,d.A)(function*(Ae,_t){yield b.restyle({setHideOnLeave:!1});const Gt=we(E,"network-request-failed"),vn=io().setTimeout(()=>{_t(Gt)},Gd.get());function Zn(){io().clearTimeout(vn),Ae(b)}b.ping(Zn).then(Zn,()=>{_t(Gt)})});return function(Ae,_t){return q.apply(this,arguments)}}()))}),Lu.apply(this,arguments)}const Kd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class qd{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const mc="__/auth/handler",j="emulator/auth/handler",U=encodeURIComponent("fac");function me(E,f,m,b,q,Ae){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,d.A)(function*(E,f,m,b,q,Ae){te(E.config.authDomain,E,"auth-domain-config-required"),te(E.config.apiKey,E,"invalid-api-key");const _t={apiKey:E.config.apiKey,appName:E.name,authType:m,redirectUrl:b,v:u.SDK_VERSION,eventId:q};if(f instanceof Jo){f.setDefaultLanguage(E.languageCode),_t.providerId=f.providerId||"",(0,N.Im)(f.getCustomParameters())||(_t.customParameters=JSON.stringify(f.getCustomParameters()));for(const[gr,di]of Object.entries(Ae||{}))_t[gr]=di}if(f instanceof pi){const gr=f.getScopes().filter(di=>""!==di);gr.length>0&&(_t.scopes=gr.join(","))}E.tenantId&&(_t.tid=E.tenantId);const Gt=_t;for(const gr of Object.keys(Gt))void 0===Gt[gr]&&delete Gt[gr];const vn=yield E._getAppCheckToken(),Zn=vn?`#${U}=${encodeURIComponent(vn)}`:"";return`${function gt({config:E}){return E.emulator?B(E,j):`https://${E.authDomain}/${mc}`}(E)}?${(0,N.Am)(Gt).slice(1)}${Zn}`})).apply(this,arguments)}const Wt="webStorageSupport",Gn=class mn{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ws,this._completeRedirectFn=ac,this._overrideRedirectResult=$d}_openPopup(f,m,b,q){var Ae=this;return(0,d.A)(function*(){var _t;wt(null===(_t=Ae.eventManagers[f._key()])||void 0===_t?void 0:_t.manager,"_initialize() not called before _openPopup()");const Gt=yield me(f,m,b,an(),q);return function Xd(E,f,m,b=500,q=600){const Ae=Math.max((window.screen.availHeight-q)/2,0).toString(),_t=Math.max((window.screen.availWidth-b)/2,0).toString();let Gt="";const vn=Object.assign(Object.assign({},Kd),{width:b.toString(),height:q.toString(),top:Ae,left:_t}),Zn=(0,N.ZQ)().toLowerCase();m&&(Gt=oi(Zn)?"_blank":m),nr(Zn)&&(f=f||"http://localhost",vn.scrollbars="yes");const gr=Object.entries(vn).reduce(($s,[Cl,Tl])=>`${$s}${Cl}=${Tl},`,"");if(function $t(E=(0,N.ZQ)()){var f;return ki(E)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(Zn)&&"_self"!==Gt)return function gc(E,f){const m=document.createElement("a");m.href=E,m.target=f;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(f||"",Gt),new qd(null);const di=window.open(f||"",Gt,gr);te(di,E,"popup-blocked");try{di.focus()}catch{}return new qd(di)}(f,Gt,Ss())})()}_openRedirect(f,m,b,q){var Ae=this;return(0,d.A)(function*(){return yield Ae._originValidation(f),function cl(E){io().location.href=E}(yield me(f,m,b,an(),q)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:q,promise:Ae}=this.eventManagers[m];return q?Promise.resolve(q):(wt(Ae,"If manager is not set, promise should be"),Ae)}const b=this.initAndGetManager(f);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(f){var m=this;return(0,d.A)(function*(){const b=yield function Fu(E){return Lu.apply(this,arguments)}(f),q=new ed(f);return b.register("authEvent",Ae=>(te(null==Ae?void 0:Ae.authEvent,f,"invalid-auth-event"),{status:q.onEvent(Ae.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:q},m.iframes[f._key()]=b,q})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(Wt,{type:Wt},q=>{var Ae;const _t=null===(Ae=null==q?void 0:q[0])||void 0===Ae?void 0:Ae[Wt];void 0!==_t&&m(!!_t),et(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Hd(E){return Nu.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return ee()||Xr()||ki()}};class Hn{constructor(f){this.factorId=f}_process(f,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,b);case"signin":return this._finalizeSignIn(f,m.credential);default:return Dt("unexpected MultiFactorSessionType")}}}class yr extends Hn{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new yr(f)}_finalizeEnroll(f,m,b){return function Ui(E,f){return it(E,"POST","/v2/accounts/mfaEnrollment:finalize",Ve(E,f))}(f,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function P(E,f){return it(E,"POST","/v2/accounts/mfaSignIn:finalize",Ve(E,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Kr=(()=>{class E{constructor(){}static assertion(m){return yr._fromCredential(m)}}return E.FACTOR_ID="phone",E})();var Ho="@firebase/auth";class ia{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,d.A)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(b=>{f((null==b?void 0:b.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);m&&(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const fa=(0,N.XA)("authIdTokenMaxAge")||300;let Al=null;const Ya=E=>function(){var f=(0,d.A)(function*(m){const b=m&&(yield m.getIdTokenResult()),q=b&&((new Date).getTime()-Date.parse(b.issuedAtTime))/1e3;if(q&&q>fa)return;const Ae=null==b?void 0:b.token;Al!==Ae&&(Al=Ae,yield fetch(E,{method:Ae?"POST":"DELETE",headers:Ae?{Authorization:`Bearer ${Ae}`}:{}}))});return function(m){return f.apply(this,arguments)}}();function ba(E=(0,u.getApp)()){const f=(0,u._getProvider)(E,"auth");if(f.isInitialized())return f.getImmediate();const m=function Li(E,f){const m=(0,u._getProvider)(E,"auth");if(m.isInitialized()){const q=m.getImmediate(),Ae=m.getOptions();if((0,N.bD)(Ae,null!=f?f:{}))return q;et(q,"already-initialized")}return m.initialize({options:f})}(E,{popupRedirectResolver:Gn,persistence:[I,Ao,ws]}),b=(0,N.XA)("authTokenSyncURL");if(b&&"boolean"==typeof isSecureContext&&isSecureContext){const Ae=new URL(b,location.origin);if(location.origin===Ae.origin){const _t=Ya(Ae.toString());(function kr(E,f,m){(0,N.Ku)(E).beforeAuthStateChanged(f,m)})(m,_t,()=>_t(m.currentUser)),Yr(m,Gt=>_t(Gt))}}const q=(0,N.Tj)("auth");return q&&Io(m,`http://${q}`),m}(function Ii(E){zi=E})({loadJS:E=>new Promise((f,m)=>{const b=document.createElement("script");b.setAttribute("src",E),b.onload=f,b.onerror=q=>{const Ae=we("internal-error");Ae.customData=q,m(Ae)},b.type="text/javascript",b.charset="UTF-8",function Za(){var E,f;return null!==(f=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==f?f:document}().appendChild(b)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function ns(E){(0,u._registerComponent)(new Be.uA("auth",(f,{options:m})=>{const b=f.getProvider("app").getImmediate(),q=f.getProvider("heartbeat"),Ae=f.getProvider("app-check-internal"),{apiKey:_t,authDomain:Gt}=b.options;te(_t&&!_t.includes(":"),"invalid-api-key",{appName:b.name});const vn={apiKey:_t,authDomain:Gt,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oe(E)},Zn=new rr(b,q,Ae,vn);return function Hi(E,f){const m=(null==f?void 0:f.persistence)||[],b=(Array.isArray(m)?m:[m]).map(yn);null!=f&&f.errorMap&&E._updateErrorMap(f.errorMap),E._initializeWithPersistence(b,null==f?void 0:f.popupRedirectResolver)}(Zn,m),Zn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,b)=>{f.getProvider("auth-internal").initialize()})),(0,u._registerComponent)(new Be.uA("auth-internal",f=>{const m=Yn(f.getProvider("auth").getImmediate());return new ia(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,u.registerVersion)(Ho,"1.7.4",function Da(E){switch(E){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(E)),(0,u.registerVersion)(Ho,"1.7.4","esm2017")}("Browser")},9583:(Dn,At,O)=>{"use strict";O.d(At,{fS:()=>Bf,Ix:()=>yu,H6:()=>AI,T1:()=>Zo,Wq:()=>Iu,uY:()=>Wu,W6:()=>B,Ci:()=>Mf,YQ:()=>Mc,NJ:()=>xc,Dc:()=>bn,GA:()=>Id,cm:()=>ar,K$:()=>Qt,FA:()=>rn,lo:()=>li,bI:()=>Tn,qG:()=>Fr,qi:()=>wt,c8:()=>Zm,gS:()=>gh,C3:()=>Oy,hq:()=>Wf,me:()=>rv,rJ:()=>my,Cs:()=>Hu,vN:()=>Jm,kd:()=>Av,CL:()=>Rv,LA:()=>TI,H9:()=>gd,ol:()=>_g,Q5:()=>_u,Os:()=>ov,FD:()=>Cy,rf:()=>vv,Ws:()=>Mo,z6:()=>yd,x7:()=>Iv,nY:()=>jf,_e:()=>by,GG:()=>wy,kU:()=>Ev,Rr:()=>Sy,aU:()=>_y,GV:()=>Pv,AB:()=>PI,$1:()=>Ay,po:()=>DI,St:()=>yg,aQ:()=>zf,FC:()=>Mg,My:()=>RI,P:()=>Ey,B:()=>ev,yx:()=>vy,c4:()=>mh,O5:()=>Fg,BN:()=>Ry,He:()=>St,lN:()=>Pg,HM:()=>wg,EO:()=>$f,mZ:()=>Py,iB:()=>iv,_M:()=>SI});var xe,Qe,d=O(467),u=O(7852),N=O(1362),Te=O(8041),de=O(1076),Be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ce={};(function(){var l;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function c(Rt,Ze,Ct){Ct||(Ct=0);var xt=Array(16);if("string"==typeof Ze)for(var Vt=0;16>Vt;++Vt)xt[Vt]=Ze.charCodeAt(Ct++)|Ze.charCodeAt(Ct++)<<8|Ze.charCodeAt(Ct++)<<16|Ze.charCodeAt(Ct++)<<24;else for(Vt=0;16>Vt;++Vt)xt[Vt]=Ze[Ct++]|Ze[Ct++]<<8|Ze[Ct++]<<16|Ze[Ct++]<<24;var Kt=Rt.g[3],yt=(Ze=Rt.g[0])+(Kt^(Ct=Rt.g[1])&((Vt=Rt.g[2])^Kt))+xt[0]+3614090360&4294967295;yt=(Ct=(Vt=(Kt=(Ze=(Ct=(Vt=(Kt=(Ze=(Ct=(Vt=(Kt=(Ze=(Ct=(Vt=(Kt=(Ze=(Ct=(Vt=(Kt=(Ze=(Ct=(Vt=(Kt=(Ze=(Ct=(Vt=(Kt=(Ze=(Ct=(Vt=(Kt=(Ze=(Ct=(Vt=(Kt=(Ze=(Ct=(Vt=(Kt=(Ze=(Ct=(Vt=(Kt=(Ze=(Ct=(Vt=(Kt=(Ze=(Ct=(Vt=(Kt=(Ze=(Ct=(Vt=(Kt=(Ze=(Ct=(Vt=(Kt=(Ze=Ct+(yt<<7&4294967295|yt>>>25))+((yt=Kt+(Vt^Ze&(Ct^Vt))+xt[1]+3905402710&4294967295)<<12&4294967295|yt>>>20))+((yt=Vt+(Ct^Kt&(Ze^Ct))+xt[2]+606105819&4294967295)<<17&4294967295|yt>>>15))+((yt=Ct+(Ze^Vt&(Kt^Ze))+xt[3]+3250441966&4294967295)<<22&4294967295|yt>>>10))+((yt=Ze+(Kt^Ct&(Vt^Kt))+xt[4]+4118548399&4294967295)<<7&4294967295|yt>>>25))+((yt=Kt+(Vt^Ze&(Ct^Vt))+xt[5]+1200080426&4294967295)<<12&4294967295|yt>>>20))+((yt=Vt+(Ct^Kt&(Ze^Ct))+xt[6]+2821735955&4294967295)<<17&4294967295|yt>>>15))+((yt=Ct+(Ze^Vt&(Kt^Ze))+xt[7]+4249261313&4294967295)<<22&4294967295|yt>>>10))+((yt=Ze+(Kt^Ct&(Vt^Kt))+xt[8]+1770035416&4294967295)<<7&4294967295|yt>>>25))+((yt=Kt+(Vt^Ze&(Ct^Vt))+xt[9]+2336552879&4294967295)<<12&4294967295|yt>>>20))+((yt=Vt+(Ct^Kt&(Ze^Ct))+xt[10]+4294925233&4294967295)<<17&4294967295|yt>>>15))+((yt=Ct+(Ze^Vt&(Kt^Ze))+xt[11]+2304563134&4294967295)<<22&4294967295|yt>>>10))+((yt=Ze+(Kt^Ct&(Vt^Kt))+xt[12]+1804603682&4294967295)<<7&4294967295|yt>>>25))+((yt=Kt+(Vt^Ze&(Ct^Vt))+xt[13]+4254626195&4294967295)<<12&4294967295|yt>>>20))+((yt=Vt+(Ct^Kt&(Ze^Ct))+xt[14]+2792965006&4294967295)<<17&4294967295|yt>>>15))+((yt=Ct+(Ze^Vt&(Kt^Ze))+xt[15]+1236535329&4294967295)<<22&4294967295|yt>>>10))+((yt=Ze+(Vt^Kt&(Ct^Vt))+xt[1]+4129170786&4294967295)<<5&4294967295|yt>>>27))+((yt=Kt+(Ct^Vt&(Ze^Ct))+xt[6]+3225465664&4294967295)<<9&4294967295|yt>>>23))+((yt=Vt+(Ze^Ct&(Kt^Ze))+xt[11]+643717713&4294967295)<<14&4294967295|yt>>>18))+((yt=Ct+(Kt^Ze&(Vt^Kt))+xt[0]+3921069994&4294967295)<<20&4294967295|yt>>>12))+((yt=Ze+(Vt^Kt&(Ct^Vt))+xt[5]+3593408605&4294967295)<<5&4294967295|yt>>>27))+((yt=Kt+(Ct^Vt&(Ze^Ct))+xt[10]+38016083&4294967295)<<9&4294967295|yt>>>23))+((yt=Vt+(Ze^Ct&(Kt^Ze))+xt[15]+3634488961&4294967295)<<14&4294967295|yt>>>18))+((yt=Ct+(Kt^Ze&(Vt^Kt))+xt[4]+3889429448&4294967295)<<20&4294967295|yt>>>12))+((yt=Ze+(Vt^Kt&(Ct^Vt))+xt[9]+568446438&4294967295)<<5&4294967295|yt>>>27))+((yt=Kt+(Ct^Vt&(Ze^Ct))+xt[14]+3275163606&4294967295)<<9&4294967295|yt>>>23))+((yt=Vt+(Ze^Ct&(Kt^Ze))+xt[3]+4107603335&4294967295)<<14&4294967295|yt>>>18))+((yt=Ct+(Kt^Ze&(Vt^Kt))+xt[8]+1163531501&4294967295)<<20&4294967295|yt>>>12))+((yt=Ze+(Vt^Kt&(Ct^Vt))+xt[13]+2850285829&4294967295)<<5&4294967295|yt>>>27))+((yt=Kt+(Ct^Vt&(Ze^Ct))+xt[2]+4243563512&4294967295)<<9&4294967295|yt>>>23))+((yt=Vt+(Ze^Ct&(Kt^Ze))+xt[7]+1735328473&4294967295)<<14&4294967295|yt>>>18))+((yt=Ct+(Kt^Ze&(Vt^Kt))+xt[12]+2368359562&4294967295)<<20&4294967295|yt>>>12))+((yt=Ze+(Ct^Vt^Kt)+xt[5]+4294588738&4294967295)<<4&4294967295|yt>>>28))+((yt=Kt+(Ze^Ct^Vt)+xt[8]+2272392833&4294967295)<<11&4294967295|yt>>>21))+((yt=Vt+(Kt^Ze^Ct)+xt[11]+1839030562&4294967295)<<16&4294967295|yt>>>16))+((yt=Ct+(Vt^Kt^Ze)+xt[14]+4259657740&4294967295)<<23&4294967295|yt>>>9))+((yt=Ze+(Ct^Vt^Kt)+xt[1]+2763975236&4294967295)<<4&4294967295|yt>>>28))+((yt=Kt+(Ze^Ct^Vt)+xt[4]+1272893353&4294967295)<<11&4294967295|yt>>>21))+((yt=Vt+(Kt^Ze^Ct)+xt[7]+4139469664&4294967295)<<16&4294967295|yt>>>16))+((yt=Ct+(Vt^Kt^Ze)+xt[10]+3200236656&4294967295)<<23&4294967295|yt>>>9))+((yt=Ze+(Ct^Vt^Kt)+xt[13]+681279174&4294967295)<<4&4294967295|yt>>>28))+((yt=Kt+(Ze^Ct^Vt)+xt[0]+3936430074&4294967295)<<11&4294967295|yt>>>21))+((yt=Vt+(Kt^Ze^Ct)+xt[3]+3572445317&4294967295)<<16&4294967295|yt>>>16))+((yt=Ct+(Vt^Kt^Ze)+xt[6]+76029189&4294967295)<<23&4294967295|yt>>>9))+((yt=Ze+(Ct^Vt^Kt)+xt[9]+3654602809&4294967295)<<4&4294967295|yt>>>28))+((yt=Kt+(Ze^Ct^Vt)+xt[12]+3873151461&4294967295)<<11&4294967295|yt>>>21))+((yt=Vt+(Kt^Ze^Ct)+xt[15]+530742520&4294967295)<<16&4294967295|yt>>>16))+((yt=Ct+(Vt^Kt^Ze)+xt[2]+3299628645&4294967295)<<23&4294967295|yt>>>9))+((yt=Ze+(Vt^(Ct|~Kt))+xt[0]+4096336452&4294967295)<<6&4294967295|yt>>>26))+((yt=Kt+(Ct^(Ze|~Vt))+xt[7]+1126891415&4294967295)<<10&4294967295|yt>>>22))+((yt=Vt+(Ze^(Kt|~Ct))+xt[14]+2878612391&4294967295)<<15&4294967295|yt>>>17))+((yt=Ct+(Kt^(Vt|~Ze))+xt[5]+4237533241&4294967295)<<21&4294967295|yt>>>11))+((yt=Ze+(Vt^(Ct|~Kt))+xt[12]+1700485571&4294967295)<<6&4294967295|yt>>>26))+((yt=Kt+(Ct^(Ze|~Vt))+xt[3]+2399980690&4294967295)<<10&4294967295|yt>>>22))+((yt=Vt+(Ze^(Kt|~Ct))+xt[10]+4293915773&4294967295)<<15&4294967295|yt>>>17))+((yt=Ct+(Kt^(Vt|~Ze))+xt[1]+2240044497&4294967295)<<21&4294967295|yt>>>11))+((yt=Ze+(Vt^(Ct|~Kt))+xt[8]+1873313359&4294967295)<<6&4294967295|yt>>>26))+((yt=Kt+(Ct^(Ze|~Vt))+xt[15]+4264355552&4294967295)<<10&4294967295|yt>>>22))+((yt=Vt+(Ze^(Kt|~Ct))+xt[6]+2734768916&4294967295)<<15&4294967295|yt>>>17))+((yt=Ct+(Kt^(Vt|~Ze))+xt[13]+1309151649&4294967295)<<21&4294967295|yt>>>11))+((Kt=(Ze=Ct+((yt=Ze+(Vt^(Ct|~Kt))+xt[4]+4149444226&4294967295)<<6&4294967295|yt>>>26))+((yt=Kt+(Ct^(Ze|~Vt))+xt[11]+3174756917&4294967295)<<10&4294967295|yt>>>22))^((Vt=Kt+((yt=Vt+(Ze^(Kt|~Ct))+xt[2]+718787259&4294967295)<<15&4294967295|yt>>>17))|~Ze))+xt[9]+3951481745&4294967295,Rt.g[0]=Rt.g[0]+Ze&4294967295,Rt.g[1]=Rt.g[1]+(Vt+(yt<<21&4294967295|yt>>>11))&4294967295,Rt.g[2]=Rt.g[2]+Vt&4294967295,Rt.g[3]=Rt.g[3]+Kt&4294967295}function _(Rt,Ze){this.h=Ze;for(var Ct=[],xt=!0,Vt=Rt.length-1;0<=Vt;Vt--){var Kt=0|Rt[Vt];xt&&Kt==Ze||(Ct[Vt]=Kt,xt=!1)}this.g=Ct}(function n(Rt,Ze){function Ct(){}Ct.prototype=Ze.prototype,Rt.D=Ze.prototype,Rt.prototype=new Ct,Rt.prototype.constructor=Rt,Rt.C=function(xt,Vt,Kt){for(var yt=Array(arguments.length-2),Au=2;Au<arguments.length;Au++)yt[Au-2]=arguments[Au];return Ze.prototype[Vt].apply(xt,yt)}})(s,function i(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(Rt,Ze){void 0===Ze&&(Ze=Rt.length);for(var Ct=Ze-this.blockSize,xt=this.B,Vt=this.h,Kt=0;Kt<Ze;){if(0==Vt)for(;Kt<=Ct;)c(this,Rt,Kt),Kt+=this.blockSize;if("string"==typeof Rt){for(;Kt<Ze;)if(xt[Vt++]=Rt.charCodeAt(Kt++),Vt==this.blockSize){c(this,xt),Vt=0;break}}else for(;Kt<Ze;)if(xt[Vt++]=Rt[Kt++],Vt==this.blockSize){c(this,xt),Vt=0;break}}this.h=Vt,this.o+=Ze},s.prototype.v=function(){var Rt=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Rt[0]=128;for(var Ze=1;Ze<Rt.length-8;++Ze)Rt[Ze]=0;var Ct=8*this.o;for(Ze=Rt.length-8;Ze<Rt.length;++Ze)Rt[Ze]=255&Ct,Ct/=256;for(this.u(Rt),Rt=Array(16),Ze=Ct=0;4>Ze;++Ze)for(var xt=0;32>xt;xt+=8)Rt[Ct++]=this.g[Ze]>>>xt&255;return Rt};var w={};function L(Rt){return-128<=Rt&&128>Rt?function p(Rt,Ze){var Ct=w;return Object.prototype.hasOwnProperty.call(Ct,Rt)?Ct[Rt]:Ct[Rt]=Ze(Rt)}(Rt,function(Ze){return new _([0|Ze],0>Ze?-1:0)}):new _([0|Rt],0>Rt?-1:0)}function X(Rt){if(isNaN(Rt)||!isFinite(Rt))return Fe;if(0>Rt)return Cn(X(-Rt));for(var Ze=[],Ct=1,xt=0;Rt>=Ct;xt++)Ze[xt]=Rt/Ct|0,Ct*=4294967296;return new _(Ze,0)}var Fe=L(0),ut=L(1),Ht=L(16777216);function fn(Rt){if(0!=Rt.h)return!1;for(var Ze=0;Ze<Rt.g.length;Ze++)if(0!=Rt.g[Ze])return!1;return!0}function xn(Rt){return-1==Rt.h}function Cn(Rt){for(var Ze=Rt.g.length,Ct=[],xt=0;xt<Ze;xt++)Ct[xt]=~Rt.g[xt];return new _(Ct,~Rt.h).add(ut)}function cr(Rt,Ze){return Rt.add(Cn(Ze))}function Cr(Rt,Ze){for(;(65535&Rt[Ze])!=Rt[Ze];)Rt[Ze+1]+=Rt[Ze]>>>16,Rt[Ze]&=65535,Ze++}function Xn(Rt,Ze){this.g=Rt,this.h=Ze}function Hr(Rt,Ze){if(fn(Ze))throw Error("division by zero");if(fn(Rt))return new Xn(Fe,Fe);if(xn(Rt))return Ze=Hr(Cn(Rt),Ze),new Xn(Cn(Ze.g),Cn(Ze.h));if(xn(Ze))return Ze=Hr(Rt,Cn(Ze)),new Xn(Cn(Ze.g),Ze.h);if(30<Rt.g.length){if(xn(Rt)||xn(Ze))throw Error("slowDivide_ only works with positive integers.");for(var Ct=ut,xt=Ze;0>=xt.l(Rt);)Ct=ji(Ct),xt=ji(xt);var Vt=hi(Ct,1),Kt=hi(xt,1);for(xt=hi(xt,2),Ct=hi(Ct,2);!fn(xt);){var yt=Kt.add(xt);0>=yt.l(Rt)&&(Vt=Vt.add(Ct),Kt=yt),xt=hi(xt,1),Ct=hi(Ct,1)}return Ze=cr(Rt,Vt.j(Ze)),new Xn(Vt,Ze)}for(Vt=Fe;0<=Rt.l(Ze);){for(Ct=Math.max(1,Math.floor(Rt.m()/Ze.m())),xt=48>=(xt=Math.ceil(Math.log(Ct)/Math.LN2))?1:Math.pow(2,xt-48),yt=(Kt=X(Ct)).j(Ze);xn(yt)||0<yt.l(Rt);)yt=(Kt=X(Ct-=xt)).j(Ze);fn(Kt)&&(Kt=ut),Vt=Vt.add(Kt),Rt=cr(Rt,yt)}return new Xn(Vt,Rt)}function ji(Rt){for(var Ze=Rt.g.length+1,Ct=[],xt=0;xt<Ze;xt++)Ct[xt]=Rt.i(xt)<<1|Rt.i(xt-1)>>>31;return new _(Ct,Rt.h)}function hi(Rt,Ze){var Ct=Ze>>5;Ze%=32;for(var xt=Rt.g.length-Ct,Vt=[],Kt=0;Kt<xt;Kt++)Vt[Kt]=0<Ze?Rt.i(Kt+Ct)>>>Ze|Rt.i(Kt+Ct+1)<<32-Ze:Rt.i(Kt+Ct);return new _(Vt,Rt.h)}(l=_.prototype).m=function(){if(xn(this))return-Cn(this).m();for(var Rt=0,Ze=1,Ct=0;Ct<this.g.length;Ct++){var xt=this.i(Ct);Rt+=(0<=xt?xt:4294967296+xt)*Ze,Ze*=4294967296}return Rt},l.toString=function(Rt){if(2>(Rt=Rt||10)||36<Rt)throw Error("radix out of range: "+Rt);if(fn(this))return"0";if(xn(this))return"-"+Cn(this).toString(Rt);for(var Ze=X(Math.pow(Rt,6)),Ct=this,xt="";;){var Vt=Hr(Ct,Ze).g,Kt=((0<(Ct=cr(Ct,Vt.j(Ze))).g.length?Ct.g[0]:Ct.h)>>>0).toString(Rt);if(fn(Ct=Vt))return Kt+xt;for(;6>Kt.length;)Kt="0"+Kt;xt=Kt+xt}},l.i=function(Rt){return 0>Rt?0:Rt<this.g.length?this.g[Rt]:this.h},l.l=function(Rt){return xn(Rt=cr(this,Rt))?-1:fn(Rt)?0:1},l.abs=function(){return xn(this)?Cn(this):this},l.add=function(Rt){for(var Ze=Math.max(this.g.length,Rt.g.length),Ct=[],xt=0,Vt=0;Vt<=Ze;Vt++){var Kt=xt+(65535&this.i(Vt))+(65535&Rt.i(Vt)),yt=(Kt>>>16)+(this.i(Vt)>>>16)+(Rt.i(Vt)>>>16);xt=yt>>>16,Ct[Vt]=(yt&=65535)<<16|(Kt&=65535)}return new _(Ct,-2147483648&Ct[Ct.length-1]?-1:0)},l.j=function(Rt){if(fn(this)||fn(Rt))return Fe;if(xn(this))return xn(Rt)?Cn(this).j(Cn(Rt)):Cn(Cn(this).j(Rt));if(xn(Rt))return Cn(this.j(Cn(Rt)));if(0>this.l(Ht)&&0>Rt.l(Ht))return X(this.m()*Rt.m());for(var Ze=this.g.length+Rt.g.length,Ct=[],xt=0;xt<2*Ze;xt++)Ct[xt]=0;for(xt=0;xt<this.g.length;xt++)for(var Vt=0;Vt<Rt.g.length;Vt++){var Kt=this.i(xt)>>>16,yt=65535&this.i(xt),Au=Rt.i(Vt)>>>16,kc=65535&Rt.i(Vt);Ct[2*xt+2*Vt]+=yt*kc,Cr(Ct,2*xt+2*Vt),Ct[2*xt+2*Vt+1]+=Kt*kc,Cr(Ct,2*xt+2*Vt+1),Ct[2*xt+2*Vt+1]+=yt*Au,Cr(Ct,2*xt+2*Vt+1),Ct[2*xt+2*Vt+2]+=Kt*Au,Cr(Ct,2*xt+2*Vt+2)}for(xt=0;xt<Ze;xt++)Ct[xt]=Ct[2*xt+1]<<16|Ct[2*xt];for(xt=Ze;xt<2*Ze;xt++)Ct[xt]=0;return new _(Ct,0)},l.A=function(Rt){return Hr(this,Rt).h},l.and=function(Rt){for(var Ze=Math.max(this.g.length,Rt.g.length),Ct=[],xt=0;xt<Ze;xt++)Ct[xt]=this.i(xt)&Rt.i(xt);return new _(Ct,this.h&Rt.h)},l.or=function(Rt){for(var Ze=Math.max(this.g.length,Rt.g.length),Ct=[],xt=0;xt<Ze;xt++)Ct[xt]=this.i(xt)|Rt.i(xt);return new _(Ct,this.h|Rt.h)},l.xor=function(Rt){for(var Ze=Math.max(this.g.length,Rt.g.length),Ct=[],xt=0;xt<Ze;xt++)Ct[xt]=this.i(xt)^Rt.i(xt);return new _(Ct,this.h^Rt.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Qe=ce.Md5=s,_.prototype.add=_.prototype.add,_.prototype.multiply=_.prototype.j,_.prototype.modulo=_.prototype.A,_.prototype.compare=_.prototype.l,_.prototype.toNumber=_.prototype.m,_.prototype.toString=_.prototype.toString,_.prototype.getBits=_.prototype.i,_.fromNumber=X,_.fromString=function ge(Rt,Ze){if(0==Rt.length)throw Error("number format error: empty string");if(2>(Ze=Ze||10)||36<Ze)throw Error("radix out of range: "+Ze);if("-"==Rt.charAt(0))return Cn(ge(Rt.substring(1),Ze));if(0<=Rt.indexOf("-"))throw Error('number format error: interior "-" character');for(var Ct=X(Math.pow(Ze,8)),xt=Fe,Vt=0;Vt<Rt.length;Vt+=8){var Kt=Math.min(8,Rt.length-Vt),yt=parseInt(Rt.substring(Vt,Vt+Kt),Ze);8>Kt?(Kt=X(Math.pow(Ze,Kt)),xt=xt.j(Kt).add(X(yt))):xt=(xt=xt.j(Ct)).add(X(yt))}return xt},xe=ce.Integer=_}).apply(typeof Be<"u"?Be:typeof self<"u"?self:typeof window<"u"?window:{});var qe,Ke,We,Ye,ct,rt,nt,Tt,tt,Pe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ve={};(function(){var l,n="function"==typeof Object.defineProperties?Object.defineProperty:function(v,V,Y){return v==Array.prototype||v==Object.prototype||(v[V]=Y.value),v},s=function i(v){v=["object"==typeof globalThis&&globalThis,v,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Pe&&Pe];for(var V=0;V<v.length;++V){var Y=v[V];if(Y&&Y.Math==Math)return Y}throw Error("Cannot find global object")}(this);!function c(v,V){if(V)e:{var Y=s;v=v.split(".");for(var Re=0;Re<v.length-1;Re++){var Ut=v[Re];if(!(Ut in Y))break e;Y=Y[Ut]}(V=V(Re=Y[v=v[v.length-1]]))!=Re&&null!=V&&n(Y,v,{configurable:!0,writable:!0,value:V})}}("Array.prototype.values",function(v){return v||function(){return function p(v,V){v instanceof String&&(v+="");var Y=0,Re=!1,Ut={next:function(){if(!Re&&Y<v.length){var en=Y++;return{value:V(en,v[en]),done:!1}}return Re=!0,{done:!0,value:void 0}}};return Ut[Symbol.iterator]=function(){return Ut},Ut}(this,function(V,Y){return Y})}});var _=_||{},w=this||self;function L(v){var V=typeof v;return"array"==(V="object"!=V?V:v?Array.isArray(v)?"array":V:"null")||"object"==V&&"number"==typeof v.length}function X(v){var V=typeof v;return"object"==V&&null!=v||"function"==V}function ge(v,V,Y){return v.call.apply(v.bind,arguments)}function Fe(v,V,Y){if(!v)throw Error();if(2<arguments.length){var Re=Array.prototype.slice.call(arguments,2);return function(){var Ut=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ut,Re),v.apply(V,Ut)}}return function(){return v.apply(V,arguments)}}function ut(v,V,Y){return(ut=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ge:Fe).apply(null,arguments)}function Ht(v,V){var Y=Array.prototype.slice.call(arguments,1);return function(){var Re=Y.slice();return Re.push.apply(Re,arguments),v.apply(this,Re)}}function fn(v,V){function Y(){}Y.prototype=V.prototype,v.aa=V.prototype,v.prototype=new Y,v.prototype.constructor=v,v.Qb=function(Re,Ut,en){for(var Vn=Array(arguments.length-2),_o=2;_o<arguments.length;_o++)Vn[_o-2]=arguments[_o];return V.prototype[Ut].apply(Re,Vn)}}function xn(v){const V=v.length;if(0<V){const Y=Array(V);for(let Re=0;Re<V;Re++)Y[Re]=v[Re];return Y}return[]}function Cn(v,V){for(let Y=1;Y<arguments.length;Y++){const Re=arguments[Y];if(L(Re)){const Ut=v.length||0,en=Re.length||0;v.length=Ut+en;for(let Vn=0;Vn<en;Vn++)v[Ut+Vn]=Re[Vn]}else v.push(Re)}}function Cr(v){return/^[\s\xa0]*$/.test(v)}function Xn(){var v=w.navigator;return v&&(v=v.userAgent)?v:""}function Hr(v){return Hr[" "](v),v}Hr[" "]=function(){};var ji=!(-1==Xn().indexOf("Gecko")||-1!=Xn().toLowerCase().indexOf("webkit")&&-1==Xn().indexOf("Edge")||-1!=Xn().indexOf("Trident")||-1!=Xn().indexOf("MSIE")||-1!=Xn().indexOf("Edge"));function hi(v,V,Y){for(const Re in v)V.call(Y,v[Re],Re,v)}function Ze(v){const V={};for(const Y in v)V[Y]=v[Y];return V}const Ct="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xt(v,V){let Y,Re;for(let Ut=1;Ut<arguments.length;Ut++){for(Y in Re=arguments[Ut],Re)v[Y]=Re[Y];for(let en=0;en<Ct.length;en++)Y=Ct[en],Object.prototype.hasOwnProperty.call(Re,Y)&&(v[Y]=Re[Y])}}function Vt(v){var V=1;v=v.split(":");const Y=[];for(;0<V&&v.length;)Y.push(v.shift()),V--;return v.length&&Y.push(v.join(":")),Y}function Kt(v){w.setTimeout(()=>{throw v},0)}function yt(){var v=Ug;let V=null;return v.g&&(V=v.g,v.g=v.g.next,v.g||(v.h=null),V.next=null),V}var kc=new class cr{constructor(V,Y){this.i=V,this.j=Y,this.h=0,this.g=null}get(){let V;return 0<this.h?(this.h--,V=this.g,this.g=V.next,V.next=null):V=this.i(),V}}(()=>new Uy,v=>v.reset());class Uy{constructor(){this.next=this.g=this.h=null}set(V,Y){this.h=V,this.g=Y,this.next=null}reset(){this.next=this.g=this.h=null}}let vh,_h=!1,Ug=new class Au{constructor(){this.h=this.g=null}add(V,Y){const Re=kc.get();Re.set(V,Y),this.h?this.h.next=Re:this.g=Re,this.h=Re}},Nv=()=>{const v=w.Promise.resolve(void 0);vh=()=>{v.then(Yl)}};var Yl=()=>{for(var v;v=yt();){try{v.h.call(v.g)}catch(Y){Kt(Y)}var V=kc;V.j(v),100>V.h&&(V.h++,v.next=V.g,V.g=v)}_h=!1};function Zl(){this.s=this.s,this.C=this.C}function sa(v,V){this.type=v,this.g=this.target=V,this.defaultPrevented=!1}Zl.prototype.s=!1,Zl.prototype.ma=function(){this.s||(this.s=!0,this.N())},Zl.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},sa.prototype.h=function(){this.defaultPrevented=!0};var $y=function(){if(!w.addEventListener||!Object.defineProperty)return!1;var v=!1,V=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const Y=()=>{};w.addEventListener("test",Y,V),w.removeEventListener("test",Y,V)}catch{}return v}();function Ad(v,V){if(sa.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var Y=this.type=v.type,Re=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=V,V=v.relatedTarget){if(ji){e:{try{Hr(V.nodeName);var Ut=!0;break e}catch{}Ut=!1}Ut||(V=null)}}else"mouseover"==Y?V=v.fromElement:"mouseout"==Y&&(V=v.toElement);this.relatedTarget=V,Re?(this.clientX=void 0!==Re.clientX?Re.clientX:Re.pageX,this.clientY=void 0!==Re.clientY?Re.clientY:Re.pageY,this.screenX=Re.screenX||0,this.screenY=Re.screenY||0):(this.clientX=void 0!==v.clientX?v.clientX:v.pageX,this.clientY=void 0!==v.clientY?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType="string"==typeof v.pointerType?v.pointerType:Ov[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&Ad.aa.h.call(this)}}fn(Ad,sa);var Ov={2:"touch",3:"pen",4:"mouse"};Ad.prototype.h=function(){Ad.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var qu="closure_listenable_"+(1e6*Math.random()|0),$g=0;function kI(v,V,Y,Re,Ut){this.listener=v,this.proxy=null,this.src=V,this.type=Y,this.capture=!!Re,this.ha=Ut,this.key=++$g,this.da=this.fa=!1}function yh(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function Ih(v){this.src=v,this.g={},this.h=0}function Gf(v,V){var Y=V.type;if(Y in v.g){var en,Re=v.g[Y],Ut=Array.prototype.indexOf.call(Re,V,void 0);(en=0<=Ut)&&Array.prototype.splice.call(Re,Ut,1),en&&(yh(V),0==v.g[Y].length&&(delete v.g[Y],v.h--))}}function Cd(v,V,Y,Re){for(var Ut=0;Ut<v.length;++Ut){var en=v[Ut];if(!en.da&&en.listener==V&&en.capture==!!Y&&en.ha==Re)return Ut}return-1}Ih.prototype.add=function(v,V,Y,Re,Ut){var en=v.toString();(v=this.g[en])||(v=this.g[en]=[],this.h++);var Vn=Cd(v,V,Re,Ut);return-1<Vn?(V=v[Vn],Y||(V.fa=!1)):((V=new kI(V,this.src,en,!!Re,Ut)).fa=Y,v.push(V)),V};var Eh="closure_lm_"+(1e6*Math.random()|0),Sl={};function kv(v,V,Y,Re,Ut){if(Re&&Re.once)return Lv(v,V,Y,Re,Ut);if(Array.isArray(V)){for(var en=0;en<V.length;en++)kv(v,V[en],Y,Re,Ut);return null}return Y=qf(Y),v&&v[qu]?v.K(V,Y,X(Re)?!!Re.capture:!!Re,Ut):Fv(v,V,Y,!1,Re,Ut)}function Fv(v,V,Y,Re,Ut,en){if(!V)throw Error("Invalid event type");var Vn=X(Ut)?!!Ut.capture:!!Ut,_o=Ch(v);if(_o||(v[Eh]=_o=new Ih(v)),(Y=_o.add(V,Y,Re,Vn,en)).proxy)return Y;if(Re=function Bg(){const V=Ah;return function v(Y){return V.call(v.src,v.listener,Y)}}(),Y.proxy=Re,Re.src=v,Re.listener=Y,v.addEventListener)$y||(Ut=Vn),void 0===Ut&&(Ut=!1),v.addEventListener(V.toString(),Re,Ut);else if(v.attachEvent)v.attachEvent(Fc(V.toString()),Re);else{if(!v.addListener||!v.removeListener)throw Error("addEventListener and attachEvent are unavailable.");v.addListener(Re)}return Y}function Lv(v,V,Y,Re,Ut){if(Array.isArray(V)){for(var en=0;en<V.length;en++)Lv(v,V[en],Y,Re,Ut);return null}return Y=qf(Y),v&&v[qu]?v.L(V,Y,X(Re)?!!Re.capture:!!Re,Ut):Fv(v,V,Y,!0,Re,Ut)}function Td(v,V,Y,Re,Ut){if(Array.isArray(V))for(var en=0;en<V.length;en++)Td(v,V[en],Y,Re,Ut);else Re=X(Re)?!!Re.capture:!!Re,Y=qf(Y),v&&v[qu]?(v=v.i,(V=String(V).toString())in v.g&&-1<(Y=Cd(en=v.g[V],Y,Re,Ut))&&(yh(en[Y]),Array.prototype.splice.call(en,Y,1),0==en.length&&(delete v.g[V],v.h--))):v&&(v=Ch(v))&&(V=v.g[V.toString()],v=-1,V&&(v=Cd(V,Y,Re,Ut)),(Y=-1<v?V[v]:null)&&Kf(Y))}function Kf(v){if("number"!=typeof v&&v&&!v.da){var V=v.src;if(V&&V[qu])Gf(V.i,v);else{var Y=v.type,Re=v.proxy;V.removeEventListener?V.removeEventListener(Y,Re,v.capture):V.detachEvent?V.detachEvent(Fc(Y),Re):V.addListener&&V.removeListener&&V.removeListener(Re),(Y=Ch(V))?(Gf(Y,v),0==Y.h&&(Y.src=null,V[Eh]=null)):yh(v)}}}function Fc(v){return v in Sl?Sl[v]:Sl[v]="on"+v}function Ah(v,V){if(v.da)v=!0;else{V=new Ad(V,this);var Y=v.listener,Re=v.ha||v.src;v.fa&&Kf(v),v=Y.call(Re,V)}return v}function Ch(v){return(v=v[Eh])instanceof Ih?v:null}var Lc="__closure_events_fn_"+(1e9*Math.random()>>>0);function qf(v){return"function"==typeof v?v:(v[Lc]||(v[Lc]=function(V){return v.handleEvent(V)}),v[Lc])}function js(){Zl.call(this),this.i=new Ih(this),this.M=this,this.F=null}function pa(v,V){var Y,Re=v.F;if(Re)for(Y=[];Re;Re=Re.F)Y.push(Re);if(v=v.M,Re=V.type||V,"string"==typeof V)V=new sa(V,v);else if(V instanceof sa)V.target=V.target||v;else{var Ut=V;xt(V=new sa(Re,v),Ut)}if(Ut=!0,Y)for(var en=Y.length-1;0<=en;en--){var Vn=V.g=Y[en];Ut=Xf(Vn,Re,!0,V)&&Ut}if(Ut=Xf(Vn=V.g=v,Re,!0,V)&&Ut,Ut=Xf(Vn,Re,!1,V)&&Ut,Y)for(en=0;en<Y.length;en++)Ut=Xf(Vn=V.g=Y[en],Re,!1,V)&&Ut}function Xf(v,V,Y,Re){if(!(V=v.i.g[String(V)]))return!0;V=V.concat();for(var Ut=!0,en=0;en<V.length;++en){var Vn=V[en];if(Vn&&!Vn.da&&Vn.capture==Y){var _o=Vn.listener,xs=Vn.ha||Vn.src;Vn.fa&&Gf(v.i,Vn),Ut=!1!==_o.call(xs,Re)&&Ut}}return Ut&&!Re.defaultPrevented}function Vv(v,V,Y){if("function"==typeof v)Y&&(v=ut(v,Y));else{if(!v||"function"!=typeof v.handleEvent)throw Error("Invalid listener argument");v=ut(v.handleEvent,v)}return 2147483647<Number(V)?-1:w.setTimeout(v,V||0)}function Uv(v){v.g=Vv(()=>{v.g=null,v.i&&(v.i=!1,Uv(v))},v.l);const V=v.h;v.h=null,v.m.apply(null,V)}fn(js,Zl),js.prototype[qu]=!0,js.prototype.removeEventListener=function(v,V,Y,Re){Td(this,v,V,Y,Re)},js.prototype.N=function(){if(js.aa.N.call(this),this.i){var V,v=this.i;for(V in v.g){for(var Y=v.g[V],Re=0;Re<Y.length;Re++)yh(Y[Re]);delete v.g[V],v.h--}}this.F=null},js.prototype.K=function(v,V,Y,Re){return this.i.add(String(v),V,!1,Y,Re)},js.prototype.L=function(v,V,Y,Re){return this.i.add(String(v),V,!0,Y,Re)};class $v extends Zl{constructor(V,Y){super(),this.m=V,this.l=Y,this.h=null,this.i=!1,this.g=null}j(V){this.h=arguments,this.g?this.i=!0:Uv(this)}N(){super.N(),this.g&&(w.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xu(v){Zl.call(this),this.h=v,this.g={}}fn(Xu,Zl);var Bv=[];function By(v){hi(v.g,function(V,Y){this.g.hasOwnProperty(Y)&&Kf(V)},v),v.g={}}Xu.prototype.N=function(){Xu.aa.N.call(this),By(this)},Xu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jg=w.JSON.stringify,jy=w.JSON.parse,jv=class{stringify(v){return w.JSON.stringify(v,void 0)}parse(v){return w.JSON.parse(v,void 0)}};function zg(){}function Hg(){}zg.prototype.h=null;var Vc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qf(){sa.call(this,"d")}function Uc(){sa.call(this,"c")}fn(Qf,sa),fn(Uc,sa);var Rl={},Dd=null;function Yf(){return Dd=Dd||new js}function Hv(v){sa.call(this,Rl.La,v)}function Th(v){const V=Yf();pa(V,new Hv(V))}function Dh(v,V){sa.call(this,Rl.STAT_EVENT,v),this.stat=V}function zs(v){const V=Yf();pa(V,new Dh(V,v))}function Wv(v,V){sa.call(this,Rl.Ma,v),this.size=V}function Zf(v,V){if("function"!=typeof v)throw Error("Fn must not be null and must be a function");return w.setTimeout(function(){v()},V)}function Jf(){this.g=!0}function bh(v,V,Y,Re){v.info(function(){return"XMLHTTP TEXT ("+V+"): "+function FI(v,V){if(!v.g)return V;if(!V)return null;try{var Y=JSON.parse(V);if(Y)for(v=0;v<Y.length;v++)if(Array.isArray(Y[v])){var Re=Y[v];if(!(2>Re.length)){var Ut=Re[1];if(Array.isArray(Ut)&&!(1>Ut.length)){var en=Ut[0];if("noop"!=en&&"stop"!=en&&"close"!=en)for(var Vn=1;Vn<Ut.length;Vn++)Ut[Vn]=""}}}return jg(Y)}catch{return V}}(v,Y)+(Re?" "+Re:"")})}Rl.La="serverreachability",fn(Hv,sa),Rl.STAT_EVENT="statevent",fn(Dh,sa),Rl.Ma="timingevent",fn(Wv,sa),Jf.prototype.xa=function(){this.g=!1},Jf.prototype.info=function(){};var Wg,ep={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Gv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function bd(){}function tl(v,V,Y,Re){this.j=v,this.i=V,this.l=Y,this.R=Re||1,this.U=new Xu(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new tp}function tp(){this.i=null,this.g="",this.h=!1}fn(bd,zg),bd.prototype.g=function(){return new XMLHttpRequest},bd.prototype.i=function(){return{}},Wg=new bd;var wh={},np={};function $c(v,V,Y){v.L=1,v.v=ap(eu(V)),v.m=Y,v.P=!0,Gg(v,null)}function Gg(v,V){v.F=Date.now(),Rh(v),v.A=eu(v.v);var Y=v.A,Re=v.R;Array.isArray(Re)||(Re=[String(Re)]),i_(Y.i,"t",Re),v.C=0,Y=v.j.J,v.h=new tp,v.g=p_(v.j,Y?V:null,!v.m),0<v.O&&(v.M=new $v(ut(v.Y,v,v.g),v.O)),V=v.U,Y=v.g,Re=v.ca;var Ut="readystatechange";Array.isArray(Ut)||(Ut&&(Bv[0]=Ut.toString()),Ut=Bv);for(var en=0;en<Ut.length;en++){var Vn=kv(Y,Ut[en],Re||V.handleEvent,!1,V.h||V);if(!Vn)break;V.g[Vn.key]=Vn}V=v.H?Ze(v.H):{},v.m?(v.u||(v.u="POST"),V["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,V)):(v.u="GET",v.g.ea(v.A,v.u,null,V)),Th(),function zy(v,V,Y,Re,Ut,en){v.info(function(){if(v.g)if(en)for(var Vn="",_o=en.split("&"),xs=0;xs<_o.length;xs++){var wi=_o[xs].split("=");if(1<wi.length){var Hs=wi[0];wi=wi[1];var Ws=Hs.split("_");Vn=2<=Ws.length&&"type"==Ws[1]?Vn+(Hs+"=")+wi+"&":Vn+(Hs+"=redacted&")}}else Vn=null;else Vn=en;return"XMLHTTP REQ ("+Re+") [attempt "+Ut+"]: "+V+"\n"+Y+"\n"+Vn})}(v.i,v.u,v.A,v.l,v.R,v.m)}function Kv(v){return!!v.g&&"GET"==v.u&&2!=v.L&&v.j.Ca}function Sh(v,V){var Y=v.C,Re=V.indexOf("\n",Y);return-1==Re?np:(Y=Number(V.substring(Y,Re)),isNaN(Y)?wh:(Re+=1)+Y>V.length?np:(V=V.slice(Re,Re+Y),v.C=Re+Y,V))}function Rh(v){v.S=Date.now()+v.I,qv(v,v.I)}function qv(v,V){if(null!=v.B)throw Error("WatchDog timer not null");v.B=Zf(ut(v.ba,v),V)}function rp(v){v.B&&(w.clearTimeout(v.B),v.B=null)}function Ph(v){0==v.j.G||v.J||tm(v.j,v)}function Jl(v){rp(v);var V=v.M;V&&"function"==typeof V.ma&&V.ma(),v.M=null,By(v.U),v.g&&(V=v.g,v.g=null,V.abort(),V.ma())}function Kg(v,V){try{var Y=v.j;if(0!=Y.G&&(Y.g==v||Mh(Y.h,v)))if(!v.K&&Mh(Y.h,v)&&3==Y.G){try{var Re=Y.Da.g.parse(V)}catch{Re=null}if(Array.isArray(Re)&&3==Re.length){var Ut=Re;if(0==Ut[0]){e:if(!Y.u){if(Y.g){if(!(Y.g.F+3e3<v.F))break e;Fh(Y),Hc(Y)}Gc(Y),zs(18)}}else Y.za=Ut[1],0<Y.za-Y.T&&37500>Ut[2]&&Y.F&&0==Y.v&&!Y.C&&(Y.C=Zf(ut(Y.Za,Y),6e3));if(1>=Yv(Y.h)&&Y.ca){try{Y.ca()}catch{}Y.ca=void 0}}else ou(Y,11)}else if((v.K||Y.g==v)&&Fh(Y),!Cr(V))for(Ut=Y.Da.g.parse(V),V=0;V<Ut.length;V++){let wi=Ut[V];if(Y.T=wi[0],wi=wi[1],2==Y.G)if("c"==wi[0]){Y.K=wi[1],Y.ia=wi[2];const Hs=wi[3];null!=Hs&&(Y.la=Hs,Y.j.info("VER="+Y.la));const Ws=wi[4];null!=Ws&&(Y.Aa=Ws,Y.j.info("SVER="+Y.Aa));const Pd=wi[5];null!=Pd&&"number"==typeof Pd&&0<Pd&&(Y.L=Re=1.5*Pd,Y.j.info("backChannelRequestTimeoutMs_="+Re)),Re=Y;const Pl=v.g;if(Pl){const pp=Pl.g?Pl.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pp){var en=Re.h;en.g||-1==pp.indexOf("spdy")&&-1==pp.indexOf("quic")&&-1==pp.indexOf("h2")||(en.j=en.l,en.g=new Set,en.h&&(Bc(en,en.h),en.h=null))}if(Re.D){const Lh=Pl.g?Pl.g.getResponseHeader("X-HTTP-Session-Id"):null;Lh&&(Re.ya=Lh,To(Re.I,Re.D,Lh))}}Y.G=3,Y.l&&Y.l.ua(),Y.ba&&(Y.R=Date.now()-v.F,Y.j.info("Handshake RTT: "+Y.R+"ms"));var Vn=v;if((Re=Y).qa=f_(Re,Re.J?Re.ia:null,Re.W),Vn.K){Zv(Re.h,Vn);var _o=Vn,xs=Re.L;xs&&(_o.I=xs),_o.B&&(rp(_o),Rh(_o)),Re.g=Vn}else bu(Re);0<Y.i.length&&Ju(Y)}else"stop"!=wi[0]&&"close"!=wi[0]||ou(Y,7);else 3==Y.G&&("stop"==wi[0]||"close"==wi[0]?"stop"==wi[0]?ou(Y,7):iu(Y):"noop"!=wi[0]&&Y.l&&Y.l.ta(wi),Y.v=0)}Th()}catch{}}tl.prototype.ca=function(v){v=v.target;const V=this.M;V&&3==ru(v)?V.j():this.Y(v)},tl.prototype.Y=function(v){try{if(v==this.g)e:{const Ws=ru(this.g);var V=this.g.Ba();if(this.g.Z(),!(3>Ws)&&(3!=Ws||this.g&&(this.h.h||this.g.oa()||Zg(this.g)))){this.J||4!=Ws||7==V||Th(),rp(this);var Y=this.g.Z();this.X=Y;t:if(Kv(this)){var Re=Zg(this.g);v="";var Ut=Re.length,en=4==ru(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Jl(this),Ph(this);var Vn="";break t}this.h.i=new w.TextDecoder}for(V=0;V<Ut;V++)this.h.h=!0,v+=this.h.i.decode(Re[V],{stream:!(en&&V==Ut-1)});Re.length=0,this.h.g+=v,this.C=0,Vn=this.h.g}else Vn=this.g.oa();if(this.o=200==Y,function Hy(v,V,Y,Re,Ut,en,Vn){v.info(function(){return"XMLHTTP RESP ("+Re+") [ attempt "+Ut+"]: "+V+"\n"+Y+"\n"+en+" "+Vn})}(this.i,this.u,this.A,this.l,this.R,Ws,Y),this.o){if(this.T&&!this.K){t:{if(this.g){var _o,xs=this.g;if((_o=xs.g?xs.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Cr(_o)){var wi=_o;break t}}wi=null}if(!(Y=wi)){this.o=!1,this.s=3,zs(12),Jl(this),Ph(this);break e}bh(this.i,this.l,Y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kg(this,Y)}if(this.P){let Pl;for(Y=!0;!this.J&&this.C<Vn.length;){if(Pl=Sh(this,Vn),Pl==np){4==Ws&&(this.s=4,zs(14),Y=!1),bh(this.i,this.l,null,"[Incomplete Response]");break}if(Pl==wh){this.s=4,zs(15),bh(this.i,this.l,Vn,"[Invalid Chunk]"),Y=!1;break}bh(this.i,this.l,Pl,null),Kg(this,Pl)}if(Kv(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Ws||0!=Vn.length||this.h.h||(this.s=1,zs(16),Y=!1),this.o=this.o&&Y,Y){if(0<Vn.length&&!this.W){this.W=!0;var Hs=this.j;Hs.g==this&&Hs.ba&&!Hs.M&&(Hs.j.info("Great, no buffering proxy detected. Bytes received: "+Vn.length),d_(Hs),Hs.M=!0,zs(11))}}else bh(this.i,this.l,Vn,"[Invalid Chunked Response]"),Jl(this),Ph(this)}else bh(this.i,this.l,Vn,null),Kg(this,Vn);4==Ws&&Jl(this),this.o&&!this.J&&(4==Ws?tm(this.j,this):(this.o=!1,Rh(this)))}else(function u_(v){const V={};v=(v.g&&2<=ru(v)&&v.g.getAllResponseHeaders()||"").split("\r\n");for(let Re=0;Re<v.length;Re++){if(Cr(v[Re]))continue;var Y=Vt(v[Re]);const Ut=Y[0];if("string"!=typeof(Y=Y[1]))continue;Y=Y.trim();const en=V[Ut]||[];V[Ut]=en,en.push(Y)}!function Rt(v,V){for(const Y in v)V.call(void 0,v[Y],Y,v)}(V,function(Re){return Re.join(", ")})})(this.g),400==Y&&0<Vn.indexOf("Unknown SID")?(this.s=3,zs(12)):(this.s=0,zs(13)),Jl(this),Ph(this)}}}catch{}},tl.prototype.cancel=function(){this.J=!0,Jl(this)},tl.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(function Wy(v,V){v.info(function(){return"TIMEOUT: "+V})}(this.i,this.A),2!=this.L&&(Th(),zs(17)),Jl(this),this.s=2,Ph(this)):qv(this,this.S-v)};var Gy=class{constructor(v,V){this.g=v,this.map=V}};function Xv(v){this.l=v||10,v=w.PerformanceNavigationTiming?0<(v=w.performance.getEntriesByType("navigation")).length&&("hq"==v[0].nextHopProtocol||"h2"==v[0].nextHopProtocol):!!(w.chrome&&w.chrome.loadTimes&&w.chrome.loadTimes()&&w.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qv(v){return!!v.h||!!v.g&&v.g.size>=v.j}function Yv(v){return v.h?1:v.g?v.g.size:0}function Mh(v,V){return v.h?v.h==V:!!v.g&&v.g.has(V)}function Bc(v,V){v.g?v.g.add(V):v.h=V}function Zv(v,V){v.h&&v.h==V?v.h=null:v.g&&v.g.has(V)&&v.g.delete(V)}function xh(v){if(null!=v.h)return v.i.concat(v.h.D);if(null!=v.g&&0!==v.g.size){let V=v.i;for(const Y of v.g.values())V=V.concat(Y.D);return V}return xn(v.i)}function Jv(v,V){if(v.forEach&&"function"==typeof v.forEach)v.forEach(V,void 0);else if(L(v)||"string"==typeof v)Array.prototype.forEach.call(v,V,void 0);else for(var Y=function LI(v){if(v.na&&"function"==typeof v.na)return v.na();if(!v.V||"function"!=typeof v.V){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(L(v)||"string"==typeof v){var V=[];v=v.length;for(var Y=0;Y<v;Y++)V.push(Y);return V}V=[],Y=0;for(const Re in v)V[Y++]=Re;return V}}}(v),Re=function ip(v){if(v.V&&"function"==typeof v.V)return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if("string"==typeof v)return v.split("");if(L(v)){for(var V=[],Y=v.length,Re=0;Re<Y;Re++)V.push(v[Re]);return V}for(Re in V=[],Y=0,v)V[Y++]=v[Re];return V}(v),Ut=Re.length,en=0;en<Ut;en++)V.call(void 0,Re[en],Y&&Y[en],v)}Xv.prototype.cancel=function(){if(this.i=xh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const v of this.g.values())v.cancel();this.g.clear()}};var e_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jc(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof jc){this.h=v.h,op(this,v.j),this.o=v.o,this.g=v.g,sp(this,v.s),this.l=v.l;var V=v.i,Y=new Qu;Y.i=V.i,V.g&&(Y.g=new Map(V.g),Y.h=V.h),Xg(this,Y),this.m=v.m}else v&&(V=String(v).match(e_))?(this.h=!1,op(this,V[1]||"",!0),this.o=tu(V[2]||""),this.g=tu(V[3]||"",!0),sp(this,V[4]),this.l=tu(V[5]||"",!0),Xg(this,V[6]||"",!0),this.m=tu(V[7]||"")):(this.h=!1,this.i=new Qu(null,this.h))}function eu(v){return new jc(v)}function op(v,V,Y){v.j=Y?tu(V,!0):V,v.j&&(v.j=v.j.replace(/:$/,""))}function sp(v,V){if(V){if(V=Number(V),isNaN(V)||0>V)throw Error("Bad port number "+V);v.s=V}else v.s=null}function Xg(v,V,Y){V instanceof Qu?(v.i=V,function UI(v,V){V&&!v.j&&(Cu(v),v.i=null,v.g.forEach(function(Y,Re){var Ut=Re.toLowerCase();Re!=Ut&&(n_(this,Re),i_(this,Ut,Y))},v)),v.j=V}(v.i,v.h)):(Y||(V=zc(V,VI)),v.i=new Qu(V,v.h))}function To(v,V,Y){v.i.set(V,Y)}function ap(v){return To(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function tu(v,V){return v?V?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function zc(v,V,Y){return"string"==typeof v?(v=encodeURI(v).replace(V,Ky),Y&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function Ky(v){return"%"+((v=v.charCodeAt(0))>>4&15).toString(16)+(15&v).toString(16)}jc.prototype.toString=function(){var v=[],V=this.j;V&&v.push(zc(V,Qg,!0),":");var Y=this.g;return(Y||"file"==V)&&(v.push("//"),(V=this.o)&&v.push(zc(V,Qg,!0),"@"),v.push(encodeURIComponent(String(Y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(Y=this.s)&&v.push(":",String(Y))),(Y=this.l)&&(this.g&&"/"!=Y.charAt(0)&&v.push("/"),v.push(zc(Y,"/"==Y.charAt(0)?t_:qy,!0))),(Y=this.i.toString())&&v.push("?",Y),(Y=this.m)&&v.push("#",zc(Y,Xy)),v.join("")};var Qg=/[#\/\?@]/g,qy=/[#\?:]/g,t_=/[#\?]/g,VI=/[#\?@]/g,Xy=/#/g;function Qu(v,V){this.h=this.g=null,this.i=v||null,this.j=!!V}function Cu(v){v.g||(v.g=new Map,v.h=0,v.i&&function qg(v,V){if(v){v=v.split("&");for(var Y=0;Y<v.length;Y++){var Re=v[Y].indexOf("="),Ut=null;if(0<=Re){var en=v[Y].substring(0,Re);Ut=v[Y].substring(Re+1)}else en=v[Y];V(en,Ut?decodeURIComponent(Ut.replace(/\+/g," ")):"")}}}(v.i,function(V,Y){v.add(decodeURIComponent(V.replace(/\+/g," ")),Y)}))}function n_(v,V){Cu(v),V=Yu(v,V),v.g.has(V)&&(v.i=null,v.h-=v.g.get(V).length,v.g.delete(V))}function r_(v,V){return Cu(v),V=Yu(v,V),v.g.has(V)}function i_(v,V,Y){n_(v,V),0<Y.length&&(v.i=null,v.g.set(Yu(v,V),xn(Y)),v.h+=Y.length)}function Yu(v,V){return V=String(V),v.j&&(V=V.toLowerCase()),V}function Tu(v,V,Y,Re,Ut){try{Ut&&(Ut.onload=null,Ut.onerror=null,Ut.onabort=null,Ut.ontimeout=null),Re(Y)}catch{}}function Qy(){this.g=new jv}function $I(v,V,Y){const Re=Y||"";try{Jv(v,function(Ut,en){let Vn=Ut;X(Ut)&&(Vn=jg(Ut)),V.push(Re+en+"="+encodeURIComponent(Vn))})}catch(Ut){throw V.push(Re+"type="+encodeURIComponent("_badmap")),Ut}}function xo(v){this.l=v.Ub||null,this.j=v.eb||!1}function lp(v,V){js.call(this),this.D=v,this.o=V,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function up(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}function Nh(v){v.readyState=4,v.l=null,v.j=null,v.v=null,Oh(v)}function Oh(v){v.onreadystatechange&&v.onreadystatechange.call(v)}function cp(v){let V="";return hi(v,function(Y,Re){V+=Re,V+=":",V+=Y,V+="\r\n"}),V}function dp(v,V,Y){e:{for(Re in Y){var Re=!1;break e}Re=!0}Re||(Y=cp(Y),"string"==typeof v?null!=Y&&encodeURIComponent(String(Y)):To(v,V,Y))}function Wo(v){js.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(l=Qu.prototype).add=function(v,V){Cu(this),this.i=null,v=Yu(this,v);var Y=this.g.get(v);return Y||this.g.set(v,Y=[]),Y.push(V),this.h+=1,this},l.forEach=function(v,V){Cu(this),this.g.forEach(function(Y,Re){Y.forEach(function(Ut){v.call(V,Ut,Re,this)},this)},this)},l.na=function(){Cu(this);const v=Array.from(this.g.values()),V=Array.from(this.g.keys()),Y=[];for(let Re=0;Re<V.length;Re++){const Ut=v[Re];for(let en=0;en<Ut.length;en++)Y.push(V[Re])}return Y},l.V=function(v){Cu(this);let V=[];if("string"==typeof v)r_(this,v)&&(V=V.concat(this.g.get(Yu(this,v))));else{v=Array.from(this.g.values());for(let Y=0;Y<v.length;Y++)V=V.concat(v[Y])}return V},l.set=function(v,V){return Cu(this),this.i=null,r_(this,v=Yu(this,v))&&(this.h-=this.g.get(v).length),this.g.set(v,[V]),this.h+=1,this},l.get=function(v,V){return v&&0<(v=this.V(v)).length?String(v[0]):V},l.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],V=Array.from(this.g.keys());for(var Y=0;Y<V.length;Y++){var Re=V[Y];const en=encodeURIComponent(String(Re)),Vn=this.V(Re);for(Re=0;Re<Vn.length;Re++){var Ut=en;""!==Vn[Re]&&(Ut+="="+encodeURIComponent(String(Vn[Re]))),v.push(Ut)}}return this.i=v.join("&")},fn(xo,zg),xo.prototype.g=function(){return new lp(this.l,this.j)},xo.prototype.i=function(v){return function(){return v}}({}),fn(lp,js),(l=lp.prototype).open=function(v,V){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=V,this.readyState=1,Oh(this)},l.send=function(v){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const V={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(V.body=v),(this.D||w).fetch(new Request(this.A,V)).then(this.Sa.bind(this),this.ga.bind(this))},l.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Nh(this)),this.readyState=0},l.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,Oh(this)),this.g&&(this.readyState=3,Oh(this),this.g)))if("arraybuffer"===this.responseType)v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof w.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;up(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))},l.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var V=v.value?v.value:new Uint8Array(0);(V=this.v.decode(V,{stream:!v.done}))&&(this.response=this.responseText+=V)}v.done?Nh(this):Oh(this),3==this.readyState&&up(this)}},l.Ra=function(v){this.g&&(this.response=this.responseText=v,Nh(this))},l.Qa=function(v){this.g&&(this.response=v,Nh(this))},l.ga=function(){this.g&&Nh(this)},l.setRequestHeader=function(v,V){this.u.append(v,V)},l.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},l.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],V=this.h.entries();for(var Y=V.next();!Y.done;)v.push((Y=Y.value)[0]+": "+Y[1]),Y=V.next();return v.join("\r\n")},Object.defineProperty(lp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(v){this.m=v?"include":"same-origin"}}),fn(Wo,js);var s_=/^https?$/i,Yy=["POST","PUT"];function a_(v,V){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=V,v.m=5,Zu(v),wd(v)}function Zu(v){v.A||(v.A=!0,pa(v,"complete"),pa(v,"error"))}function Yg(v){if(v.h&&typeof _<"u"&&(!v.v[1]||4!=ru(v)||2!=v.Z()))if(v.u&&4==ru(v))Vv(v.Ea,0,v);else if(pa(v,"readystatechange"),4==ru(v)){v.h=!1;try{const Vn=v.Z();e:switch(Vn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var V=!0;break e;default:V=!1}var Y;if(!(Y=V)){var Re;if(Re=0===Vn){var Ut=String(v.D).match(e_)[1]||null;!Ut&&w.self&&w.self.location&&(Ut=w.self.location.protocol.slice(0,-1)),Re=!s_.test(Ut?Ut.toLowerCase():"")}Y=Re}if(Y)pa(v,"complete"),pa(v,"success");else{v.m=6;try{var en=2<ru(v)?v.g.statusText:""}catch{en=""}v.l=en+" ["+v.Z()+"]",Zu(v)}}finally{wd(v)}}}function wd(v,V){if(v.g){l_(v);const Y=v.g,Re=v.v[0]?()=>{}:null;v.g=null,v.v=null,V||pa(v,"ready");try{Y.onreadystatechange=Re}catch{}}}function l_(v){v.I&&(w.clearTimeout(v.I),v.I=null)}function ru(v){return v.g?v.g.readyState:0}function Zg(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function Du(v,V,Y){return Y&&Y.internalChannelParams&&Y.internalChannelParams[v]||V}function hp(v){this.Aa=0,this.i=[],this.j=new Jf,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Du("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Du("baseRetryDelayMs",5e3,v),this.cb=Du("retryDelaySeedMs",1e4,v),this.Wa=Du("forwardChannelMaxRetries",2,v),this.wa=Du("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new Xv(v&&v.concurrentRequestLimit),this.Da=new Qy,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function iu(v){if(Jg(v),3==v.G){var V=v.U++,Y=eu(v.I);if(To(Y,"SID",v.K),To(Y,"RID",V),To(Y,"TYPE","terminate"),Wc(v,Y),(V=new tl(v,v.j,V)).L=2,V.v=ap(eu(Y)),Y=!1,w.navigator&&w.navigator.sendBeacon)try{Y=w.navigator.sendBeacon(V.v.toString(),"")}catch{}!Y&&w.Image&&((new Image).src=V.v,Y=!0),Y||(V.g=p_(V.j,null),V.g.ea(V.v)),V.F=Date.now(),Rh(V)}Sd(v)}function Hc(v){v.g&&(d_(v),v.g.cancel(),v.g=null)}function Jg(v){Hc(v),v.u&&(w.clearTimeout(v.u),v.u=null),Fh(v),v.h.cancel(),v.s&&("number"==typeof v.s&&w.clearTimeout(v.s),v.s=null)}function Ju(v){if(!Qv(v.h)&&!v.s){v.s=!0;var V=v.Ga;vh||Nv(),_h||(vh(),_h=!0),Ug.add(V,v),v.B=0}}function c_(v,V){var Y;Y=V?V.l:v.U++;const Re=eu(v.I);To(Re,"SID",v.K),To(Re,"RID",Y),To(Re,"AID",v.T),Wc(v,Re),v.m&&v.o&&dp(Re,v.m,v.o),Y=new tl(v,v.j,Y,v.B+1),null===v.m&&(Y.H=v.o),V&&(v.i=V.D.concat(v.i)),V=em(v,Y,1e3),Y.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),Bc(v.h,Y),$c(Y,Re,V)}function Wc(v,V){v.H&&hi(v.H,function(Y,Re){To(V,Re,Y)}),v.l&&Jv({},function(Y,Re){To(V,Re,Y)})}function em(v,V,Y){Y=Math.min(v.i.length,Y);var Re=v.l?ut(v.l.Na,v.l,v):null;e:{var Ut=v.i;let en=-1;for(;;){const Vn=["count="+Y];-1==en?0<Y?(en=Ut[0].g,Vn.push("ofs="+en)):en=0:Vn.push("ofs="+en);let _o=!0;for(let xs=0;xs<Y;xs++){let wi=Ut[xs].g;const Hs=Ut[xs].map;if(wi-=en,0>wi)en=Math.max(0,Ut[xs].g-100),_o=!1;else try{$I(Hs,Vn,"req"+wi+"_")}catch{Re&&Re(Hs)}}if(_o){Re=Vn.join("&");break e}}}return v=v.i.splice(0,Y),V.D=v,Re}function bu(v){if(!v.g&&!v.u){v.Y=1;var V=v.Fa;vh||Nv(),_h||(vh(),_h=!0),Ug.add(V,v),v.v=0}}function Gc(v){return!(v.g||v.u||3<=v.v||(v.Y++,v.u=Zf(ut(v.Fa,v),h_(v,v.v)),v.v++,0))}function d_(v){null!=v.A&&(w.clearTimeout(v.A),v.A=null)}function kh(v){v.g=new tl(v,v.j,"rpc",v.Y),null===v.m&&(v.g.H=v.o),v.g.O=0;var V=eu(v.qa);To(V,"RID","rpc"),To(V,"SID",v.K),To(V,"AID",v.T),To(V,"CI",v.F?"0":"1"),!v.F&&v.ja&&To(V,"TO",v.ja),To(V,"TYPE","xmlhttp"),Wc(v,V),v.m&&v.o&&dp(V,v.m,v.o),v.L&&(v.g.I=v.L);var Y=v.g;v=v.ia,Y.L=1,Y.v=ap(eu(V)),Y.m=null,Y.P=!0,Gg(Y,v)}function Fh(v){null!=v.C&&(w.clearTimeout(v.C),v.C=null)}function tm(v,V){var Y=null;if(v.g==V){Fh(v),d_(v),v.g=null;var Re=2}else{if(!Mh(v.h,V))return;Y=V.D,Zv(v.h,V),Re=1}if(0!=v.G)if(V.o)if(1==Re){Y=V.m?V.m.length:0,V=Date.now()-V.F;var Ut=v.B;pa(Re=Yf(),new Wv(Re,Y)),Ju(v)}else bu(v);else if(3==(Ut=V.s)||0==Ut&&0<V.X||!(1==Re&&function Zy(v,V){return!(Yv(v.h)>=v.h.j-(v.s?1:0)||(v.s?(v.i=V.D.concat(v.i),0):1==v.G||2==v.G||v.B>=(v.Va?0:v.Wa)||(v.s=Zf(ut(v.Ga,v,V),h_(v,v.B)),v.B++,0)))}(v,V)||2==Re&&Gc(v)))switch(Y&&0<Y.length&&(V=v.h,V.i=V.i.concat(Y)),Ut){case 1:ou(v,5);break;case 4:ou(v,10);break;case 3:ou(v,6);break;default:ou(v,2)}}function h_(v,V){let Y=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(Y*=2),Y*V}function ou(v,V){if(v.j.info("Error code "+V),2==V){var Y=ut(v.fb,v),Re=v.Xa;const Ut=!Re;Re=new jc(Re||"//www.google.com/images/cleardot.gif"),w.location&&"http"==w.location.protocol||op(Re,"https"),ap(Re),Ut?function o_(v,V){const Y=new Jf;if(w.Image){const Re=new Image;Re.onload=Ht(Tu,Y,"TestLoadImage: loaded",!0,V,Re),Re.onerror=Ht(Tu,Y,"TestLoadImage: error",!1,V,Re),Re.onabort=Ht(Tu,Y,"TestLoadImage: abort",!1,V,Re),Re.ontimeout=Ht(Tu,Y,"TestLoadImage: timeout",!1,V,Re),w.setTimeout(function(){Re.ontimeout&&Re.ontimeout()},1e4),Re.src=v}else V(!1)}(Re.toString(),Y):function nu(v,V){new Jf;const Re=new AbortController,Ut=setTimeout(()=>{Re.abort(),Tu(0,0,!1,V)},1e4);fetch(v,{signal:Re.signal}).then(en=>{clearTimeout(Ut),Tu(0,0,!!en.ok,V)}).catch(()=>{clearTimeout(Ut),Tu(0,0,!1,V)})}(Re.toString(),Y)}else zs(2);v.G=0,v.l&&v.l.sa(V),Sd(v),Jg(v)}function Sd(v){if(v.G=0,v.ka=[],v.l){const V=xh(v.h);(0!=V.length||0!=v.i.length)&&(Cn(v.ka,V),Cn(v.ka,v.i),v.h.i.length=0,xn(v.i),v.i.length=0),v.l.ra()}}function f_(v,V,Y){var Re=Y instanceof jc?eu(Y):new jc(Y);if(""!=Re.g)V&&(Re.g=V+"."+Re.g),sp(Re,Re.s);else{var Ut=w.location;Re=Ut.protocol,V=V?V+"."+Ut.hostname:Ut.hostname,Ut=+Ut.port;var en=new jc(null);Re&&op(en,Re),V&&(en.g=V),Ut&&sp(en,Ut),Y&&(en.l=Y),Re=en}return V=v.ya,(Y=v.D)&&V&&To(Re,Y,V),To(Re,"VER",v.la),Wc(v,Re),Re}function p_(v,V,Y){if(V&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return(V=new Wo(v.Ca&&!v.pa?new xo({eb:Y}):v.pa)).Ha(v.J),V}function g_(){}function fp(){}function La(v,V){js.call(this),this.g=new hp(V),this.l=v,this.h=V&&V.messageUrlParams||null,v=V&&V.messageHeaders||null,V&&V.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=V&&V.initMessageHeaders||null,V&&V.messageContentType&&(v?v["X-WebChannel-Content-Type"]=V.messageContentType:v={"X-WebChannel-Content-Type":V.messageContentType}),V&&V.va&&(v?v["X-WebChannel-Client-Profile"]=V.va:v={"X-WebChannel-Client-Profile":V.va}),this.g.S=v,(v=V&&V.Sb)&&!Cr(v)&&(this.g.m=v),this.v=V&&V.supportsCrossDomainXhr||!1,this.u=V&&V.sendRawJson||!1,(V=V&&V.httpSessionIdParam)&&!Cr(V)&&(this.g.D=V,null!==(v=this.h)&&V in v&&V in(v=this.h)&&delete v[V]),this.j=new Rd(this)}function m_(v){Qf.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var V=v.__sm__;if(V){e:{for(const Y in V){v=Y;break e}v=void 0}(this.i=v)&&(v=this.i,V=null!==V&&v in V?V[v]:void 0),this.data=V}else this.data=v}function v_(){Uc.call(this),this.status=1}function Rd(v){this.g=v}(l=Wo.prototype).Ha=function(v){this.J=v},l.ea=function(v,V,Y,Re){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);V=V?V.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wg.g(),this.v=function zv(v){return v.h||(v.h=v.i())}(this.o?this.o:Wg),this.g.onreadystatechange=ut(this.Ea,this);try{this.B=!0,this.g.open(V,String(v),!0),this.B=!1}catch(en){return void a_(this,en)}if(v=Y||"",Y=new Map(this.headers),Re)if(Object.getPrototypeOf(Re)===Object.prototype)for(var Ut in Re)Y.set(Ut,Re[Ut]);else{if("function"!=typeof Re.keys||"function"!=typeof Re.get)throw Error("Unknown input type for opt_headers: "+String(Re));for(const en of Re.keys())Y.set(en,Re.get(en))}Re=Array.from(Y.keys()).find(en=>"content-type"==en.toLowerCase()),Ut=w.FormData&&v instanceof w.FormData,!(0<=Array.prototype.indexOf.call(Yy,V,void 0))||Re||Ut||Y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[en,Vn]of Y)this.g.setRequestHeader(en,Vn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{l_(this),this.u=!0,this.g.send(v),this.u=!1}catch(en){a_(this,en)}},l.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,pa(this,"complete"),pa(this,"abort"),wd(this))},l.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wd(this,!0)),Wo.aa.N.call(this)},l.Ea=function(){this.s||(this.B||this.u||this.j?Yg(this):this.bb())},l.bb=function(){Yg(this)},l.isActive=function(){return!!this.g},l.Z=function(){try{return 2<ru(this)?this.g.status:-1}catch{return-1}},l.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},l.Oa=function(v){if(this.g){var V=this.g.responseText;return v&&0==V.indexOf(v)&&(V=V.substring(v.length)),jy(V)}},l.Ba=function(){return this.m},l.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(l=hp.prototype).la=8,l.G=1,l.connect=function(v,V,Y,Re){zs(0),this.W=v,this.H=V||{},Y&&void 0!==Re&&(this.H.OSID=Y,this.H.OAID=Re),this.F=this.X,this.I=f_(this,null,this.W),Ju(this)},l.Ga=function(v){if(this.s)if(this.s=null,1==this.G){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const Ut=new tl(this,this.j,v);let en=this.o;if(this.S&&(en?(en=Ze(en),xt(en,this.S)):en=this.S),null!==this.m||this.O||(Ut.H=en,en=null),this.P)e:{for(var V=0,Y=0;Y<this.i.length;Y++){var Re=this.i[Y];if(void 0===(Re="__data__"in Re.map&&"string"==typeof(Re=Re.map.__data__)?Re.length:void 0))break;if(4096<(V+=Re)){V=Y;break e}if(4096===V||Y===this.i.length-1){V=Y+1;break e}}V=1e3}else V=1e3;V=em(this,Ut,V),To(Y=eu(this.I),"RID",v),To(Y,"CVER",22),this.D&&To(Y,"X-HTTP-Session-Id",this.D),Wc(this,Y),en&&(this.O?V="headers="+encodeURIComponent(String(cp(en)))+"&"+V:this.m&&dp(Y,this.m,en)),Bc(this.h,Ut),this.Ua&&To(Y,"TYPE","init"),this.P?(To(Y,"$req",V),To(Y,"SID","null"),Ut.T=!0,$c(Ut,Y,null)):$c(Ut,Y,V),this.G=2}}else 3==this.G&&(v?c_(this,v):0==this.i.length||Qv(this.h)||c_(this))},l.Fa=function(){if(this.u=null,kh(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=Zf(ut(this.ab,this),v)}},l.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,zs(10),Hc(this),kh(this))},l.Za=function(){null!=this.C&&(this.C=null,Hc(this),Gc(this),zs(19))},l.fb=function(v){v?(this.j.info("Successfully pinged google.com"),zs(2)):(this.j.info("Failed to ping google.com"),zs(1))},l.isActive=function(){return!!this.l&&this.l.isActive(this)},(l=g_.prototype).ua=function(){},l.ta=function(){},l.sa=function(){},l.ra=function(){},l.isActive=function(){return!0},l.Na=function(){},fp.prototype.g=function(v,V){return new La(v,V)},fn(La,js),La.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},La.prototype.close=function(){iu(this.g)},La.prototype.o=function(v){var V=this.g;if("string"==typeof v){var Y={};Y.__data__=v,v=Y}else this.u&&((Y={}).__data__=jg(v),v=Y);V.i.push(new Gy(V.Ya++,v)),3==V.G&&Ju(V)},La.prototype.N=function(){this.g.l=null,delete this.j,iu(this.g),delete this.g,La.aa.N.call(this)},fn(m_,Qf),fn(v_,Uc),fn(Rd,g_),Rd.prototype.ua=function(){pa(this.g,"a")},Rd.prototype.ta=function(v){pa(this.g,new m_(v))},Rd.prototype.sa=function(v){pa(this.g,new v_)},Rd.prototype.ra=function(){pa(this.g,"b")},fp.prototype.createWebChannel=fp.prototype.g,La.prototype.send=La.prototype.o,La.prototype.open=La.prototype.m,La.prototype.close=La.prototype.close,tt=ve.createWebChannelTransport=function(){return new fp},Tt=ve.getStatEventTarget=function(){return Yf()},nt=ve.Event=Rl,rt=ve.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ep.NO_ERROR=0,ep.TIMEOUT=8,ep.HTTP_ERROR=6,ct=ve.ErrorCode=ep,Gv.COMPLETE="complete",Ye=ve.EventType=Gv,Hg.EventType=Vc,Vc.OPEN="a",Vc.CLOSE="b",Vc.ERROR="c",Vc.MESSAGE="d",js.prototype.listen=js.prototype.K,We=ve.WebChannel=Hg,Ke=ve.FetchXmlHttpFactory=xo,Wo.prototype.listenOnce=Wo.prototype.L,Wo.prototype.getLastError=Wo.prototype.Ka,Wo.prototype.getLastErrorCode=Wo.prototype.Ba,Wo.prototype.getStatus=Wo.prototype.Z,Wo.prototype.getResponseJson=Wo.prototype.Oa,Wo.prototype.getResponseText=Wo.prototype.oa,Wo.prototype.send=Wo.prototype.ea,Wo.prototype.setWithCredentials=Wo.prototype.Ha,qe=ve.XhrIo=Wo}).apply(typeof Pe<"u"?Pe:typeof self<"u"?self:typeof window<"u"?window:{});const et="@firebase/firestore";class we{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}we.UNAUTHENTICATED=new we(null),we.GOOGLE_CREDENTIALS=new we("google-credentials-uid"),we.FIRST_PARTY=new we("first-party-uid"),we.MOCK_USER=new we("mock-user");let Ge="10.12.1";const ze=new Te.Vy("@firebase/firestore");function dt(){return ze.logLevel}function St(l){ze.setLogLevel(l)}function te(l,...n){if(ze.logLevel<=Te.$b.DEBUG){const i=n.map(an);ze.debug(`Firestore (${Ge}): ${l}`,...i)}}function Dt(l,...n){if(ze.logLevel<=Te.$b.ERROR){const i=n.map(an);ze.error(`Firestore (${Ge}): ${l}`,...i)}}function wt(l,...n){if(ze.logLevel<=Te.$b.WARN){const i=n.map(an);ze.warn(`Firestore (${Ge}): ${l}`,...i)}}function an(l){if("string"==typeof l)return l;try{return JSON.stringify(l)}catch{return l}}function zt(l="Unexpected state"){const n=`FIRESTORE (${Ge}) INTERNAL ASSERTION FAILED: `+l;throw Dt(n),new Error(n)}function It(l,n){l||zt()}function Tn(l,n){l||zt()}function $e(l,n){return l}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class B extends de.g{constructor(n,i){super(n,i),this.code=n,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class R{constructor(){this.promise=new Promise((n,i)=>{this.resolve=n,this.reject=i})}}class H{constructor(n,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class Ee{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,i){n.enqueueRetryable(()=>i(we.UNAUTHENTICATED))}shutdown(){}}class Ve{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,i){this.changeListener=i,n.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class it{constructor(n){this.t=n,this.currentUser=we.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,i){var s=this;let c=this.i;const p=X=>this.i!==c?(c=this.i,i(X)):Promise.resolve();let _=new R;this.o=()=>{this.i++,this.currentUser=this.u(),_.resolve(),_=new R,n.enqueueRetryable(()=>p(this.currentUser))};const w=()=>{const X=_;n.enqueueRetryable((0,d.A)(function*(){yield X.promise,yield p(s.currentUser)}))},L=X=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=X,this.auth.addAuthTokenListener(this.o),w()};this.t.onInit(X=>L(X)),setTimeout(()=>{if(!this.auth){const X=this.t.getImmediate({optional:!0});X?L(X):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),_.resolve(),_=new R)}},0),w()}getToken(){const n=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==n?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(It("string"==typeof s.accessToken),new H(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const n=this.auth&&this.auth.getUid();return It(null===n||"string"==typeof n),new we(n)}}class Me{constructor(n,i,s){this.l=n,this.h=i,this.P=s,this.type="FirstParty",this.user=we.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const n=this.T();return n&&this.I.set("Authorization",n),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Xe{constructor(n,i,s){this.l=n,this.h=i,this.P=s}getToken(){return Promise.resolve(new Me(this.l,this.h,this.P))}start(n,i){n.enqueueRetryable(()=>i(we.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jt{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ft{constructor(n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(n,i){const s=p=>{null!=p.error&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const _=p.token!==this.R;return this.R=p.token,te("FirebaseAppCheckTokenProvider",`Received ${_?"new":"existing"} token.`),_?i(p.token):Promise.resolve()};this.o=p=>{n.enqueueRetryable(()=>s(p))};const c=p=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.appCheck.addTokenListener(this.o)};this.A.onInit(p=>c(p)),setTimeout(()=>{if(!this.appCheck){const p=this.A.getImmediate({optional:!0});p?c(p):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then(i=>i?(It("string"==typeof i.token),this.R=i.token,new jt(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function gn(l){const n=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(l);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(i);else for(let s=0;s<l;s++)i[s]=Math.floor(256*Math.random());return i}class Sn{static newId(){const i=62*Math.floor(256/62);let s="";for(;s.length<20;){const c=gn(40);for(let p=0;p<c.length;++p)s.length<20&&c[p]<i&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(c[p]%62))}return s}}function Jt(l,n){return l<n?-1:l>n?1:0}function Pn(l,n,i){return l.length===n.length&&l.every((s,c)=>i(s,n[c]))}function Jn(l){return l+"\0"}class bn{constructor(n,i){if(this.seconds=n,this.nanoseconds=i,i<0)throw new B(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new B(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(n<-62135596800)throw new B(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new B(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return bn.fromMillis(Date.now())}static fromDate(n){return bn.fromMillis(n.getTime())}static fromMillis(n){const i=Math.floor(n/1e3),s=Math.floor(1e6*(n-1e3*i));return new bn(i,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?Jt(this.nanoseconds,n.nanoseconds):Jt(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class nn{constructor(n){this.timestamp=n}static fromTimestamp(n){return new nn(n)}static min(){return new nn(new bn(0,0))}static max(){return new nn(new bn(253402300799,999999999))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class vt{constructor(n,i,s){void 0===i?i=0:i>n.length&&zt(),void 0===s?s=n.length-i:s>n.length-i&&zt(),this.segments=n,this.offset=i,this.len=s}get length(){return this.len}isEqual(n){return 0===vt.comparator(this,n)}child(n){const i=this.segments.slice(this.offset,this.limit());return n instanceof vt?n.forEach(s=>{i.push(s)}):i.push(n),this.construct(i)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}forEach(n){for(let i=this.offset,s=this.limit();i<s;i++)n(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,i){const s=Math.min(n.length,i.length);for(let c=0;c<s;c++){const p=n.get(c),_=i.get(c);if(p<_)return-1;if(p>_)return 1}return n.length<i.length?-1:n.length>i.length?1:0}}class pt extends vt{construct(n,i,s){return new pt(n,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...n){const i=[];for(const s of n){if(s.indexOf("//")>=0)throw new B(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(c=>c.length>0))}return new pt(i)}static emptyPath(){return new pt([])}}const Ft=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends vt{construct(n,i,s){return new rn(n,i,s)}static isValidIdentifier(n){return Ft.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new rn(["__name__"])}static fromServerFormat(n){const i=[];let s="",c=0;const p=()=>{if(0===s.length)throw new B(J.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let _=!1;for(;c<n.length;){const w=n[c];if("\\"===w){if(c+1===n.length)throw new B(J.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const L=n[c+1];if("\\"!==L&&"."!==L&&"`"!==L)throw new B(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);s+=L,c+=2}else"`"===w?(_=!_,c++):"."!==w||_?(s+=w,c++):(p(),c++)}if(p(),_)throw new B(J.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new rn(i)}static emptyPath(){return new rn([])}}class Qt{constructor(n){this.path=n}static fromPath(n){return new Qt(pt.fromString(n))}static fromName(n){return new Qt(pt.fromString(n).popFirst(5))}static empty(){return new Qt(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return null!==n&&0===pt.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,i){return pt.comparator(n.path,i.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new Qt(new pt(n.slice()))}}class or{constructor(n,i,s,c){this.indexId=n,this.collectionGroup=i,this.fields=s,this.indexState=c}}function Wn(l){return l.fields.find(n=>2===n.kind)}function wn(l){return l.fields.filter(n=>2!==n.kind)}or.UNKNOWN_ID=-1;class Un{constructor(n,i){this.fieldPath=n,this.kind=i}}class ur{constructor(n,i){this.sequenceNumber=n,this.offset=i}static empty(){return new ur(0,Ir.min())}}function Br(l,n){const i=l.toTimestamp().seconds,s=l.toTimestamp().nanoseconds+1,c=nn.fromTimestamp(1e9===s?new bn(i+1,0):new bn(i,s));return new Ir(c,Qt.empty(),n)}function Kn(l){return new Ir(l.readTime,l.key,-1)}class Ir{constructor(n,i,s){this.readTime=n,this.documentKey=i,this.largestBatchId=s}static min(){return new Ir(nn.min(),Qt.empty(),-1)}static max(){return new Ir(nn.max(),Qt.empty(),-1)}}function qn(l,n){let i=l.readTime.compareTo(n.readTime);return 0!==i?i:(i=Qt.comparator(l.documentKey,n.documentKey),0!==i?i:Jt(l.largestBatchId,n.largestBatchId))}const ui="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jn{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}function Qn(l){return mi.apply(this,arguments)}function mi(){return(mi=(0,d.A)(function*(l){if(l.code!==J.FAILED_PRECONDITION||l.message!==ui)throw l;te("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class at{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(n){return this.next(void 0,n)}next(n,i){return this.callbackAttached&&zt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(n,this.result):new at((s,c)=>{this.nextCallback=p=>{this.wrapSuccess(n,p).next(s,c)},this.catchCallback=p=>{this.wrapFailure(i,p).next(s,c)}})}toPromise(){return new Promise((n,i)=>{this.next(n,i)})}wrapUserFunction(n){try{const i=n();return i instanceof at?i:at.resolve(i)}catch(i){return at.reject(i)}}wrapSuccess(n,i){return n?this.wrapUserFunction(()=>n(i)):at.resolve(i)}wrapFailure(n,i){return n?this.wrapUserFunction(()=>n(i)):at.reject(i)}static resolve(n){return new at((i,s)=>{i(n)})}static reject(n){return new at((i,s)=>{s(n)})}static waitFor(n){return new at((i,s)=>{let c=0,p=0,_=!1;n.forEach(w=>{++c,w.next(()=>{++p,_&&p===c&&i()},L=>s(L))}),_=!0,p===c&&i()})}static or(n){let i=at.resolve(!1);for(const s of n)i=i.next(c=>c?at.resolve(c):s());return i}static forEach(n,i){const s=[];return n.forEach((c,p)=>{s.push(i.call(this,c,p))}),this.waitFor(s)}static mapArray(n,i){return new at((s,c)=>{const p=n.length,_=new Array(p);let w=0;for(let L=0;L<p;L++){const X=L;i(n[X]).next(ge=>{_[X]=ge,++w,w===p&&s(_)},ge=>c(ge))}})}static doWhile(n,i){return new at((s,c)=>{const p=()=>{!0===n()?i().next(()=>{p()},c):s()};p()})}}class Dr{constructor(n,i){this.action=n,this.transaction=i,this.aborted=!1,this.V=new R,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{i.error?this.V.reject(new mt(n,i.error)):this.V.resolve()},this.transaction.onerror=s=>{const c=ye(s.target.error);this.V.reject(new mt(n,c))}}static open(n,i,s,c){try{return new Dr(i,n.transaction(c,s))}catch(p){throw new mt(i,p)}}get m(){return this.V.promise}abort(n){n&&this.V.reject(n),this.aborted||(te("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const n=this.transaction;this.aborted||"function"!=typeof n.commit||n.commit()}store(n){const i=this.transaction.objectStore(n);return new kt(i)}}class Mr{constructor(n,i,s){this.name=n,this.version=i,this.p=s,12.2===Mr.S((0,de.ZQ)())&&Dt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(n){return te("SimpleDb","Removing database:",n),ot(window.indexedDB.deleteDatabase(n)).toPromise()}static D(){if(!(0,de.zW)())return!1;if(Mr.C())return!0;const n=(0,de.ZQ)(),i=Mr.S(n),s=0<i&&i<10,c=Oi(n),p=0<c&&c<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||s||p)}static C(){var n;return typeof process<"u"&&"YES"===(null===(n=process.__PRIVATE_env)||void 0===n?void 0:n.v)}static F(n,i){return n.store(i)}static S(n){const i=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(s)}M(n){var i=this;return(0,d.A)(function*(){return i.db||(te("SimpleDb","Opening database:",i.name),i.db=yield new Promise((s,c)=>{const p=indexedDB.open(i.name,i.version);p.onsuccess=_=>{s(_.target.result)},p.onblocked=()=>{c(new mt(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},p.onerror=_=>{const w=_.target.error;c("VersionError"===w.name?new B(J.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===w.name?new B(J.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+w):new mt(n,w))},p.onupgradeneeded=_=>{te("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',_.oldVersion),i.p.O(_.target.result,p.transaction,_.oldVersion,i.version).next(()=>{te("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.N&&(i.db.onversionchange=s=>i.N(s)),i.db})()}L(n){this.N=n,this.db&&(this.db.onversionchange=i=>n(i))}runTransaction(n,i,s,c){var p=this;return(0,d.A)(function*(){const _="readonly"===i;let w=0;for(;;){++w;try{p.db=yield p.M(n);const L=Dr.open(p.db,n,_?"readonly":"readwrite",s),X=c(L).next(ge=>(L.g(),ge)).catch(ge=>(L.abort(ge),at.reject(ge))).toPromise();return X.catch(()=>{}),yield L.m,X}catch(L){const X=L,ge="FirebaseError"!==X.name&&w<3;if(te("SimpleDb","Transaction failed with error:",X.message,"Retrying:",ge),p.close(),!ge)return Promise.reject(X)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Oi(l){const n=l.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}class ii{constructor(n){this.B=n,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(n){this.B=n}done(){this.k=!0}$(n){this.q=n}delete(){return ot(this.B.delete())}}class mt extends B{constructor(n,i){super(J.UNAVAILABLE,`IndexedDB transaction '${n}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function Je(l){return"IndexedDbTransactionError"===l.name}class kt{constructor(n){this.store=n}put(n,i){let s;return void 0!==i?(te("SimpleDb","PUT",this.store.name,n,i),s=this.store.put(i,n)):(te("SimpleDb","PUT",this.store.name,"<auto-key>",n),s=this.store.put(n)),ot(s)}add(n){return te("SimpleDb","ADD",this.store.name,n,n),ot(this.store.add(n))}get(n){return ot(this.store.get(n)).next(i=>(void 0===i&&(i=null),te("SimpleDb","GET",this.store.name,n,i),i))}delete(n){return te("SimpleDb","DELETE",this.store.name,n),ot(this.store.delete(n))}count(){return te("SimpleDb","COUNT",this.store.name),ot(this.store.count())}U(n,i){const s=this.options(n,i),c=s.index?this.store.index(s.index):this.store;if("function"==typeof c.getAll){const p=c.getAll(s.range);return new at((_,w)=>{p.onerror=L=>{w(L.target.error)},p.onsuccess=L=>{_(L.target.result)}})}{const p=this.cursor(s),_=[];return this.W(p,(w,L)=>{_.push(L)}).next(()=>_)}}G(n,i){const s=this.store.getAll(n,null===i?void 0:i);return new at((c,p)=>{s.onerror=_=>{p(_.target.error)},s.onsuccess=_=>{c(_.target.result)}})}j(n,i){te("SimpleDb","DELETE ALL",this.store.name);const s=this.options(n,i);s.H=!1;const c=this.cursor(s);return this.W(c,(p,_,w)=>w.delete())}J(n,i){let s;i?s=n:(s={},i=n);const c=this.cursor(s);return this.W(c,i)}Y(n){const i=this.cursor({});return new at((s,c)=>{i.onerror=p=>{const _=ye(p.target.error);c(_)},i.onsuccess=p=>{const _=p.target.result;_?n(_.primaryKey,_.value).next(w=>{w?_.continue():s()}):s()}})}W(n,i){const s=[];return new at((c,p)=>{n.onerror=_=>{p(_.target.error)},n.onsuccess=_=>{const w=_.target.result;if(!w)return void c();const L=new ii(w),X=i(w.primaryKey,w.value,L);if(X instanceof at){const ge=X.catch(Fe=>(L.done(),at.reject(Fe)));s.push(ge)}L.isDone?c():null===L.K?w.continue():w.continue(L.K)}}).next(()=>at.waitFor(s))}options(n,i){let s;return void 0!==n&&("string"==typeof n?s=n:i=n),{index:s,range:i}}cursor(n){let i="next";if(n.reverse&&(i="prev"),n.index){const s=this.store.index(n.index);return n.H?s.openKeyCursor(n.range,i):s.openCursor(n.range,i)}return this.store.openCursor(n.range,i)}}function ot(l){return new at((n,i)=>{l.onsuccess=s=>{n(s.target.result)},l.onerror=s=>{const c=ye(s.target.error);i(c)}})}let fe=!1;function ye(l){const n=Mr.S((0,de.ZQ)());if(n>=12.2&&n<13){const i="An internal error was encountered in the Indexed Database server";if(l.message.indexOf(i)>=0){const s=new B("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return fe||(fe=!0,setTimeout(()=>{throw s},0)),s}}return l}class se{constructor(n,i){this.asyncQueue=n,this.Z=i,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(n){var i=this;te("IndexBackfiller",`Scheduled in ${n}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",n,(0,d.A)(function*(){i.task=null;try{te("IndexBackfiller",`Documents written: ${yield i.Z.ee()}`)}catch(s){Je(s)?te("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield Qn(s)}yield i.X(6e4)}))}}class pe{constructor(n,i){this.localStore=n,this.persistence=i}ee(n=50){var i=this;return(0,d.A)(function*(){return i.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>i.te(s,n))})()}te(n,i){const s=new Set;let c=i,p=!0;return at.doWhile(()=>!0===p&&c>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(n).next(_=>{if(null!==_&&!s.has(_))return te("IndexBackfiller",`Processing collection: ${_}`),this.ne(n,_,c).next(w=>{c-=w,s.add(_)});p=!1})).next(()=>i-c)}ne(n,i,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(n,i).next(c=>this.localStore.localDocuments.getNextDocuments(n,i,c,s).next(p=>{const _=p.changes;return this.localStore.indexManager.updateIndexEntries(n,_).next(()=>this.re(c,p)).next(w=>(te("IndexBackfiller",`Updating offset: ${w}`),this.localStore.indexManager.updateCollectionGroup(n,i,w))).next(()=>_.size)}))}re(n,i){let s=n;return i.changes.forEach((c,p)=>{const _=Kn(p);qn(_,s)>0&&(s=_)}),new Ir(s.readTime,s.documentKey,Math.max(i.batchId,n.largestBatchId))}}let ie=(()=>{class l{constructor(i,s){this.previousValue=i,s&&(s.sequenceNumberHandler=c=>this.ie(c),this.se=c=>s.writeSequenceNumber(c))}ie(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.se&&this.se(i),i}}return l.oe=-1,l})();function lt(l){return null==l}function qt(l){return 0===l&&1/l==-1/0}function yn(l){return"number"==typeof l&&Number.isInteger(l)&&!qt(l)&&l<=Number.MAX_SAFE_INTEGER&&l>=Number.MIN_SAFE_INTEGER}function Nn(l){let n="";for(let i=0;i<l.length;i++)n.length>0&&(n=Sr(n)),n=dr(l.get(i),n);return Sr(n)}function dr(l,n){let i=n;const s=l.length;for(let c=0;c<s;c++){const p=l.charAt(c);switch(p){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=p}}return i}function Sr(l){return l+"\x01\x01"}function On(l){const n=l.length;if(It(n>=2),2===n)return It("\x01"===l.charAt(0)&&"\x01"===l.charAt(1)),pt.emptyPath();const i=n-2,s=[];let c="";for(let p=0;p<n;){const _=l.indexOf("\x01",p);switch((_<0||_>i)&&zt(),l.charAt(_+1)){case"\x01":const w=l.substring(p,_);let L;0===c.length?L=w:(c+=w,L=c,c=""),s.push(L);break;case"\x10":c+=l.substring(p,_),c+="\0";break;case"\x11":c+=l.substring(p,_+1);break;default:zt()}p=_+2}return new pt(s)}const Mn=["userId","batchId"];function nr(l,n){return[l,Nn(n)]}function Xr(l,n,i){return[l,Nn(n),i]}const oi={},Do=["prefixPath","collectionGroup","readTime","documentId"],Si=["prefixPath","collectionGroup","documentId"],Rr=["collectionGroup","readTime","prefixPath","documentId"],eo=["canonicalId","targetId"],ki=["targetId","path"],to=["path","targetId"],$t=["collectionId","parent"],ne=["indexId","uid"],ee=["uid","sequenceNumber"],ke=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],oe=["indexId","uid","orderedDocumentKey"],re=["userId","collectionPath","documentId"],Le=["userId","collectionPath","largestBatchId"],Mt=["userId","collectionGroup","largestBatchId"],Nt=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],An=[...Nt,"documentOverlays"],rr=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Yn=rr,yi=[...Yn,"indexConfiguration","indexState","indexEntries"],zi=yi;class Ii extends jn{constructor(n,i){super(),this._e=n,this.currentSequenceNumber=i}}function Ln(l,n){const i=$e(l);return Mr.F(i._e,n)}function gi(l){let n=0;for(const i in l)Object.prototype.hasOwnProperty.call(l,i)&&n++;return n}function Ki(l,n){for(const i in l)Object.prototype.hasOwnProperty.call(l,i)&&n(i,l[i])}function jr(l){for(const n in l)if(Object.prototype.hasOwnProperty.call(l,n))return!1;return!0}class Er{constructor(n,i){this.comparator=n,this.root=i||si.EMPTY}insert(n,i){return new Er(this.comparator,this.root.insert(n,i,this.comparator).copy(null,null,si.BLACK,null,null))}remove(n){return new Er(this.comparator,this.root.remove(n,this.comparator).copy(null,null,si.BLACK,null,null))}get(n){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(n,i.key);if(0===s)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(n){let i=0,s=this.root;for(;!s.isEmpty();){const c=this.comparator(n,s.key);if(0===c)return i+s.left.size;c<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((i,s)=>(n(i,s),!1))}toString(){const n=[];return this.inorderTraversal((i,s)=>(n.push(`${i}:${s}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new no(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new no(this.root,n,this.comparator,!1)}getReverseIterator(){return new no(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new no(this.root,n,this.comparator,!0)}}class no{constructor(n,i,s,c){this.isReverse=c,this.nodeStack=[];let p=1;for(;!n.isEmpty();)if(p=i?s(n.key,i):1,i&&c&&(p*=-1),p<0)n=this.isReverse?n.left:n.right;else{if(0===p){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const i={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class si{constructor(n,i,s,c,p){this.key=n,this.value=i,this.color=null!=s?s:si.RED,this.left=null!=c?c:si.EMPTY,this.right=null!=p?p:si.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,i,s,c,p){return new si(null!=n?n:this.key,null!=i?i:this.value,null!=s?s:this.color,null!=c?c:this.left,null!=p?p:this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,s){let c=this;const p=s(n,c.key);return c=p<0?c.copy(null,null,null,c.left.insert(n,i,s),null):0===p?c.copy(null,i,null,null,null):c.copy(null,null,null,null,c.right.insert(n,i,s)),c.fixUp()}removeMin(){if(this.left.isEmpty())return si.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,i){let s,c=this;if(i(n,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(n,i),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===i(n,c.key)){if(c.right.isEmpty())return si.EMPTY;s=c.right.min(),c=c.copy(s.key,s.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(n,i))}return c.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,si.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,si.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw zt();const n=this.left.check();if(n!==this.right.check())throw zt();return n+(this.isRed()?0:1)}}si.EMPTY=null,si.RED=!0,si.BLACK=!1,si.EMPTY=new class{constructor(){this.size=0}get key(){throw zt()}get value(){throw zt()}get color(){throw zt()}get left(){throw zt()}get right(){throw zt()}copy(n,i,s,c,p){return this}insert(n,i,s){return new si(n,i)}remove(n,i){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Nr{constructor(n){this.comparator=n,this.data=new Er(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((i,s)=>(n(i),!1))}forEachInRange(n,i){const s=this.data.getIteratorFrom(n[0]);for(;s.hasNext();){const c=s.getNext();if(this.comparator(c.key,n[1])>=0)return;i(c.key)}}forEachWhile(n,i){let s;for(s=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!n(s.getNext().key))return}firstAfterOrEqual(n){const i=this.data.getIteratorFrom(n);return i.hasNext()?i.getNext().key:null}getIterator(){return new bo(this.data.getIterator())}getIteratorFrom(n){return new bo(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let i=this;return i.size<n.size&&(i=n,n=this),n.forEach(s=>{i=i.add(s)}),i}isEqual(n){if(!(n instanceof Nr)||this.size!==n.size)return!1;const i=this.data.getIterator(),s=n.data.getIterator();for(;i.hasNext();){const c=i.getNext().key,p=s.getNext().key;if(0!==this.comparator(c,p))return!1}return!0}toArray(){const n=[];return this.forEach(i=>{n.push(i)}),n}toString(){const n=[];return this.forEach(i=>n.push(i)),"SortedSet("+n.toString()+")"}copy(n){const i=new Nr(this.comparator);return i.data=n,i}}class bo{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Fi(l){return l.hasNext()?l.getNext():void 0}class Qr{constructor(n){this.fields=n,n.sort(rn.comparator)}static empty(){return new Qr([])}unionWith(n){let i=new Nr(rn.comparator);for(const s of this.fields)i=i.add(s);for(const s of n)i=i.add(s);return new Qr(i.toArray())}covers(n){for(const i of this.fields)if(i.isPrefixOf(n))return!0;return!1}isEqual(n){return Pn(this.fields,n.fields,(i,s)=>i.isEqual(s))}}class hr extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Fr(){return typeof atob<"u"}class Li{constructor(n){this.binaryString=n}static fromBase64String(n){const i=function(c){try{return atob(c)}catch(p){throw typeof DOMException<"u"&&p instanceof DOMException?new hr("Invalid base64 string: "+p):p}}(n);return new Li(i)}static fromUint8Array(n){const i=function(c){let p="";for(let _=0;_<c.length;++_)p+=String.fromCharCode(c[_]);return p}(n);return new Li(i)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let c=0;c<i.length;c++)s[c]=i.charCodeAt(c);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return Jt(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}Li.EMPTY_BYTE_STRING=new Li("");const Hi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Io(l){if(It(!!l),"string"==typeof l){let n=0;const i=Hi.exec(l);if(It(!!i),i[1]){let c=i[1];c=(c+"000000000").substr(0,9),n=Number(c)}const s=new Date(l);return{seconds:Math.floor(s.getTime()/1e3),nanos:n}}return{seconds:vi(l.seconds),nanos:vi(l.nanos)}}function vi(l){return"number"==typeof l?l:"string"==typeof l?Number(l):0}function Ur(l){return"string"==typeof l?Li.fromBase64String(l):Li.fromUint8Array(l)}function zr(l){var n,i;return"server_timestamp"===(null===(i=((null===(n=null==l?void 0:l.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function lr(l){const n=l.mapValue.fields.__previous_value__;return zr(n)?lr(n):n}function Vr(l){const n=Io(l.mapValue.fields.__local_write_time__.timestampValue);return new bn(n.seconds,n.nanos)}class vs{constructor(n,i,s,c,p,_,w,L,X){this.databaseId=n,this.appId=i,this.persistenceKey=s,this.host=c,this.ssl=p,this.forceLongPolling=_,this.autoDetectLongPolling=w,this.longPollingOptions=L,this.useFetchStreams=X}}class ar{constructor(n,i){this.projectId=n,this.database=i||"(default)"}static empty(){return new ar("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof ar&&n.projectId===this.projectId&&n.database===this.database}}const No={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Oo={nullValue:"NULL_VALUE"};function Go(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?zr(l)?4:He(l)?9007199254740991:10:zt()}function Ri(l,n){if(l===n)return!0;const i=Go(l);if(i!==Go(n))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return l.booleanValue===n.booleanValue;case 4:return Vr(l).isEqual(Vr(n));case 3:return function(c,p){if("string"==typeof c.timestampValue&&"string"==typeof p.timestampValue&&c.timestampValue.length===p.timestampValue.length)return c.timestampValue===p.timestampValue;const _=Io(c.timestampValue),w=Io(p.timestampValue);return _.seconds===w.seconds&&_.nanos===w.nanos}(l,n);case 5:return l.stringValue===n.stringValue;case 6:return p=n,Ur(l.bytesValue).isEqual(Ur(p.bytesValue));case 7:return l.referenceValue===n.referenceValue;case 8:return function(c,p){return vi(c.geoPointValue.latitude)===vi(p.geoPointValue.latitude)&&vi(c.geoPointValue.longitude)===vi(p.geoPointValue.longitude)}(l,n);case 2:return function(c,p){if("integerValue"in c&&"integerValue"in p)return vi(c.integerValue)===vi(p.integerValue);if("doubleValue"in c&&"doubleValue"in p){const _=vi(c.doubleValue),w=vi(p.doubleValue);return _===w?qt(_)===qt(w):isNaN(_)&&isNaN(w)}return!1}(l,n);case 9:return Pn(l.arrayValue.values||[],n.arrayValue.values||[],Ri);case 10:return function(c,p){const _=c.mapValue.fields||{},w=p.mapValue.fields||{};if(gi(_)!==gi(w))return!1;for(const L in _)if(_.hasOwnProperty(L)&&(void 0===w[L]||!Ri(_[L],w[L])))return!1;return!0}(l,n);default:return zt()}var p}function wo(l,n){return void 0!==(l.values||[]).find(i=>Ri(i,n))}function ai(l,n){if(l===n)return 0;const i=Go(l),s=Go(n);if(i!==s)return Jt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Jt(l.booleanValue,n.booleanValue);case 2:return function(p,_){const w=vi(p.integerValue||p.doubleValue),L=vi(_.integerValue||_.doubleValue);return w<L?-1:w>L?1:w===L?0:isNaN(w)?isNaN(L)?0:-1:1}(l,n);case 3:return S(l.timestampValue,n.timestampValue);case 4:return S(Vr(l),Vr(n));case 5:return Jt(l.stringValue,n.stringValue);case 6:return function(p,_){const w=Ur(p),L=Ur(_);return w.compareTo(L)}(l.bytesValue,n.bytesValue);case 7:return function(p,_){const w=p.split("/"),L=_.split("/");for(let X=0;X<w.length&&X<L.length;X++){const ge=Jt(w[X],L[X]);if(0!==ge)return ge}return Jt(w.length,L.length)}(l.referenceValue,n.referenceValue);case 8:return function(p,_){const w=Jt(vi(p.latitude),vi(_.latitude));return 0!==w?w:Jt(vi(p.longitude),vi(_.longitude))}(l.geoPointValue,n.geoPointValue);case 9:return function(p,_){const w=p.values||[],L=_.values||[];for(let X=0;X<w.length&&X<L.length;++X){const ge=ai(w[X],L[X]);if(ge)return ge}return Jt(w.length,L.length)}(l.arrayValue,n.arrayValue);case 10:return function(p,_){if(p===No.mapValue&&_===No.mapValue)return 0;if(p===No.mapValue)return 1;if(_===No.mapValue)return-1;const w=p.fields||{},L=Object.keys(w),X=_.fields||{},ge=Object.keys(X);L.sort(),ge.sort();for(let Fe=0;Fe<L.length&&Fe<ge.length;++Fe){const ut=Jt(L[Fe],ge[Fe]);if(0!==ut)return ut;const Ht=ai(w[L[Fe]],X[ge[Fe]]);if(0!==Ht)return Ht}return Jt(L.length,ge.length)}(l.mapValue,n.mapValue);default:throw zt()}}function S(l,n){if("string"==typeof l&&"string"==typeof n&&l.length===n.length)return Jt(l,n);const i=Io(l),s=Io(n),c=Jt(i.seconds,s.seconds);return 0!==c?c:Jt(i.nanos,s.nanos)}function Q(l){return _e(l)}function _e(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?function(i){const s=Io(i);return`time(${s.seconds},${s.nanos})`}(l.timestampValue):"stringValue"in l?l.stringValue:"bytesValue"in l?Ur(l.bytesValue).toBase64():"referenceValue"in l?Qt.fromName(l.referenceValue).toString():"geoPointValue"in l?function(i){return`geo(${i.latitude},${i.longitude})`}(l.geoPointValue):"arrayValue"in l?function(i){let s="[",c=!0;for(const p of i.values||[])c?c=!1:s+=",",s+=_e(p);return s+"]"}(l.arrayValue):"mapValue"in l?function(i){const s=Object.keys(i.fields||{}).sort();let c="{",p=!0;for(const _ of s)p?p=!1:c+=",",c+=`${_}:${_e(i.fields[_])}`;return c+"}"}(l.mapValue):zt()}function Ce(l,n){return{referenceValue:`projects/${l.projectId}/databases/${l.database}/documents/${n.path.canonicalString()}`}}function ht(l){return!!l&&"integerValue"in l}function mr(l){return!!l&&"arrayValue"in l}function Ai(l){return!!l&&"nullValue"in l}function K(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function he(l){return!!l&&"mapValue"in l}function Se(l){if(l.geoPointValue)return{geoPointValue:Object.assign({},l.geoPointValue)};if(l.timestampValue&&"object"==typeof l.timestampValue)return{timestampValue:Object.assign({},l.timestampValue)};if(l.mapValue){const n={mapValue:{fields:{}}};return Ki(l.mapValue.fields,(i,s)=>n.mapValue.fields[i]=Se(s)),n}if(l.arrayValue){const n={arrayValue:{values:[]}};for(let i=0;i<(l.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=Se(l.arrayValue.values[i]);return n}return Object.assign({},l)}function He(l){return"__max__"===(((l.mapValue||{}).fields||{}).__type__||{}).stringValue}function bt(l){return"nullValue"in l?Oo:"booleanValue"in l?{booleanValue:!1}:"integerValue"in l||"doubleValue"in l?{doubleValue:NaN}:"timestampValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in l?{stringValue:""}:"bytesValue"in l?{bytesValue:""}:"referenceValue"in l?Ce(ar.empty(),Qt.empty()):"geoPointValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in l?{arrayValue:{}}:"mapValue"in l?{mapValue:{}}:zt()}function Et(l){return"nullValue"in l?{booleanValue:!1}:"booleanValue"in l?{doubleValue:NaN}:"integerValue"in l||"doubleValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in l?{stringValue:""}:"stringValue"in l?{bytesValue:""}:"bytesValue"in l?Ce(ar.empty(),Qt.empty()):"referenceValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in l?{arrayValue:{}}:"arrayValue"in l?{mapValue:{}}:"mapValue"in l?No:zt()}function Yt(l,n){const i=ai(l.value,n.value);return 0!==i?i:l.inclusive&&!n.inclusive?-1:!l.inclusive&&n.inclusive?1:0}function on(l,n){const i=ai(l.value,n.value);return 0!==i?i:l.inclusive&&!n.inclusive?1:!l.inclusive&&n.inclusive?-1:0}class Zt{constructor(n){this.value=n}static empty(){return new Zt({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let i=this.value;for(let s=0;s<n.length-1;++s)if(i=(i.mapValue.fields||{})[n.get(s)],!he(i))return null;return i=(i.mapValue.fields||{})[n.lastSegment()],i||null}}set(n,i){this.getFieldsMap(n.popLast())[n.lastSegment()]=Se(i)}setAll(n){let i=rn.emptyPath(),s={},c=[];n.forEach((_,w)=>{if(!i.isImmediateParentOf(w)){const L=this.getFieldsMap(i);this.applyChanges(L,s,c),s={},c=[],i=w.popLast()}_?s[w.lastSegment()]=Se(_):c.push(w.lastSegment())});const p=this.getFieldsMap(i);this.applyChanges(p,s,c)}delete(n){const i=this.field(n.popLast());he(i)&&i.mapValue.fields&&delete i.mapValue.fields[n.lastSegment()]}isEqual(n){return Ri(this.value,n.value)}getFieldsMap(n){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<n.length;++s){let c=i.mapValue.fields[n.get(s)];he(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},i.mapValue.fields[n.get(s)]=c),i=c}return i.mapValue.fields}applyChanges(n,i,s){Ki(i,(c,p)=>n[c]=p);for(const c of s)delete n[c]}clone(){return new Zt(Se(this.value))}}function cn(l){const n=[];return Ki(l.fields,(i,s)=>{const c=new rn([i]);if(he(s)){const p=cn(s.mapValue).fields;if(0===p.length)n.push(c);else for(const _ of p)n.push(c.child(_))}else n.push(c)}),new Qr(n)}class dn{constructor(n,i,s,c,p,_,w){this.key=n,this.documentType=i,this.version=s,this.readTime=c,this.createTime=p,this.data=_,this.documentState=w}static newInvalidDocument(n){return new dn(n,0,nn.min(),nn.min(),nn.min(),Zt.empty(),0)}static newFoundDocument(n,i,s,c){return new dn(n,1,i,nn.min(),s,c,0)}static newNoDocument(n,i){return new dn(n,2,i,nn.min(),nn.min(),Zt.empty(),0)}static newUnknownDocument(n,i){return new dn(n,3,i,nn.min(),nn.min(),Zt.empty(),2)}convertToFoundDocument(n,i){return!this.createTime.isEqual(nn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=n),this.version=n,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=Zt.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=Zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=nn.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof dn&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class kn{constructor(n,i){this.position=n,this.inclusive=i}}function zn(l,n,i){let s=0;for(let c=0;c<l.position.length;c++){const p=n[c],_=l.position[c];if(s=p.field.isKeyField()?Qt.comparator(Qt.fromName(_.referenceValue),i.key):ai(_,i.data.field(p.field)),"desc"===p.dir&&(s*=-1),0!==s)break}return s}function ir(l,n){if(null===l)return null===n;if(null===n||l.inclusive!==n.inclusive||l.position.length!==n.position.length)return!1;for(let i=0;i<l.position.length;i++)if(!Ri(l.position[i],n.position[i]))return!1;return!0}class vr{constructor(n,i="asc"){this.field=n,this.dir=i}}function qi(l,n){return l.dir===n.dir&&l.field.isEqual(n.field)}class Ar{}class er extends Ar{constructor(n,i,s){super(),this.field=n,this.op=i,this.value=s}static create(n,i,s){return n.isKeyField()?"in"===i||"not-in"===i?this.createKeyFieldInFilter(n,i,s):new Fo(n,i,s):"array-contains"===i?new Or(n,s):"in"===i?new Ns(n,s):"not-in"===i?new $a(n,s):"array-contains-any"===i?new Ra(n,s):new er(n,i,s)}static createKeyFieldInFilter(n,i,s){return"in"===i?new Jo(n,s):new pi(n,s)}matches(n){const i=n.data.field(this.field);return"!="===this.op?null!==i&&this.matchesComparison(ai(i,this.value)):null!==i&&Go(this.value)===Go(i)&&this.matchesComparison(ai(i,this.value))}matchesComparison(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return zt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pr extends Ar{constructor(n,i){super(),this.filters=n,this.op=i,this.ae=null}static create(n,i){return new pr(n,i)}matches(n){return fi(this)?void 0===this.filters.find(i=>!i.matches(n)):void 0!==this.filters.find(i=>i.matches(n))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((n,i)=>n.concat(i.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function fi(l){return"and"===l.op}function ko(l){return"or"===l.op}function rs(l){return So(l)&&fi(l)}function So(l){for(const n of l.filters)if(n instanceof pr)return!1;return!0}function Ua(l){if(l instanceof er)return l.field.canonicalString()+l.op.toString()+Q(l.value);if(rs(l))return l.filters.map(n=>Ua(n)).join(",");{const n=l.filters.map(i=>Ua(i)).join(",");return`${l.op}(${n})`}}function ma(l,n){return l instanceof er?(s=l,(c=n)instanceof er&&s.op===c.op&&s.field.isEqual(c.field)&&Ri(s.value,c.value)):l instanceof pr?function(s,c){return c instanceof pr&&s.op===c.op&&s.filters.length===c.filters.length&&s.filters.reduce((p,_,w)=>p&&ma(_,c.filters[w]),!0)}(l,n):void zt();var s,c}function ao(l,n){const i=l.filters.concat(n);return pr.create(i,l.op)}function Sa(l){return l instanceof er?`${(i=l).field.canonicalString()} ${i.op} ${Q(i.value)}`:l instanceof pr?function(i){return i.op.toString()+" {"+i.getFilters().map(Sa).join(" ,")+"}"}(l):"Filter";var i}class Fo extends er{constructor(n,i,s){super(n,i,s),this.key=Qt.fromName(s.referenceValue)}matches(n){const i=Qt.comparator(n.key,this.key);return this.matchesComparison(i)}}class Jo extends er{constructor(n,i){super(n,"in",i),this.keys=fo(0,i)}matches(n){return this.keys.some(i=>i.isEqual(n.key))}}class pi extends er{constructor(n,i){super(n,"not-in",i),this.keys=fo(0,i)}matches(n){return!this.keys.some(i=>i.isEqual(n.key))}}function fo(l,n){var i;return((null===(i=n.arrayValue)||void 0===i?void 0:i.values)||[]).map(s=>Qt.fromName(s.referenceValue))}class Or extends er{constructor(n,i){super(n,"array-contains",i)}matches(n){const i=n.data.field(this.field);return mr(i)&&wo(i.arrayValue,this.value)}}class Ns extends er{constructor(n,i){super(n,"in",i)}matches(n){const i=n.data.field(this.field);return null!==i&&wo(this.value.arrayValue,i)}}class $a extends er{constructor(n,i){super(n,"not-in",i)}matches(n){if(wo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=n.data.field(this.field);return null!==i&&!wo(this.value.arrayValue,i)}}class Ra extends er{constructor(n,i){super(n,"array-contains-any",i)}matches(n){const i=n.data.field(this.field);return!(!mr(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>wo(this.value.arrayValue,s))}}class is{constructor(n,i=null,s=[],c=[],p=null,_=null,w=null){this.path=n,this.collectionGroup=i,this.orderBy=s,this.filters=c,this.limit=p,this.startAt=_,this.endAt=w,this.ue=null}}function _s(l,n=null,i=[],s=[],c=null,p=null,_=null){return new is(l,n,i,s,c,p,_)}function po(l){const n=$e(l);if(null===n.ue){let i=n.path.canonicalString();null!==n.collectionGroup&&(i+="|cg:"+n.collectionGroup),i+="|f:",i+=n.filters.map(s=>Ua(s)).join(","),i+="|ob:",i+=n.orderBy.map(s=>{return(p=s).field.canonicalString()+p.dir;var p}).join(","),lt(n.limit)||(i+="|l:",i+=n.limit),n.startAt&&(i+="|lb:",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>Q(s)).join(",")),n.endAt&&(i+="|ub:",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>Q(s)).join(",")),n.ue=i}return n.ue}function Ko(l,n){if(l.limit!==n.limit||l.orderBy.length!==n.orderBy.length)return!1;for(let i=0;i<l.orderBy.length;i++)if(!qi(l.orderBy[i],n.orderBy[i]))return!1;if(l.filters.length!==n.filters.length)return!1;for(let i=0;i<l.filters.length;i++)if(!ma(l.filters[i],n.filters[i]))return!1;return l.collectionGroup===n.collectionGroup&&!!l.path.isEqual(n.path)&&!!ir(l.startAt,n.startAt)&&ir(l.endAt,n.endAt)}function lo(l){return Qt.isDocumentKey(l.path)&&null===l.collectionGroup&&0===l.filters.length}function Lo(l,n){return l.filters.filter(i=>i instanceof er&&i.field.isEqual(n))}function Eo(l,n,i){let s=Oo,c=!0;for(const p of Lo(l,n)){let _=Oo,w=!0;switch(p.op){case"<":case"<=":_=bt(p.value);break;case"==":case"in":case">=":_=p.value;break;case">":_=p.value,w=!1;break;case"!=":case"not-in":_=Oo}Yt({value:s,inclusive:c},{value:_,inclusive:w})<0&&(s=_,c=w)}if(null!==i)for(let p=0;p<l.orderBy.length;++p)if(l.orderBy[p].field.isEqual(n)){const _=i.position[p];Yt({value:s,inclusive:c},{value:_,inclusive:i.inclusive})<0&&(s=_,c=i.inclusive);break}return{value:s,inclusive:c}}function Pa(l,n,i){let s=No,c=!0;for(const p of Lo(l,n)){let _=No,w=!0;switch(p.op){case">=":case">":_=Et(p.value),w=!1;break;case"==":case"in":case"<=":_=p.value;break;case"<":_=p.value,w=!1;break;case"!=":case"not-in":_=No}on({value:s,inclusive:c},{value:_,inclusive:w})>0&&(s=_,c=w)}if(null!==i)for(let p=0;p<l.orderBy.length;++p)if(l.orderBy[p].field.isEqual(n)){const _=i.position[p];on({value:s,inclusive:c},{value:_,inclusive:i.inclusive})>0&&(s=_,c=i.inclusive);break}return{value:s,inclusive:c}}class yo{constructor(n,i=null,s=[],c=[],p=null,_="F",w=null,L=null){this.path=n,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=c,this.limit=p,this.limitType=_,this.startAt=w,this.endAt=L,this.ce=null,this.le=null,this.he=null}}function ys(l,n,i,s,c,p,_,w){return new yo(l,n,i,s,c,p,_,w)}function Pi(l){return new yo(l)}function qs(l){return 0===l.filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())}function aa(l){return null!==l.collectionGroup}function G(l){const n=$e(l);if(null===n.ce){n.ce=[];const i=new Set;for(const p of n.explicitOrderBy)n.ce.push(p),i.add(p.field.canonicalString());const s=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";(function(_){let w=new Nr(rn.comparator);return _.filters.forEach(L=>{L.getFlattenedFilters().forEach(X=>{X.isInequality()&&(w=w.add(X.field))})}),w})(n).forEach(p=>{i.has(p.canonicalString())||p.isKeyField()||n.ce.push(new vr(p,s))}),i.has(rn.keyField().canonicalString())||n.ce.push(new vr(rn.keyField(),s))}return n.ce}function M(l){const n=$e(l);return n.le||(n.le=function W(l,n){if("F"===l.limitType)return _s(l.path,l.collectionGroup,n,l.filters,l.limit,l.startAt,l.endAt);{n=n.map(c=>new vr(c.field,"desc"===c.dir?"asc":"desc"));const i=l.endAt?new kn(l.endAt.position,l.endAt.inclusive):null,s=l.startAt?new kn(l.startAt.position,l.startAt.inclusive):null;return _s(l.path,l.collectionGroup,n,l.filters,l.limit,i,s)}}(n,G(l))),n.le}function be(l,n){const i=l.filters.concat([n]);return new yo(l.path,l.collectionGroup,l.explicitOrderBy.slice(),i,l.limit,l.limitType,l.startAt,l.endAt)}function sn(l,n,i){return new yo(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),n,i,l.startAt,l.endAt)}function Bn(l,n){return Ko(M(l),M(n))&&l.limitType===n.limitType}function fr(l){return`${po(M(l))}|lt:${l.limitType}`}function go(l){return`Query(target=${function(i){let s=i.path.canonicalString();return null!==i.collectionGroup&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(c=>Sa(c)).join(", ")}]`),lt(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(c=>{return`${(_=c).field.canonicalString()} (${_.dir})`;var _}).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(c=>Q(c)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(c=>Q(c)).join(",")),`Target(${s})`}(M(l))}; limitType=${l.limitType})`}function Vo(l,n){return n.isFoundDocument()&&function(s,c){const p=c.key.path;return null!==s.collectionGroup?c.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(p):Qt.isDocumentKey(s.path)?s.path.isEqual(p):s.path.isImmediateParentOf(p)}(l,n)&&function(s,c){for(const p of G(s))if(!p.field.isKeyField()&&null===c.data.field(p.field))return!1;return!0}(l,n)&&function(s,c){for(const p of s.filters)if(!p.matches(c))return!1;return!0}(l,n)&&(c=n,!((s=l).startAt&&!function(_,w,L){const X=zn(_,w,L);return _.inclusive?X<=0:X<0}(s.startAt,G(s),c)||s.endAt&&!function(_,w,L){const X=zn(_,w,L);return _.inclusive?X>=0:X>0}(s.endAt,G(s),c)));var s,c}function Xi(l){return l.collectionGroup||(l.path.length%2==1?l.path.lastSegment():l.path.get(l.path.length-2))}function Ro(l){return(n,i)=>{let s=!1;for(const c of G(l)){const p=va(c,n,i);if(0!==p)return p;s=s||c.field.isKeyField()}return 0}}function va(l,n,i){const s=l.field.isKeyField()?Qt.comparator(n.key,i.key):function(p,_,w){const L=_.data.field(p),X=w.data.field(p);return null!==L&&null!==X?ai(L,X):zt()}(l.field,n,i);switch(l.dir){case"asc":return s;case"desc":return-1*s;default:return zt()}}class ds{constructor(n,i){this.mapKeyFn=n,this.equalsFn=i,this.inner={},this.innerSize=0}get(n){const i=this.mapKeyFn(n),s=this.inner[i];if(void 0!==s)for(const[c,p]of s)if(this.equalsFn(c,n))return p}has(n){return void 0!==this.get(n)}set(n,i){const s=this.mapKeyFn(n),c=this.inner[s];if(void 0===c)return this.inner[s]=[[n,i]],void this.innerSize++;for(let p=0;p<c.length;p++)if(this.equalsFn(c[p][0],n))return void(c[p]=[n,i]);c.push([n,i]),this.innerSize++}delete(n){const i=this.mapKeyFn(n),s=this.inner[i];if(void 0===s)return!1;for(let c=0;c<s.length;c++)if(this.equalsFn(s[c][0],n))return 1===s.length?delete this.inner[i]:s.splice(c,1),this.innerSize--,!0;return!1}forEach(n){Ki(this.inner,(i,s)=>{for(const[c,p]of s)n(c,p)})}isEmpty(){return jr(this.inner)}size(){return this.innerSize}}const lu=new Er(Qt.comparator);function Qi(){return lu}const la=new Er(Qt.comparator);function Is(...l){let n=la;for(const i of l)n=n.insert(i.key,i);return n}function Ba(l){let n=la;return l.forEach((i,s)=>n=n.insert(i,s.overlayedDocument)),n}function uo(){return Mi()}function xr(){return Mi()}function Mi(){return new ds(l=>l.toString(),(l,n)=>l.isEqual(n))}const ro=new Er(Qt.comparator),Uo=new Nr(Qt.comparator);function sr(...l){let n=Uo;for(const i of l)n=n.add(i);return n}const ja=new Nr(Jt);function Es(){return ja}function As(l,n){if(l.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qt(n)?"-0":n}}function xl(l){return{integerValue:""+l}}function rl(l,n){return yn(n)?xl(n):As(l,n)}class Xs{constructor(){this._=void 0}}function za(l,n,i){return l instanceof Cs?function(c,p){const _={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return p&&zr(p)&&(p=lr(p)),p&&(_.fields.__previous_value__=p),{mapValue:_}}(i,n):l instanceof ua?Qs(l,n):l instanceof Os?il(l,n):function(c,p){const _=Yi(c,p),w=qo(_)+qo(c.Pe);return ht(_)&&ht(c.Pe)?xl(w):As(c.serializer,w)}(l,n)}function Ma(l,n,i){return l instanceof ua?Qs(l,n):l instanceof Os?il(l,n):i}function Yi(l,n){return l instanceof _a?ht(s=n)||(p=s)&&"doubleValue"in p?n:{integerValue:0}:null;var s,p}class Cs extends Xs{}class ua extends Xs{constructor(n){super(),this.elements=n}}function Qs(l,n){const i=Ys(n);for(const s of l.elements)i.some(c=>Ri(c,s))||i.push(s);return{arrayValue:{values:i}}}class Os extends Xs{constructor(n){super(),this.elements=n}}function il(l,n){let i=Ys(n);for(const s of l.elements)i=i.filter(c=>!Ri(c,s));return{arrayValue:{values:i}}}class _a extends Xs{constructor(n,i){super(),this.serializer=n,this.Pe=i}}function qo(l){return vi(l.integerValue||l.doubleValue)}function Ys(l){return mr(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}class ya{constructor(n,i){this.field=n,this.transform=i}}class ol{constructor(n,i){this.version=n,this.transformResults=i}}class Ci{constructor(n,i){this.updateTime=n,this.exists=i}static none(){return new Ci}static exists(n){return new Ci(void 0,n)}static updateTime(n){return new Ci(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function hs(l,n){return void 0!==l.updateTime?n.isFoundDocument()&&n.version.isEqual(l.updateTime):void 0===l.exists||l.exists===n.isFoundDocument()}class ks{}function es(l,n){if(!l.hasLocalMutations||n&&0===n.fields.length)return null;if(null===n)return l.isNoDocument()?new Js(l.key,Ci.none()):new Ts(l.key,l.data,Ci.none());{const i=l.data,s=Zt.empty();let c=new Nr(rn.comparator);for(let p of n.fields)if(!c.has(p)){let _=i.field(p);null===_&&p.length>1&&(p=p.popLast(),_=i.field(p)),null===_?s.delete(p):s.set(p,_),c=c.add(p)}return new $o(l.key,s,new Qr(c.toArray()),Ci.none())}}function Zs(l,n,i){l instanceof Ts?function(c,p,_){const w=c.value.clone(),L=Ea(c.fieldTransforms,p,_.transformResults);w.setAll(L),p.convertToFoundDocument(_.version,w).setHasCommittedMutations()}(l,n,i):l instanceof $o?function(c,p,_){if(!hs(c.precondition,p))return void p.convertToUnknownDocument(_.version);const w=Ea(c.fieldTransforms,p,_.transformResults),L=p.data;L.setAll(Fs(c)),L.setAll(w),p.convertToFoundDocument(_.version,L).setHasCommittedMutations()}(l,n,i):n.convertToNoDocument(i.version).setHasCommittedMutations()}function Ia(l,n,i,s){return l instanceof Ts?function(p,_,w,L){if(!hs(p.precondition,_))return w;const X=p.value.clone(),ge=al(p.fieldTransforms,L,_);return X.setAll(ge),_.convertToFoundDocument(_.version,X).setHasLocalMutations(),null}(l,n,i,s):l instanceof $o?function(p,_,w,L){if(!hs(p.precondition,_))return w;const X=al(p.fieldTransforms,L,_),ge=_.data;return ge.setAll(Fs(p)),ge.setAll(X),_.convertToFoundDocument(_.version,ge).setHasLocalMutations(),null===w?null:w.unionWith(p.fieldMask.fields).unionWith(p.fieldTransforms.map(Fe=>Fe.field))}(l,n,i,s):(w=i,hs(l.precondition,_=n)?(_.convertToNoDocument(_.version).setHasLocalMutations(),null):w);var _,w}function Nl(l,n){let i=null;for(const s of l.fieldTransforms){const c=n.data.field(s.field),p=Yi(s.transform,c||null);null!=p&&(null===i&&(i=Zt.empty()),i.set(s.field,p))}return i||null}function sl(l,n){return l.type===n.type&&!!l.key.isEqual(n.key)&&!!l.precondition.isEqual(n.precondition)&&(c=n.fieldTransforms,!!(void 0===(s=l.fieldTransforms)&&void 0===c||s&&c&&Pn(s,c,(p,_)=>function Ha(l,n){return l.field.isEqual(n.field)&&(c=n.transform,(s=l.transform)instanceof ua&&c instanceof ua||s instanceof Os&&c instanceof Os?Pn(s.elements,c.elements,Ri):s instanceof _a&&c instanceof _a?Ri(s.Pe,c.Pe):s instanceof Cs&&c instanceof Cs);var s,c}(p,_))))&&(0===l.type?l.value.isEqual(n.value):1!==l.type||l.data.isEqual(n.data)&&l.fieldMask.isEqual(n.fieldMask));var s,c}class Ts extends ks{constructor(n,i,s,c=[]){super(),this.key=n,this.value=i,this.precondition=s,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class $o extends ks{constructor(n,i,s,c,p=[]){super(),this.key=n,this.data=i,this.fieldMask=s,this.precondition=c,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function Fs(l){const n=new Map;return l.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=l.data.field(i);n.set(i,s)}}),n}function Ea(l,n,i){const s=new Map;It(l.length===i.length);for(let c=0;c<i.length;c++){const p=l[c],_=p.transform,w=n.data.field(p.field);s.set(p.field,Ma(_,w,i[c]))}return s}function al(l,n,i){const s=new Map;for(const c of l){const p=c.transform,_=i.data.field(c.field);s.set(c.field,za(p,_,n))}return s}class Js extends ks{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ds extends ks{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class xa{constructor(n,i,s,c){this.batchId=n,this.localWriteTime=i,this.baseMutations=s,this.mutations=c}applyToRemoteDocument(n,i){const s=i.mutationResults;for(let c=0;c<this.mutations.length;c++){const p=this.mutations[c];p.key.isEqual(n.key)&&Zs(p,n,s[c])}}applyToLocalView(n,i){for(const s of this.baseMutations)s.key.isEqual(n.key)&&(i=Ia(s,n,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(n.key)&&(i=Ia(s,n,i,this.localWriteTime));return i}applyToLocalDocumentSet(n,i){const s=xr();return this.mutations.forEach(c=>{const p=n.get(c.key),_=p.overlayedDocument;let w=this.applyToLocalView(_,p.mutatedFields);w=i.has(c.key)?null:w;const L=es(_,w);null!==L&&s.set(c.key,L),_.isValidDocument()||_.convertToNoDocument(nn.min())}),s}keys(){return this.mutations.reduce((n,i)=>n.add(i.key),sr())}isEqual(n){return this.batchId===n.batchId&&Pn(this.mutations,n.mutations,(i,s)=>sl(i,s))&&Pn(this.baseMutations,n.baseMutations,(i,s)=>sl(i,s))}}class os{constructor(n,i,s,c){this.batch=n,this.commitVersion=i,this.mutationResults=s,this.docVersions=c}static from(n,i,s){It(n.mutations.length===s.length);let c=function(){return ro}();const p=n.mutations;for(let _=0;_<p.length;_++)c=c.insert(p[_].key,s[_].version);return new os(n,i,s,c)}}class C{constructor(n,i){this.largestBatchId=n,this.mutation=i}getKey(){return this.mutation.key}isEqual(n){return null!==n&&this.mutation===n.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ne{constructor(n,i){this.count=n,this.unchangedNames=i}}var k,ae;function je(l){switch(l){default:return zt();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function Xt(l){if(void 0===l)return Dt("GRPC error has no .code"),J.UNKNOWN;switch(l){case k.OK:return J.OK;case k.CANCELLED:return J.CANCELLED;case k.UNKNOWN:return J.UNKNOWN;case k.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case k.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case k.INTERNAL:return J.INTERNAL;case k.UNAVAILABLE:return J.UNAVAILABLE;case k.UNAUTHENTICATED:return J.UNAUTHENTICATED;case k.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case k.NOT_FOUND:return J.NOT_FOUND;case k.ALREADY_EXISTS:return J.ALREADY_EXISTS;case k.PERMISSION_DENIED:return J.PERMISSION_DENIED;case k.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case k.ABORTED:return J.ABORTED;case k.OUT_OF_RANGE:return J.OUT_OF_RANGE;case k.UNIMPLEMENTED:return J.UNIMPLEMENTED;case k.DATA_LOSS:return J.DATA_LOSS;default:return zt()}}(ae=k||(k={}))[ae.OK=0]="OK",ae[ae.CANCELLED=1]="CANCELLED",ae[ae.UNKNOWN=2]="UNKNOWN",ae[ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ae[ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ae[ae.NOT_FOUND=5]="NOT_FOUND",ae[ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",ae[ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",ae[ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",ae[ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ae[ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ae[ae.ABORTED=10]="ABORTED",ae[ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",ae[ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",ae[ae.INTERNAL=13]="INTERNAL",ae[ae.UNAVAILABLE=14]="UNAVAILABLE",ae[ae.DATA_LOSS=15]="DATA_LOSS";function br(){return new TextEncoder}const $r=new xe([4294967295,4294967295],0);function Yr(l){const n=br().encode(l),i=new Qe;return i.update(n),new Uint8Array(i.digest())}function kr(l){const n=new DataView(l.buffer),i=n.getUint32(0,!0),s=n.getUint32(4,!0),c=n.getUint32(8,!0),p=n.getUint32(12,!0);return[new xe([i,s],0),new xe([c,p],0)]}class ei{constructor(n,i,s){if(this.bitmap=n,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Wr(`Invalid padding: ${i}`);if(s<0)throw new Wr(`Invalid hash count: ${s}`);if(n.length>0&&0===this.hashCount)throw new Wr(`Invalid hash count: ${s}`);if(0===n.length&&0!==i)throw new Wr(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*n.length-i,this.Te=xe.fromNumber(this.Ie)}Ee(n,i,s){let c=n.add(i.multiply(xe.fromNumber(s)));return 1===c.compare($r)&&(c=new xe([c.getBits(0),c.getBits(1)],0)),c.modulo(this.Te).toNumber()}de(n){return!!(this.bitmap[Math.floor(n/8)]&1<<n%8)}mightContain(n){if(0===this.Ie)return!1;const i=Yr(n),[s,c]=kr(i);for(let p=0;p<this.hashCount;p++){const _=this.Ee(s,c,p);if(!this.de(_))return!1}return!0}static create(n,i,s){const c=n%8==0?0:8-n%8,p=new Uint8Array(Math.ceil(n/8)),_=new ei(p,c,i);return s.forEach(w=>_.insert(w)),_}insert(n){if(0===this.Ie)return;const i=Yr(n),[s,c]=kr(i);for(let p=0;p<this.hashCount;p++){const _=this.Ee(s,c,p);this.Ae(_)}}Ae(n){const i=Math.floor(n/8);this.bitmap[i]|=1<<n%8}}class Wr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vi{constructor(n,i,s,c,p){this.snapshotVersion=n,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=c,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(n,i,s){const c=new Map;return c.set(n,Zr.createSynthesizedTargetChangeForCurrentChange(n,i,s)),new Vi(nn.min(),c,new Er(Jt),Qi(),sr())}}class Zr{constructor(n,i,s,c,p){this.resumeToken=n,this.current=i,this.addedDocuments=s,this.modifiedDocuments=c,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(n,i,s){return new Zr(s,i,sr(),sr(),sr())}}class En{constructor(n,i,s,c){this.Re=n,this.removedTargetIds=i,this.key=s,this.Ve=c}}class $n{constructor(n,i){this.targetId=n,this.me=i}}class ci{constructor(n,i,s=Li.EMPTY_BYTE_STRING,c=null){this.state=n,this.targetIds=i,this.resumeToken=s,this.cause=c}}class xi{constructor(){this.fe=0,this.ge=bs(),this.pe=Li.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(n){n.approximateByteSize()>0&&(this.we=!0,this.pe=n)}Ce(){let n=sr(),i=sr(),s=sr();return this.ge.forEach((c,p)=>{switch(p){case 0:n=n.add(c);break;case 2:i=i.add(c);break;case 1:s=s.add(c);break;default:zt()}}),new Zr(this.pe,this.ye,n,i,s)}ve(){this.we=!1,this.ge=bs()}Fe(n,i){this.we=!0,this.ge=this.ge.insert(n,i)}Me(n){this.we=!0,this.ge=this.ge.remove(n)}xe(){this.fe+=1}Oe(){this.fe-=1,It(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class _i{constructor(n){this.Le=n,this.Be=new Map,this.ke=Qi(),this.qe=mo(),this.Qe=new Er(Jt)}Ke(n){for(const i of n.Re)n.Ve&&n.Ve.isFoundDocument()?this.$e(i,n.Ve):this.Ue(i,n.key,n.Ve);for(const i of n.removedTargetIds)this.Ue(i,n.key,n.Ve)}We(n){this.forEachTarget(n,i=>{const s=this.Ge(i);switch(n.state){case 0:this.ze(i)&&s.De(n.resumeToken);break;case 1:s.Oe(),s.Se||s.ve(),s.De(n.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(s.Ne(),s.De(n.resumeToken));break;case 4:this.ze(i)&&(this.je(i),s.De(n.resumeToken));break;default:zt()}})}forEachTarget(n,i){n.targetIds.length>0?n.targetIds.forEach(i):this.Be.forEach((s,c)=>{this.ze(c)&&i(c)})}He(n){const i=n.targetId,s=n.me.count,c=this.Je(i);if(c){const p=c.target;if(lo(p))if(0===s){const _=new Qt(p.path);this.Ue(i,_,dn.newNoDocument(_,nn.min()))}else It(1===s);else{const _=this.Ye(i);if(_!==s){const w=this.Ze(n),L=w?this.Xe(w,n,_):1;0!==L&&(this.je(i),this.Qe=this.Qe.insert(i,2===L?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(n){const i=n.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:c=0},hashCount:p=0}=i;let _,w;try{_=Ur(s).toUint8Array()}catch(L){if(L instanceof hr)return wt("Decoding the base64 bloom filter in existence filter failed ("+L.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw L}try{w=new ei(_,c,p)}catch(L){return wt(L instanceof Wr?"BloomFilter error: ":"Applying bloom filter failed: ",L),null}return 0===w.Ie?null:w}Xe(n,i,s){return i.me.count===s-this.nt(n,i.targetId)?0:2}nt(n,i){const s=this.Le.getRemoteKeysForTarget(i);let c=0;return s.forEach(p=>{const _=this.Le.tt(),w=`projects/${_.projectId}/databases/${_.database}/documents/${p.path.canonicalString()}`;n.mightContain(w)||(this.Ue(i,p,null),c++)}),c}rt(n){const i=new Map;this.Be.forEach((p,_)=>{const w=this.Je(_);if(w){if(p.current&&lo(w.target)){const L=new Qt(w.target.path);null!==this.ke.get(L)||this.it(_,L)||this.Ue(_,L,dn.newNoDocument(L,n))}p.be&&(i.set(_,p.Ce()),p.ve())}});let s=sr();this.qe.forEach((p,_)=>{let w=!0;_.forEachWhile(L=>{const X=this.Je(L);return!X||"TargetPurposeLimboResolution"===X.purpose||(w=!1,!1)}),w&&(s=s.add(p))}),this.ke.forEach((p,_)=>_.setReadTime(n));const c=new Vi(n,i,this.Qe,this.ke,s);return this.ke=Qi(),this.qe=mo(),this.Qe=new Er(Jt),c}$e(n,i){if(!this.ze(n))return;const s=this.it(n,i.key)?2:0;this.Ge(n).Fe(i.key,s),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(n))}Ue(n,i,s){if(!this.ze(n))return;const c=this.Ge(n);this.it(n,i)?c.Fe(i,1):c.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(n)),s&&(this.ke=this.ke.insert(i,s))}removeTarget(n){this.Be.delete(n)}Ye(n){const i=this.Ge(n).Ce();return this.Le.getRemoteKeysForTarget(n).size+i.addedDocuments.size-i.removedDocuments.size}xe(n){this.Ge(n).xe()}Ge(n){let i=this.Be.get(n);return i||(i=new xi,this.Be.set(n,i)),i}st(n){let i=this.qe.get(n);return i||(i=new Nr(Jt),this.qe=this.qe.insert(n,i)),i}ze(n){const i=null!==this.Je(n);return i||te("WatchChangeAggregator","Detected inactive target",n),i}Je(n){const i=this.Be.get(n);return i&&i.Se?null:this.Le.ot(n)}je(n){this.Be.set(n,new xi),this.Le.getRemoteKeysForTarget(n).forEach(i=>{this.Ue(n,i,null)})}it(n,i){return this.Le.getRemoteKeysForTarget(n).has(i)}}function mo(){return new Er(Qt.comparator)}function bs(){return new Er(Qt.comparator)}const Ui={asc:"ASCENDING",desc:"DESCENDING"},Po={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ea={and:"AND",or:"OR"};class Tr{constructor(n,i){this.databaseId=n,this.useProto3Json=i}}function ss(l,n){return l.useProto3Json||lt(n)?n:{value:n}}function Ls(l,n){return l.useProto3Json?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function Na(l,n){return l.useProto3Json?n.toBase64():n.toUint8Array()}function ti(l,n){return Ls(l,n.toTimestamp())}function Jr(l){return It(!!l),nn.fromTimestamp(function(i){const s=Io(i);return new bn(s.seconds,s.nanos)}(l))}function ca(l,n){return Vs(l,n).canonicalString()}function Vs(l,n){const i=(c=l,new pt(["projects",c.projectId,"databases",c.database])).child("documents");var c;return void 0===n?i:i.child(n)}function ll(l){const n=pt.fromString(l);return It(rc(n)),n}function Ol(l,n){return ca(l.databaseId,n.path)}function Ao(l,n){const i=ll(n);if(i.get(1)!==l.databaseId.projectId)throw new B(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+l.databaseId.projectId);if(i.get(3)!==l.databaseId.database)throw new B(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+l.databaseId.database);return new Qt(ul(i))}function Wa(l,n){return ca(l.databaseId,n)}function ws(l){const n=ll(l);return 4===n.length?pt.emptyPath():ul(n)}function wr(l){return new pt(["projects",l.databaseId.projectId,"databases",l.databaseId.database]).canonicalString()}function ul(l){return It(l.length>4&&"documents"===l.get(4)),l.popFirst(5)}function Ss(l,n,i){return{name:Ol(l,n),fields:i.value.mapValue.fields}}function Rs(l,n,i){const s=Ao(l,n.name),c=Jr(n.updateTime),p=n.createTime?Jr(n.createTime):nn.min(),_=new Zt({mapValue:{fields:n.fields}}),w=dn.newFoundDocument(s,c,p,_);return i&&w.setHasCommittedMutations(),i?w.setHasCommittedMutations():w}function $i(l,n){let i;if(n instanceof Ts)i={update:Ss(l,n.key,n.value)};else if(n instanceof Js)i={delete:Ol(l,n.key)};else if(n instanceof $o)i={update:Ss(l,n.key,n.data),updateMask:kd(n.fieldMask)};else{if(!(n instanceof Ds))return zt();i={verify:Ol(l,n.key)}}return n.fieldTransforms.length>0&&(i.updateTransforms=n.fieldTransforms.map(s=>function(p,_){const w=_.transform;if(w instanceof Cs)return{fieldPath:_.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(w instanceof ua)return{fieldPath:_.field.canonicalString(),appendMissingElements:{values:w.elements}};if(w instanceof Os)return{fieldPath:_.field.canonicalString(),removeAllFromArray:{values:w.elements}};if(w instanceof _a)return{fieldPath:_.field.canonicalString(),increment:w.Pe};throw zt()}(0,s))),n.precondition.isNone||(i.currentDocument=void 0!==(p=n.precondition).updateTime?{updateTime:ti(l,p.updateTime)}:void 0!==p.exists?{exists:p.exists}:zt()),i;var p}function kl(l,n){const i=n.currentDocument?void 0!==(p=n.currentDocument).updateTime?Ci.updateTime(Jr(p.updateTime)):void 0!==p.exists?Ci.exists(p.exists):Ci.none():Ci.none(),s=n.updateTransforms?n.updateTransforms.map(c=>function(_,w){let L=null;"setToServerValue"in w?(It("REQUEST_TIME"===w.setToServerValue),L=new Cs):"appendMissingElements"in w?L=new ua(w.appendMissingElements.values||[]):"removeAllFromArray"in w?L=new Os(w.removeAllFromArray.values||[]):"increment"in w?L=new _a(_,w.increment):zt();const X=rn.fromServerFormat(w.fieldPath);return new ya(X,L)}(l,c)):[];var p;if(n.update){const c=Ao(l,n.update.name),p=new Zt({mapValue:{fields:n.update.fields}});if(n.updateMask){const _=new Qr((n.updateMask.fieldPaths||[]).map(ge=>rn.fromServerFormat(ge)));return new $o(c,p,_,i,s)}return new Ts(c,p,i,s)}if(n.delete){const c=Ao(l,n.delete);return new Js(c,i)}if(n.verify){const c=Ao(l,n.verify);return new Ds(c,i)}return zt()}function jo(l,n){return{documents:[Wa(l,n.path)]}}function dl(l,n){const i={structuredQuery:{}},s=n.path;let c;null!==n.collectionGroup?(c=s,i.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(c=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Wa(l,c);const p=function(X){if(0!==X.length)return Ka(pr.create(X,"and"))}(n.filters);p&&(i.structuredQuery.where=p);const _=function(X){if(0!==X.length)return X.map(ge=>{return{field:Us((ut=ge).field),direction:fl(ut.dir)};var ut})}(n.orderBy);_&&(i.structuredQuery.orderBy=_);const w=ss(l,n.limit);return null!==w&&(i.structuredQuery.limit=w),n.startAt&&(i.structuredQuery.startAt={before:(X=n.startAt).inclusive,values:X.position}),n.endAt&&(i.structuredQuery.endAt=function(X){return{before:!X.inclusive,values:X.position}}(n.endAt)),{_t:i,parent:c};var X}function hl(l){let n=ws(l.parent);const i=l.structuredQuery,s=i.from?i.from.length:0;let c=null;if(s>0){It(1===s);const ge=i.from[0];ge.allDescendants?c=ge.collectionId:n=n.child(ge.collectionId)}let p=[];i.where&&(p=function(Fe){const ut=Ga(Fe);return ut instanceof pr&&rs(ut)?ut.getFilters():[ut]}(i.where));let _=[];i.orderBy&&(_=i.orderBy.map(ut=>{return new vr(Aa((fn=ut).field),function(Cn){switch(Cn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(fn.direction));var fn}));let w=null;i.limit&&(w=function(Fe){let ut;return ut="object"==typeof Fe?Fe.value:Fe,lt(ut)?null:ut}(i.limit));let L=null;var Fe;i.startAt&&(L=new kn((Fe=i.startAt).values||[],!!Fe.before));let X=null;return i.endAt&&(X=function(Fe){return new kn(Fe.values||[],!Fe.before)}(i.endAt)),ys(n,c,_,p,w,"F",L,X)}function Ga(l){return void 0!==l.unaryFilter?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Aa(i.unaryFilter.field);return er.create(s,"==",{doubleValue:NaN});case"IS_NULL":const c=Aa(i.unaryFilter.field);return er.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const p=Aa(i.unaryFilter.field);return er.create(p,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const _=Aa(i.unaryFilter.field);return er.create(_,"!=",{nullValue:"NULL_VALUE"});default:return zt()}}(l):void 0!==l.fieldFilter?er.create(Aa((i=l).fieldFilter.field),function(c){switch(c){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return zt()}}(i.fieldFilter.op),i.fieldFilter.value):void 0!==l.compositeFilter?function(i){return pr.create(i.compositeFilter.filters.map(s=>Ga(s)),function(c){switch(c){case"AND":return"and";case"OR":return"or";default:return zt()}}(i.compositeFilter.op))}(l):zt();var i}function fl(l){return Ui[l]}function uu(l){return Po[l]}function pl(l){return ea[l]}function Us(l){return{fieldPath:l.canonicalString()}}function Aa(l){return rn.fromServerFormat(l.fieldPath)}function Ka(l){return l instanceof er?function(i){if("=="===i.op){if(K(i.value))return{unaryFilter:{field:Us(i.field),op:"IS_NAN"}};if(Ai(i.value))return{unaryFilter:{field:Us(i.field),op:"IS_NULL"}}}else if("!="===i.op){if(K(i.value))return{unaryFilter:{field:Us(i.field),op:"IS_NOT_NAN"}};if(Ai(i.value))return{unaryFilter:{field:Us(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Us(i.field),op:uu(i.op),value:i.value}}}(l):l instanceof pr?function(i){const s=i.getFilters().map(c=>Ka(c));return 1===s.length?s[0]:{compositeFilter:{op:pl(i.op),filters:s}}}(l):zt()}function kd(l){const n=[];return l.fields.forEach(i=>n.push(i.canonicalString())),{fieldPaths:n}}function rc(l){return l.length>=4&&"projects"===l.get(0)&&"databases"===l.get(2)}class Ca{constructor(n,i,s,c,p=nn.min(),_=nn.min(),w=Li.EMPTY_BYTE_STRING,L=null){this.target=n,this.targetId=i,this.purpose=s,this.sequenceNumber=c,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=_,this.resumeToken=w,this.expectedCount=L}withSequenceNumber(n){return new Ca(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(n,i){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,n,null)}withExpectedCount(n){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,n)}withLastLimboFreeSnapshotVersion(n){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken,this.expectedCount)}}class Fd{constructor(n){this.ct=n}}function Gh(l,n){const i=n.key,s={prefixPath:i.getCollectionPath().popLast().toArray(),collectionGroup:i.collectionGroup,documentId:i.path.lastSegment(),readTime:I(n.readTime),hasCommittedMutations:n.hasCommittedMutations};if(n.isFoundDocument())s.document={name:Ol(p=l.ct,(_=n).key),fields:_.data.value.mapValue.fields,updateTime:Ls(p,_.version.toTimestamp()),createTime:Ls(p,_.createTime.toTimestamp())};else if(n.isNoDocument())s.noDocument={path:i.path.toArray(),readTime:D(n.version)};else{if(!n.isUnknownDocument())return zt();s.unknownDocument={path:i.path.toArray(),version:D(n.version)}}var p,_;return s}function I(l){const n=l.toTimestamp();return[n.seconds,n.nanoseconds]}function D(l){const n=l.toTimestamp();return{seconds:n.seconds,nanoseconds:n.nanoseconds}}function P(l){const n=new bn(l.seconds,l.nanoseconds);return nn.fromTimestamp(n)}function T(l,n){const i=(n.baseMutations||[]).map(p=>kl(l.ct,p));for(let p=0;p<n.mutations.length-1;++p)p+1<n.mutations.length&&void 0!==n.mutations[p+1].transform&&(n.mutations[p].updateTransforms=n.mutations[p+1].transform.fieldTransforms,n.mutations.splice(p+1,1),++p);const s=n.mutations.map(p=>kl(l.ct,p)),c=bn.fromMillis(n.localWriteTimeMs);return new xa(n.batchId,c,i,s)}function F(l){const n=P(l.readTime),i=void 0!==l.lastLimboFreeSnapshotVersion?P(l.lastLimboFreeSnapshotVersion):nn.min();let s;return s=void 0!==l.query.documents?(It(1===(p=l.query).documents.length),M(Pi(ws(p.documents[0])))):function(p){return M(hl(p))}(l.query),new Ca(s,l.targetId,"TargetPurposeListen",l.lastListenSequenceNumber,n,i,Li.fromBase64String(l.resumeToken));var p}function le(l,n){const i=D(n.snapshotVersion),s=D(n.lastLimboFreeSnapshotVersion);let c;c=lo(n.target)?jo(l.ct,n.target):dl(l.ct,n.target)._t;const p=n.resumeToken.toBase64();return{targetId:n.targetId,canonicalId:po(n.target),readTime:i,resumeToken:p,lastListenSequenceNumber:n.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:c}}function De(l){const n=hl({parent:l.parent,structuredQuery:l.structuredQuery});return"LAST"===l.limitType?sn(n,n.limit,"L"):n}function Pt(l,n){return new C(n.largestBatchId,kl(l.ct,n.overlayMutation))}function pn(l,n){const i=n.path.lastSegment();return[l,Nn(n.path.popLast()),i]}function Bt(l,n,i,s){return{indexId:l,uid:n,sequenceNumber:i,readTime:D(s.readTime),documentKey:Nn(s.documentKey.path),largestBatchId:s.largestBatchId}}class Fn{getBundleMetadata(n,i){return Pr(n).get(i).next(s=>{if(s)return{id:(p=s).bundleId,createTime:P(p.createTime),version:p.version};var p})}saveBundleMetadata(n,i){return Pr(n).put({bundleId:(c=i).id,createTime:D(Jr(c.createTime)),version:c.version});var c}getNamedQuery(n,i){return Zi(n).get(i).next(s=>{if(s)return{name:(p=s).name,query:De(p.bundledQuery),readTime:P(p.readTime)};var p})}saveNamedQuery(n,i){return Zi(n).put({name:(c=i).name,readTime:D(Jr(c.readTime)),bundledQuery:c.bundledQuery});var c}}function Pr(l){return Ln(l,"bundles")}function Zi(l){return Ln(l,"namedQueries")}class ni{constructor(n,i){this.serializer=n,this.userId=i}static lt(n,i){return new ni(n,i.uid||"")}getOverlay(n,i){return vo(n).get(pn(this.userId,i)).next(s=>s?Pt(this.serializer,s):null)}getOverlays(n,i){const s=uo();return at.forEach(i,c=>this.getOverlay(n,c).next(p=>{null!==p&&s.set(c,p)})).next(()=>s)}saveOverlays(n,i,s){const c=[];return s.forEach((p,_)=>{const w=new C(i,_);c.push(this.ht(n,w))}),at.waitFor(c)}removeOverlaysForBatchId(n,i,s){const c=new Set;i.forEach(_=>c.add(Nn(_.getCollectionPath())));const p=[];return c.forEach(_=>{const w=IDBKeyRange.bound([this.userId,_,s],[this.userId,_,s+1],!1,!0);p.push(vo(n).j("collectionPathOverlayIndex",w))}),at.waitFor(p)}getOverlaysForCollection(n,i,s){const c=uo(),p=Nn(i),_=IDBKeyRange.bound([this.userId,p,s],[this.userId,p,Number.POSITIVE_INFINITY],!0);return vo(n).U("collectionPathOverlayIndex",_).next(w=>{for(const L of w){const X=Pt(this.serializer,L);c.set(X.getKey(),X)}return c})}getOverlaysForCollectionGroup(n,i,s,c){const p=uo();let _;const w=IDBKeyRange.bound([this.userId,i,s],[this.userId,i,Number.POSITIVE_INFINITY],!0);return vo(n).J({index:"collectionGroupOverlayIndex",range:w},(L,X,ge)=>{const Fe=Pt(this.serializer,X);p.size()<c||Fe.largestBatchId===_?(p.set(Fe.getKey(),Fe),_=Fe.largestBatchId):ge.done()}).next(()=>p)}ht(n,i){return vo(n).put(function(c,p,_){const[w,L,X]=pn(p,_.mutation.key);return{userId:p,collectionPath:L,documentId:X,collectionGroup:_.mutation.key.getCollectionGroup(),largestBatchId:_.largestBatchId,overlayMutation:$i(c.ct,_.mutation)}}(this.serializer,this.userId,i))}}function vo(l){return Ln(l,"documentOverlays")}class as{constructor(){}Pt(n,i){this.It(n,i),i.Tt()}It(n,i){if("nullValue"in n)this.Et(i,5);else if("booleanValue"in n)this.Et(i,10),i.dt(n.booleanValue?1:0);else if("integerValue"in n)this.Et(i,15),i.dt(vi(n.integerValue));else if("doubleValue"in n){const s=vi(n.doubleValue);isNaN(s)?this.Et(i,13):(this.Et(i,15),qt(s)?i.dt(0):i.dt(s))}else if("timestampValue"in n){let s=n.timestampValue;this.Et(i,20),"string"==typeof s&&(s=Io(s)),i.At(`${s.seconds||""}`),i.dt(s.nanos||0)}else if("stringValue"in n)this.Rt(n.stringValue,i),this.Vt(i);else if("bytesValue"in n)this.Et(i,30),i.ft(Ur(n.bytesValue)),this.Vt(i);else if("referenceValue"in n)this.gt(n.referenceValue,i);else if("geoPointValue"in n){const s=n.geoPointValue;this.Et(i,45),i.dt(s.latitude||0),i.dt(s.longitude||0)}else"mapValue"in n?He(n)?this.Et(i,Number.MAX_SAFE_INTEGER):(this.yt(n.mapValue,i),this.Vt(i)):"arrayValue"in n?(this.wt(n.arrayValue,i),this.Vt(i)):zt()}Rt(n,i){this.Et(i,25),this.St(n,i)}St(n,i){i.At(n)}yt(n,i){const s=n.fields||{};this.Et(i,55);for(const c of Object.keys(s))this.Rt(c,i),this.It(s[c],i)}wt(n,i){const s=n.values||[];this.Et(i,50);for(const c of s)this.It(c,i)}gt(n,i){this.Et(i,37),Qt.fromName(n).path.forEach(s=>{this.Et(i,60),this.St(s,i)})}Et(n,i){n.dt(i)}Vt(n){n.dt(2)}}function Fl(l){if(0===l)return 8;let n=0;return!(l>>4)&&(n+=4,l<<=4),!(l>>6)&&(n+=2,l<<=2),!(l>>7)&&(n+=1),n}function gl(l){const n=64-function(s){let c=0;for(let p=0;p<8;++p){const _=Fl(255&s[p]);if(c+=_,8!==_)break}return c}(l);return Math.ceil(n/8)}as.bt=new as;class ml{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(n){const i=n[Symbol.iterator]();let s=i.next();for(;!s.done;)this.Ct(s.value),s=i.next();this.vt()}Ft(n){const i=n[Symbol.iterator]();let s=i.next();for(;!s.done;)this.Mt(s.value),s=i.next();this.xt()}Ot(n){for(const i of n){const s=i.charCodeAt(0);if(s<128)this.Ct(s);else if(s<2048)this.Ct(960|s>>>6),this.Ct(128|63&s);else if(i<"\ud800"||"\udbff"<i)this.Ct(480|s>>>12),this.Ct(128|63&s>>>6),this.Ct(128|63&s);else{const c=i.codePointAt(0);this.Ct(240|c>>>18),this.Ct(128|63&c>>>12),this.Ct(128|63&c>>>6),this.Ct(128|63&c)}}this.vt()}Nt(n){for(const i of n){const s=i.charCodeAt(0);if(s<128)this.Mt(s);else if(s<2048)this.Mt(960|s>>>6),this.Mt(128|63&s);else if(i<"\ud800"||"\udbff"<i)this.Mt(480|s>>>12),this.Mt(128|63&s>>>6),this.Mt(128|63&s);else{const c=i.codePointAt(0);this.Mt(240|c>>>18),this.Mt(128|63&c>>>12),this.Mt(128|63&c>>>6),this.Mt(128|63&c)}}this.xt()}Lt(n){const i=this.Bt(n),s=gl(i);this.kt(1+s),this.buffer[this.position++]=255&s;for(let c=i.length-s;c<i.length;++c)this.buffer[this.position++]=255&i[c]}qt(n){const i=this.Bt(n),s=gl(i);this.kt(1+s),this.buffer[this.position++]=~(255&s);for(let c=i.length-s;c<i.length;++c)this.buffer[this.position++]=~(255&i[c])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(n){this.kt(n.length),this.buffer.set(n,this.position),this.position+=n.length}Wt(){return this.buffer.slice(0,this.position)}Bt(n){const i=function(p){const _=new DataView(new ArrayBuffer(8));return _.setFloat64(0,p,!1),new Uint8Array(_.buffer)}(n),s=!!(128&i[0]);i[0]^=s?255:128;for(let c=1;c<i.length;++c)i[c]^=s?255:0;return i}Ct(n){const i=255&n;0===i?(this.Kt(0),this.Kt(255)):255===i?(this.Kt(255),this.Kt(0)):this.Kt(i)}Mt(n){const i=255&n;0===i?(this.Ut(0),this.Ut(255)):255===i?(this.Ut(255),this.Ut(0)):this.Ut(n)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(n){this.kt(1),this.buffer[this.position++]=n}Ut(n){this.kt(1),this.buffer[this.position++]=~n}kt(n){const i=n+this.position;if(i<=this.buffer.length)return;let s=2*this.buffer.length;s<i&&(s=i);const c=new Uint8Array(s);c.set(this.buffer),this.buffer=c}}class Oa{constructor(n){this.Gt=n}ft(n){this.Gt.Dt(n)}At(n){this.Gt.Ot(n)}dt(n){this.Gt.Lt(n)}Tt(){this.Gt.Qt()}}class Kc{constructor(n){this.Gt=n}ft(n){this.Gt.Ft(n)}At(n){this.Gt.Nt(n)}dt(n){this.Gt.qt(n)}Tt(){this.Gt.$t()}}class Ps{constructor(){this.Gt=new ml,this.zt=new Oa(this.Gt),this.jt=new Kc(this.Gt)}seed(n){this.Gt.seed(n)}Ht(n){return 0===n?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class Ll{constructor(n,i,s,c){this.indexId=n,this.documentKey=i,this.arrayValue=s,this.directionalValue=c}Jt(){const n=this.directionalValue.length,i=0===n||255===this.directionalValue[n-1]?n+1:n,s=new Uint8Array(i);return s.set(this.directionalValue,0),i!==n?s.set([0],this.directionalValue.length):++s[s.length-1],new Ll(this.indexId,this.documentKey,this.arrayValue,s)}}function Qo(l,n){let i=l.indexId-n.indexId;return 0!==i?i:(i=qc(l.arrayValue,n.arrayValue),0!==i?i:(i=qc(l.directionalValue,n.directionalValue),0!==i?i:Qt.comparator(l.documentKey,n.documentKey)))}function qc(l,n){for(let i=0;i<l.length&&i<n.length;++i){const s=l[i]-n[i];if(0!==s)return s}return l.length-n.length}class Pu{constructor(n){this.Yt=new Nr((i,s)=>rn.comparator(i.field,s.field)),this.collectionId=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment(),this.Zt=n.orderBy,this.Xt=[];for(const i of n.filters){const s=i;s.isInequality()?this.Yt=this.Yt.add(s):this.Xt.push(s)}}get en(){return this.Yt.size>1}tn(n){if(It(n.collectionGroup===this.collectionId),this.en)return!1;const i=Wn(n);if(void 0!==i&&!this.nn(i))return!1;const s=wn(n);let c=new Set,p=0,_=0;for(;p<s.length&&this.nn(s[p]);++p)c=c.add(s[p].fieldPath.canonicalString());if(p===s.length)return!0;if(this.Yt.size>0){const w=this.Yt.getIterator().getNext();if(!c.has(w.field.canonicalString())){const L=s[p];if(!this.rn(w,L)||!this.sn(this.Zt[_++],L))return!1}++p}for(;p<s.length;++p)if(_>=this.Zt.length||!this.sn(this.Zt[_++],s[p]))return!1;return!0}on(){if(this.en)return null;let n=new Nr(rn.comparator);const i=[];for(const s of this.Xt)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)i.push(new Un(s.field,2));else{if(n.has(s.field))continue;n=n.add(s.field),i.push(new Un(s.field,0))}for(const s of this.Zt)s.field.isKeyField()||n.has(s.field)||(n=n.add(s.field),i.push(new Un(s.field,"asc"===s.dir?0:1)));return new or(or.UNKNOWN_ID,this.collectionId,i,ur.empty())}nn(n){for(const i of this.Xt)if(this.rn(i,n))return!0;return!1}rn(n,i){return!(void 0===n||!n.field.isEqual(i.fieldPath))&&2===i.kind==("array-contains"===n.op||"array-contains-any"===n.op)}sn(n,i){return!!n.field.isEqual(i.fieldPath)&&(0===i.kind&&"asc"===n.dir||1===i.kind&&"desc"===n.dir)}}function cu(l){var n,i;if(It(l instanceof er||l instanceof pr),l instanceof er){if(l instanceof Ns){const c=(null===(i=null===(n=l.value.arrayValue)||void 0===n?void 0:n.values)||void 0===i?void 0:i.map(p=>er.create(l.field,"==",p)))||[];return pr.create(c,"or")}return l}const s=l.filters.map(c=>cu(c));return pr.create(s,l.op)}function Xc(l){if(0===l.getFilters().length)return[];const n=na(cu(l));return It(ic(n)),Ld(n)||Ti(n)?[n]:n.getFilters()}function Ld(l){return l instanceof er}function Ti(l){return l instanceof pr&&rs(l)}function ic(l){return Ld(l)||Ti(l)||function(i){if(i instanceof pr&&ko(i)){for(const s of i.getFilters())if(!Ld(s)&&!Ti(s))return!1;return!0}return!1}(l)}function na(l){if(It(l instanceof er||l instanceof pr),l instanceof er)return l;if(1===l.filters.length)return na(l.filters[0]);const n=l.filters.map(s=>na(s));let i=pr.create(n,l.op);return i=vl(i),ic(i)?i:(It(i instanceof pr),It(fi(i)),It(i.filters.length>1),i.filters.reduce((s,c)=>Yo(s,c)))}function Yo(l,n){let i;return It(l instanceof er||l instanceof pr),It(n instanceof er||n instanceof pr),i=l instanceof er?n instanceof er?pr.create([l,n],"and"):Vd(l,n):n instanceof er?Vd(n,l):function(c,p){if(It(c.filters.length>0&&p.filters.length>0),fi(c)&&fi(p))return ao(c,p.getFilters());const _=ko(c)?c:p,w=ko(c)?p:c,L=_.filters.map(X=>Yo(X,w));return pr.create(L,"or")}(l,n),vl(i)}function Vd(l,n){if(fi(n))return ao(n,l.getFilters());{const i=n.filters.map(s=>Yo(l,s));return pr.create(i,"or")}}function vl(l){if(It(l instanceof er||l instanceof pr),l instanceof er)return l;const n=l.getFilters();if(1===n.length)return vl(n[0]);if(So(l))return l;const i=n.map(c=>vl(c)),s=[];return i.forEach(c=>{c instanceof er?s.push(c):c instanceof pr&&(c.op===l.op?s.push(...c.filters):s.push(c))}),1===s.length?s[0]:pr.create(s,l.op)}class du{constructor(){this._n=new ls}addToCollectionParentIndex(n,i){return this._n.add(i),at.resolve()}getCollectionParents(n,i){return at.resolve(this._n.getEntries(i))}addFieldIndex(n,i){return at.resolve()}deleteFieldIndex(n,i){return at.resolve()}deleteAllFieldIndexes(n){return at.resolve()}createTargetIndexes(n,i){return at.resolve()}getDocumentsMatchingTarget(n,i){return at.resolve(null)}getIndexType(n,i){return at.resolve(0)}getFieldIndexes(n,i){return at.resolve([])}getNextCollectionGroupToUpdate(n){return at.resolve(null)}getMinOffset(n,i){return at.resolve(Ir.min())}getMinOffsetFromCollectionGroup(n,i){return at.resolve(Ir.min())}updateCollectionGroup(n,i,s){return at.resolve()}updateIndexEntries(n,i){return at.resolve()}}class ls{constructor(){this.index={}}add(n){const i=n.lastSegment(),s=n.popLast(),c=this.index[i]||new Nr(pt.comparator),p=!c.has(s);return this.index[i]=c.add(s),p}has(n){const i=n.lastSegment(),s=n.popLast(),c=this.index[i];return c&&c.has(s)}getEntries(n){return(this.index[n]||new Nr(pt.comparator)).toArray()}}const Mu=new Uint8Array(0);class Qc{constructor(n,i){this.databaseId=i,this.an=new ls,this.un=new ds(s=>po(s),(s,c)=>Ko(s,c)),this.uid=n.uid||""}addToCollectionParentIndex(n,i){if(!this.an.has(i)){const s=i.lastSegment(),c=i.popLast();n.addOnCommittedListener(()=>{this.an.add(i)});const p={collectionId:s,parent:Nn(c)};return Ud(n).put(p)}return at.resolve()}getCollectionParents(n,i){const s=[],c=IDBKeyRange.bound([i,""],[Jn(i),""],!1,!0);return Ud(n).U(c).next(p=>{for(const _ of p){if(_.collectionId!==i)break;s.push(On(_.parent))}return s})}addFieldIndex(n,i){const s=Vl(n),c={indexId:(w=i).indexId,collectionGroup:w.collectionGroup,fields:w.fields.map(L=>[L.fieldPath.canonicalString(),L.kind])};var w;delete c.indexId;const p=s.add(c);if(i.indexState){const _=_l(n);return p.next(w=>{_.put(Bt(w,this.uid,i.indexState.sequenceNumber,i.indexState.offset))})}return p.next()}deleteFieldIndex(n,i){const s=Vl(n),c=_l(n),p=us(n);return s.delete(i.indexId).next(()=>c.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0))).next(()=>p.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0)))}deleteAllFieldIndexes(n){const i=Vl(n),s=us(n),c=_l(n);return i.j().next(()=>s.j()).next(()=>c.j())}createTargetIndexes(n,i){return at.forEach(this.cn(i),s=>this.getIndexType(n,s).next(c=>{if(0===c||1===c){const p=new Pu(s).on();if(null!=p)return this.addFieldIndex(n,p)}}))}getDocumentsMatchingTarget(n,i){const s=us(n);let c=!0;const p=new Map;return at.forEach(this.cn(i),_=>this.ln(n,_).next(w=>{c&&(c=!!w),p.set(_,w)})).next(()=>{if(c){let _=sr();const w=[];return at.forEach(p,(L,X)=>{var Xn;te("IndexedDbIndexManager",`Using index ${Xn=L,`id=${Xn.indexId}|cg=${Xn.collectionGroup}|f=${Xn.fields.map(Hr=>`${Hr.fieldPath}:${Hr.kind}`).join(",")}`} to execute ${po(i)}`);const ge=function(Xn,Hr){const ji=Wn(Hr);if(void 0===ji)return null;for(const hi of Lo(Xn,ji.fieldPath))switch(hi.op){case"array-contains-any":return hi.value.arrayValue.values||[];case"array-contains":return[hi.value]}return null}(X,L),Fe=function(Xn,Hr){const ji=new Map;for(const hi of wn(Hr))for(const Rt of Lo(Xn,hi.fieldPath))switch(Rt.op){case"==":case"in":ji.set(hi.fieldPath.canonicalString(),Rt.value);break;case"not-in":case"!=":return ji.set(hi.fieldPath.canonicalString(),Rt.value),Array.from(ji.values())}return null}(X,L),ut=function(Xn,Hr){const ji=[];let hi=!0;for(const Rt of wn(Hr)){const Ze=0===Rt.kind?Eo(Xn,Rt.fieldPath,Xn.startAt):Pa(Xn,Rt.fieldPath,Xn.startAt);ji.push(Ze.value),hi&&(hi=Ze.inclusive)}return new kn(ji,hi)}(X,L),Ht=function(Xn,Hr){const ji=[];let hi=!0;for(const Rt of wn(Hr)){const Ze=0===Rt.kind?Pa(Xn,Rt.fieldPath,Xn.endAt):Eo(Xn,Rt.fieldPath,Xn.endAt);ji.push(Ze.value),hi&&(hi=Ze.inclusive)}return new kn(ji,hi)}(X,L),fn=this.hn(L,X,ut),xn=this.hn(L,X,Ht),Cn=this.Pn(L,X,Fe),cr=this.In(L.indexId,ge,fn,ut.inclusive,xn,Ht.inclusive,Cn);return at.forEach(cr,Cr=>s.G(Cr,i.limit).next(Xn=>{Xn.forEach(Hr=>{const ji=Qt.fromSegments(Hr.documentKey);_.has(ji)||(_=_.add(ji),w.push(ji))})}))}).next(()=>w)}return at.resolve(null)})}cn(n){let i=this.un.get(n);return i||(i=0===n.filters.length?[n]:Xc(pr.create(n.filters,"and")).map(s=>_s(n.path,n.collectionGroup,n.orderBy,s.getFilters(),n.limit,n.startAt,n.endAt)),this.un.set(n,i),i)}In(n,i,s,c,p,_,w){const L=(null!=i?i.length:1)*Math.max(s.length,p.length),X=L/(null!=i?i.length:1),ge=[];for(let Fe=0;Fe<L;++Fe){const ut=i?this.Tn(i[Fe/X]):Mu,Ht=this.En(n,ut,s[Fe%X],c),fn=this.dn(n,ut,p[Fe%X],_),xn=w.map(Cn=>this.En(n,ut,Cn,!0));ge.push(...this.createRange(Ht,fn,xn))}return ge}En(n,i,s,c){const p=new Ll(n,Qt.empty(),i,s);return c?p:p.Jt()}dn(n,i,s,c){const p=new Ll(n,Qt.empty(),i,s);return c?p.Jt():p}ln(n,i){const s=new Pu(i),c=null!=i.collectionGroup?i.collectionGroup:i.path.lastSegment();return this.getFieldIndexes(n,c).next(p=>{let _=null;for(const w of p)s.tn(w)&&(!_||w.fields.length>_.fields.length)&&(_=w);return _})}getIndexType(n,i){let s=2;const c=this.cn(i);return at.forEach(c,p=>this.ln(n,p).next(_=>{_?0!==s&&_.fields.length<function(L){let X=new Nr(rn.comparator),ge=!1;for(const Fe of L.filters)for(const ut of Fe.getFlattenedFilters())ut.field.isKeyField()||("array-contains"===ut.op||"array-contains-any"===ut.op?ge=!0:X=X.add(ut.field));for(const Fe of L.orderBy)Fe.field.isKeyField()||(X=X.add(Fe.field));return X.size+(ge?1:0)}(p)&&(s=1):s=0})).next(()=>null!==i.limit&&c.length>1&&2===s?1:s)}An(n,i){const s=new Ps;for(const c of wn(n)){const p=i.data.field(c.fieldPath);if(null==p)return null;const _=s.Ht(c.kind);as.bt.Pt(p,_)}return s.Wt()}Tn(n){const i=new Ps;return as.bt.Pt(n,i.Ht(0)),i.Wt()}Rn(n,i){const s=new Ps;return as.bt.Pt(Ce(this.databaseId,i),s.Ht(function(p){const _=wn(p);return 0===_.length?0:_[_.length-1].kind}(n))),s.Wt()}Pn(n,i,s){if(null===s)return[];let c=[];c.push(new Ps);let p=0;for(const _ of wn(n)){const w=s[p++];for(const L of c)if(this.Vn(i,_.fieldPath)&&mr(w))c=this.mn(c,_,w);else{const X=L.Ht(_.kind);as.bt.Pt(w,X)}}return this.fn(c)}hn(n,i,s){return this.Pn(n,i,s.position)}fn(n){const i=[];for(let s=0;s<n.length;++s)i[s]=n[s].Wt();return i}mn(n,i,s){const c=[...n],p=[];for(const _ of s.arrayValue.values||[])for(const w of c){const L=new Ps;L.seed(w.Wt()),as.bt.Pt(_,L.Ht(i.kind)),p.push(L)}return p}Vn(n,i){return!!n.filters.find(s=>s instanceof er&&s.field.isEqual(i)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(n,i){const s=Vl(n),c=_l(n);return(i?s.U("collectionGroupIndex",IDBKeyRange.bound(i,i)):s.U()).next(p=>{const _=[];return at.forEach(p,w=>c.get([w.indexId,this.uid]).next(L=>{_.push(function(ge,Fe){const ut=Fe?new ur(Fe.sequenceNumber,new Ir(P(Fe.readTime),new Qt(On(Fe.documentKey)),Fe.largestBatchId)):ur.empty(),Ht=ge.fields.map(([fn,xn])=>new Un(rn.fromServerFormat(fn),xn));return new or(ge.indexId,ge.collectionGroup,Ht,ut)}(w,L))})).next(()=>_)})}getNextCollectionGroupToUpdate(n){return this.getFieldIndexes(n).next(i=>0===i.length?null:(i.sort((s,c)=>{const p=s.indexState.sequenceNumber-c.indexState.sequenceNumber;return 0!==p?p:Jt(s.collectionGroup,c.collectionGroup)}),i[0].collectionGroup))}updateCollectionGroup(n,i,s){const c=Vl(n),p=_l(n);return this.gn(n).next(_=>c.U("collectionGroupIndex",IDBKeyRange.bound(i,i)).next(w=>at.forEach(w,L=>p.put(Bt(L.indexId,this.uid,_,s)))))}updateIndexEntries(n,i){const s=new Map;return at.forEach(i,(c,p)=>{const _=s.get(c.collectionGroup);return(_?at.resolve(_):this.getFieldIndexes(n,c.collectionGroup)).next(w=>(s.set(c.collectionGroup,w),at.forEach(w,L=>this.pn(n,c,L).next(X=>{const ge=this.yn(p,L);return X.isEqual(ge)?at.resolve():this.wn(n,p,L,X,ge)}))))})}Sn(n,i,s,c){return us(n).put({indexId:c.indexId,uid:this.uid,arrayValue:c.arrayValue,directionalValue:c.directionalValue,orderedDocumentKey:this.Rn(s,i.key),documentKey:i.key.path.toArray()})}bn(n,i,s,c){return us(n).delete([c.indexId,this.uid,c.arrayValue,c.directionalValue,this.Rn(s,i.key),i.key.path.toArray()])}pn(n,i,s){const c=us(n);let p=new Nr(Qo);return c.J({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.Rn(s,i)])},(_,w)=>{p=p.add(new Ll(s.indexId,i,w.arrayValue,w.directionalValue))}).next(()=>p)}yn(n,i){let s=new Nr(Qo);const c=this.An(i,n);if(null==c)return s;const p=Wn(i);if(null!=p){const _=n.data.field(p.fieldPath);if(mr(_))for(const w of _.arrayValue.values||[])s=s.add(new Ll(i.indexId,n.key,this.Tn(w),c))}else s=s.add(new Ll(i.indexId,n.key,Mu,c));return s}wn(n,i,s,c,p){te("IndexedDbIndexManager","Updating index entries for document '%s'",i.key);const _=[];return function(L,X,ge,Fe,ut){const Ht=L.getIterator(),fn=X.getIterator();let xn=Fi(Ht),Cn=Fi(fn);for(;xn||Cn;){let cr=!1,Cr=!1;if(xn&&Cn){const Xn=ge(xn,Cn);Xn<0?Cr=!0:Xn>0&&(cr=!0)}else null!=xn?Cr=!0:cr=!0;cr?(Fe(Cn),Cn=Fi(fn)):Cr?(ut(xn),xn=Fi(Ht)):(xn=Fi(Ht),Cn=Fi(fn))}}(c,p,Qo,w=>{_.push(this.Sn(n,i,s,w))},w=>{_.push(this.bn(n,i,s,w))}),at.waitFor(_)}gn(n){let i=1;return _l(n).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,c,p)=>{p.done(),i=c.sequenceNumber+1}).next(()=>i)}createRange(n,i,s){s=s.sort((_,w)=>Qo(_,w)).filter((_,w,L)=>!w||0!==Qo(_,L[w-1]));const c=[];c.push(n);for(const _ of s){const w=Qo(_,n),L=Qo(_,i);if(0===w)c[0]=n.Jt();else if(w>0&&L<0)c.push(_),c.push(_.Jt());else if(L>0)break}c.push(i);const p=[];for(let _=0;_<c.length;_+=2){if(this.Dn(c[_],c[_+1]))return[];p.push(IDBKeyRange.bound([c[_].indexId,this.uid,c[_].arrayValue,c[_].directionalValue,Mu,[]],[c[_+1].indexId,this.uid,c[_+1].arrayValue,c[_+1].directionalValue,Mu,[]]))}return p}Dn(n,i){return Qo(n,i)>0}getMinOffsetFromCollectionGroup(n,i){return this.getFieldIndexes(n,i).next(Yc)}getMinOffset(n,i){return at.mapArray(this.cn(i),s=>this.ln(n,s).next(c=>c||zt())).next(Yc)}}function Ud(l){return Ln(l,"collectionParents")}function us(l){return Ln(l,"indexEntries")}function Vl(l){return Ln(l,"indexConfiguration")}function _l(l){return Ln(l,"indexState")}function Yc(l){It(0!==l.length);let n=l[0].indexState.offset,i=n.largestBatchId;for(let s=1;s<l.length;s++){const c=l[s].indexState.offset;qn(c,n)<0&&(n=c),i<c.largestBatchId&&(i=c.largestBatchId)}return new Ir(n.readTime,n.documentKey,i)}const hu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class zo{constructor(n,i,s){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}static withCacheSize(n){return new zo(n,zo.DEFAULT_COLLECTION_PERCENTILE,zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function fu(l,n,i){const s=l.store("mutations"),c=l.store("documentMutations"),p=[],_=IDBKeyRange.only(i.batchId);let w=0;const L=s.J({range:_},(ge,Fe,ut)=>(w++,ut.delete()));p.push(L.next(()=>{It(1===w)}));const X=[];for(const ge of i.mutations){const Fe=Xr(n,ge.key.path,i.batchId);p.push(c.delete(Fe)),X.push(ge.key)}return at.waitFor(p).next(()=>X)}function Ta(l){if(!l)return 0;let n;if(l.document)n=l.document;else if(l.unknownDocument)n=l.unknownDocument;else{if(!l.noDocument)throw zt();n=l.noDocument}return JSON.stringify(n).length}zo.DEFAULT_COLLECTION_PERCENTILE=10,zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zo.DEFAULT=new zo(41943040,zo.DEFAULT_COLLECTION_PERCENTILE,zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zo.DISABLED=new zo(-1,0,0);class pu{constructor(n,i,s,c){this.userId=n,this.serializer=i,this.indexManager=s,this.referenceDelegate=c,this.Cn={}}static lt(n,i,s,c){It(""!==n.uid);const p=n.isAuthenticated()?n.uid:"";return new pu(p,i,s,c)}checkEmpty(n){let i=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _r(n).J({index:"userMutationsIndex",range:s},(c,p,_)=>{i=!1,_.done()}).next(()=>i)}addMutationBatch(n,i,s,c){const p=qa(n),_=_r(n);return _.add({}).next(w=>{It("number"==typeof w);const L=new xa(w,i,s,c),X=function(Ht,fn,xn){const Cn=xn.baseMutations.map(Cr=>$i(Ht.ct,Cr)),cr=xn.mutations.map(Cr=>$i(Ht.ct,Cr));return{userId:fn,batchId:xn.batchId,localWriteTimeMs:xn.localWriteTime.toMillis(),baseMutations:Cn,mutations:cr}}(this.serializer,this.userId,L),ge=[];let Fe=new Nr((ut,Ht)=>Jt(ut.canonicalString(),Ht.canonicalString()));for(const ut of c){const Ht=Xr(this.userId,ut.key.path,w);Fe=Fe.add(ut.key.path.popLast()),ge.push(_.put(X)),ge.push(p.put(Ht,oi))}return Fe.forEach(ut=>{ge.push(this.indexManager.addToCollectionParentIndex(n,ut))}),n.addOnCommittedListener(()=>{this.Cn[w]=L.keys()}),at.waitFor(ge).next(()=>L)})}lookupMutationBatch(n,i){return _r(n).get(i).next(s=>s?(It(s.userId===this.userId),T(this.serializer,s)):null)}vn(n,i){return this.Cn[i]?at.resolve(this.Cn[i]):this.lookupMutationBatch(n,i).next(s=>{if(s){const c=s.keys();return this.Cn[i]=c,c}return null})}getNextMutationBatchAfterBatchId(n,i){const s=i+1,c=IDBKeyRange.lowerBound([this.userId,s]);let p=null;return _r(n).J({index:"userMutationsIndex",range:c},(_,w,L)=>{w.userId===this.userId&&(It(w.batchId>=s),p=T(this.serializer,w)),L.done()}).next(()=>p)}getHighestUnacknowledgedBatchId(n){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return _r(n).J({index:"userMutationsIndex",range:i,reverse:!0},(c,p,_)=>{s=p.batchId,_.done()}).next(()=>s)}getAllMutationBatches(n){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return _r(n).U("userMutationsIndex",i).next(s=>s.map(c=>T(this.serializer,c)))}getAllMutationBatchesAffectingDocumentKey(n,i){const s=nr(this.userId,i.path),c=IDBKeyRange.lowerBound(s),p=[];return qa(n).J({range:c},(_,w,L)=>{const[X,ge,Fe]=_,ut=On(ge);if(X===this.userId&&i.path.isEqual(ut))return _r(n).get(Fe).next(Ht=>{if(!Ht)throw zt();It(Ht.userId===this.userId),p.push(T(this.serializer,Ht))});L.done()}).next(()=>p)}getAllMutationBatchesAffectingDocumentKeys(n,i){let s=new Nr(Jt);const c=[];return i.forEach(p=>{const _=nr(this.userId,p.path),w=IDBKeyRange.lowerBound(_),L=qa(n).J({range:w},(X,ge,Fe)=>{const[ut,Ht,fn]=X,xn=On(Ht);ut===this.userId&&p.path.isEqual(xn)?s=s.add(fn):Fe.done()});c.push(L)}),at.waitFor(c).next(()=>this.Fn(n,s))}getAllMutationBatchesAffectingQuery(n,i){const s=i.path,c=s.length+1,p=nr(this.userId,s),_=IDBKeyRange.lowerBound(p);let w=new Nr(Jt);return qa(n).J({range:_},(L,X,ge)=>{const[Fe,ut,Ht]=L,fn=On(ut);Fe===this.userId&&s.isPrefixOf(fn)?fn.length===c&&(w=w.add(Ht)):ge.done()}).next(()=>this.Fn(n,w))}Fn(n,i){const s=[],c=[];return i.forEach(p=>{c.push(_r(n).get(p).next(_=>{if(null===_)throw zt();It(_.userId===this.userId),s.push(T(this.serializer,_))}))}),at.waitFor(c).next(()=>s)}removeMutationBatch(n,i){return fu(n._e,this.userId,i).next(s=>(n.addOnCommittedListener(()=>{this.Mn(i.batchId)}),at.forEach(s,c=>this.referenceDelegate.markPotentiallyOrphaned(n,c))))}Mn(n){delete this.Cn[n]}performConsistencyCheck(n){return this.checkEmpty(n).next(i=>{if(!i)return at.resolve();const s=IDBKeyRange.lowerBound(function(_){return[_]}(this.userId)),c=[];return qa(n).J({range:s},(p,_,w)=>{if(p[0]===this.userId){const L=On(p[1]);c.push(L)}else w.done()}).next(()=>{It(0===c.length)})})}containsKey(n,i){return yl(n,this.userId,i)}xn(n){return Zc(n).get(this.userId).next(i=>i||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function yl(l,n,i){const s=nr(n,i.path),c=s[1],p=IDBKeyRange.lowerBound(s);let _=!1;return qa(l).J({range:p,H:!0},(w,L,X)=>{const[ge,Fe,ut]=w;ge===n&&Fe===c&&(_=!0),X.done()}).next(()=>_)}function _r(l){return Ln(l,"mutations")}function qa(l){return Ln(l,"documentMutations")}function Zc(l){return Ln(l,"mutationQueues")}class Ul{constructor(n){this.On=n}next(){return this.On+=2,this.On}static Nn(){return new Ul(0)}static Ln(){return new Ul(-1)}}class $d{constructor(n,i){this.referenceDelegate=n,this.serializer=i}allocateTargetId(n){return this.Bn(n).next(i=>{const s=new Ul(i.highestTargetId);return i.highestTargetId=s.next(),this.kn(n,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(n){return this.Bn(n).next(i=>nn.fromTimestamp(new bn(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(n){return this.Bn(n).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(n,i,s){return this.Bn(n).next(c=>(c.highestListenSequenceNumber=i,s&&(c.lastRemoteSnapshotVersion=s.toTimestamp()),i>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=i),this.kn(n,c)))}addTargetData(n,i){return this.qn(n,i).next(()=>this.Bn(n).next(s=>(s.targetCount+=1,this.Qn(i,s),this.kn(n,s))))}updateTargetData(n,i){return this.qn(n,i)}removeTargetData(n,i){return this.removeMatchingKeysForTargetId(n,i.targetId).next(()=>$l(n).delete(i.targetId)).next(()=>this.Bn(n)).next(s=>(It(s.targetCount>0),s.targetCount-=1,this.kn(n,s)))}removeTargets(n,i,s){let c=0;const p=[];return $l(n).J((_,w)=>{const L=F(w);L.sequenceNumber<=i&&null===s.get(L.targetId)&&(c++,p.push(this.removeTargetData(n,L)))}).next(()=>at.waitFor(p)).next(()=>c)}forEachTarget(n,i){return $l(n).J((s,c)=>{const p=F(c);i(p)})}Bn(n){return oc(n).get("targetGlobalKey").next(i=>(It(null!==i),i))}kn(n,i){return oc(n).put("targetGlobalKey",i)}qn(n,i){return $l(n).put(le(this.serializer,i))}Qn(n,i){let s=!1;return n.targetId>i.highestTargetId&&(i.highestTargetId=n.targetId,s=!0),n.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n.sequenceNumber,s=!0),s}getTargetCount(n){return this.Bn(n).next(i=>i.targetCount)}getTargetData(n,i){const s=po(i),c=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let p=null;return $l(n).J({range:c,index:"queryTargetsIndex"},(_,w,L)=>{const X=F(w);Ko(i,X.target)&&(p=X,L.done())}).next(()=>p)}addMatchingKeys(n,i,s){const c=[],p=ra(n);return i.forEach(_=>{const w=Nn(_.path);c.push(p.put({targetId:s,path:w})),c.push(this.referenceDelegate.addReference(n,s,_))}),at.waitFor(c)}removeMatchingKeys(n,i,s){const c=ra(n);return at.forEach(i,p=>{const _=Nn(p.path);return at.waitFor([c.delete([s,_]),this.referenceDelegate.removeReference(n,s,p)])})}removeMatchingKeysForTargetId(n,i){const s=ra(n),c=IDBKeyRange.bound([i],[i+1],!1,!0);return s.delete(c)}getMatchingKeysForTargetId(n,i){const s=IDBKeyRange.bound([i],[i+1],!1,!0),c=ra(n);let p=sr();return c.J({range:s,H:!0},(_,w,L)=>{const X=On(_[1]),ge=new Qt(X);p=p.add(ge)}).next(()=>p)}containsKey(n,i){const s=Nn(i.path),c=IDBKeyRange.bound([s],[Jn(s)],!1,!0);let p=0;return ra(n).J({index:"documentTargetsIndex",H:!0,range:c},([_,w],L,X)=>{0!==_&&(p++,X.done())}).next(()=>p>0)}ot(n,i){return $l(n).get(i).next(s=>s?F(s):null)}}function $l(l){return Ln(l,"targets")}function oc(l){return Ln(l,"targetGlobal")}function ra(l){return Ln(l,"targetDocuments")}function Bd([l,n],[i,s]){const c=Jt(l,i);return 0===c?Jt(n,s):c}class Jc{constructor(n){this.Kn=n,this.buffer=new Nr(Bd),this.$n=0}Un(){return++this.$n}Wn(n){const i=[n,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Bd(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class jd{constructor(n,i,s){this.garbageCollector=n,this.asyncQueue=i,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(n){var i=this;te("LruGarbageCollector",`Garbage collection scheduled in ${n}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,d.A)(function*(){i.Gn=null;try{yield i.localStore.collectGarbage(i.garbageCollector)}catch(s){Je(s)?te("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Qn(s)}yield i.zn(3e5)}))}}class Kh{constructor(n,i){this.jn=n,this.params=i}calculateTargetCount(n,i){return this.jn.Hn(n).next(s=>Math.floor(i/100*s))}nthSequenceNumber(n,i){if(0===i)return at.resolve(ie.oe);const s=new Jc(i);return this.jn.forEachTarget(n,c=>s.Wn(c.sequenceNumber)).next(()=>this.jn.Jn(n,c=>s.Wn(c))).next(()=>s.maxValue)}removeTargets(n,i,s){return this.jn.removeTargets(n,i,s)}removeOrphanedDocuments(n,i){return this.jn.removeOrphanedDocuments(n,i)}collect(n,i){return-1===this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector","Garbage collection skipped; disabled"),at.resolve(hu)):this.getCacheSize(n).next(s=>s<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hu):this.Yn(n,i))}getCacheSize(n){return this.jn.getCacheSize(n)}Yn(n,i){let s,c,p,_,w,L,X;const ge=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(Fe=>(Fe>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Fe}`),c=this.params.maximumSequenceNumbersToCollect):c=Fe,_=Date.now(),this.nthSequenceNumber(n,c))).next(Fe=>(s=Fe,w=Date.now(),this.removeTargets(n,s,i))).next(Fe=>(p=Fe,L=Date.now(),this.removeOrphanedDocuments(n,s))).next(Fe=>(X=Date.now(),dt()<=Te.$b.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${_-ge}ms\n\tDetermined least recently used ${c} in `+(w-_)+`ms\n\tRemoved ${p} targets in `+(L-w)+`ms\n\tRemoved ${Fe} documents in `+(X-L)+`ms\nTotal Duration: ${X-ge}ms`),at.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:p,documentsRemoved:Fe})))}}class ln{constructor(n,i){this.db=n,this.garbageCollector=function sc(l,n){return new Kh(l,n)}(this,i)}Hn(n){const i=this.Zn(n);return this.db.getTargetCache().getTargetCount(n).next(s=>i.next(c=>s+c))}Zn(n){let i=0;return this.Jn(n,s=>{i++}).next(()=>i)}forEachTarget(n,i){return this.db.getTargetCache().forEachTarget(n,i)}Jn(n,i){return this.Xn(n,(s,c)=>i(c))}addReference(n,i,s){return Gr(n,s)}removeReference(n,i,s){return Gr(n,s)}removeTargets(n,i,s){return this.db.getTargetCache().removeTargets(n,i,s)}markPotentiallyOrphaned(n,i){return Gr(n,i)}er(n,i){return function(c,p){let _=!1;return Zc(c).Y(w=>yl(c,w,p).next(L=>(L&&(_=!0),at.resolve(!L)))).next(()=>_)}(n,i)}removeOrphanedDocuments(n,i){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let p=0;return this.Xn(n,(_,w)=>{if(w<=i){const L=this.er(n,_).next(X=>{if(!X)return p++,s.getEntry(n,_).next(()=>(s.removeEntry(_,nn.min()),ra(n).delete([0,Nn(_.path)])))});c.push(L)}}).next(()=>at.waitFor(c)).next(()=>s.apply(n)).next(()=>p)}removeTarget(n,i){const s=i.withSequenceNumber(n.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(n,s)}updateLimboDocument(n,i){return Gr(n,i)}Xn(n,i){const s=ra(n);let c,p=ie.oe;return s.J({index:"documentTargetsIndex"},([_,w],{path:L,sequenceNumber:X})=>{0===_?(p!==ie.oe&&i(new Qt(On(c)),p),p=X,c=L):p=ie.oe}).next(()=>{p!==ie.oe&&i(new Qt(On(c)),p)})}getCacheSize(n){return this.db.getRemoteDocumentCache().getSize(n)}}function Gr(l,n){return ra(l).put((c=l.currentSequenceNumber,{targetId:0,path:Nn(n.path),sequenceNumber:c}));var c}class xu{constructor(){this.changes=new ds(n=>n.toString(),(n,i)=>n.isEqual(i)),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,i){this.assertNotApplied(),this.changes.set(n,dn.newInvalidDocument(n).setReadTime(i))}getEntry(n,i){this.assertNotApplied();const s=this.changes.get(i);return void 0!==s?at.resolve(s):this.getFromCache(n,i)}getEntries(n,i){return this.getAllFromCache(n,i)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class zd{constructor(n){this.serializer=n}setIndexManager(n){this.indexManager=n}addEntry(n,i,s){return cs(n).put(s)}removeEntry(n,i,s){return cs(n).delete(function(p,_){const w=p.path.toArray();return[w.slice(0,w.length-2),w[w.length-2],I(_),w[w.length-1]]}(i,s))}updateMetadata(n,i){return this.getMetadata(n).next(s=>(s.byteSize+=i,this.tr(n,s)))}getEntry(n,i){let s=dn.newInvalidDocument(i);return cs(n).J({index:"documentKeyIndex",range:IDBKeyRange.only(Xa(i))},(c,p)=>{s=this.nr(i,p)}).next(()=>s)}rr(n,i){let s={size:0,document:dn.newInvalidDocument(i)};return cs(n).J({index:"documentKeyIndex",range:IDBKeyRange.only(Xa(i))},(c,p)=>{s={document:this.nr(i,p),size:Ta(p)}}).next(()=>s)}getEntries(n,i){let s=Qi();return this.ir(n,i,(c,p)=>{const _=this.nr(c,p);s=s.insert(c,_)}).next(()=>s)}sr(n,i){let s=Qi(),c=new Er(Qt.comparator);return this.ir(n,i,(p,_)=>{const w=this.nr(p,_);s=s.insert(p,w),c=c.insert(p,Ta(_))}).next(()=>({documents:s,_r:c}))}ir(n,i,s){if(i.isEmpty())return at.resolve();let c=new Nr(ed);i.forEach(L=>c=c.add(L));const p=IDBKeyRange.bound(Xa(c.first()),Xa(c.last())),_=c.getIterator();let w=_.getNext();return cs(n).J({index:"documentKeyIndex",range:p},(L,X,ge)=>{const Fe=Qt.fromSegments([...X.prefixPath,X.collectionGroup,X.documentId]);for(;w&&ed(w,Fe)<0;)s(w,null),w=_.getNext();w&&w.isEqual(Fe)&&(s(w,X),w=_.hasNext()?_.getNext():null),w?ge.$(Xa(w)):ge.done()}).next(()=>{for(;w;)s(w,null),w=_.hasNext()?_.getNext():null})}getDocumentsMatchingQuery(n,i,s,c,p){const _=i.path,w=[_.popLast().toArray(),_.lastSegment(),I(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],L=[_.popLast().toArray(),_.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return cs(n).U(IDBKeyRange.bound(w,L,!0)).next(X=>{null==p||p.incrementDocumentReadCount(X.length);let ge=Qi();for(const Fe of X){const ut=this.nr(Qt.fromSegments(Fe.prefixPath.concat(Fe.collectionGroup,Fe.documentId)),Fe);ut.isFoundDocument()&&(Vo(i,ut)||c.has(ut.key))&&(ge=ge.insert(ut.key,ut))}return ge})}getAllFromCollectionGroup(n,i,s,c){let p=Qi();const _=lc(i,s),w=lc(i,Ir.max());return cs(n).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(_,w,!0)},(L,X,ge)=>{const Fe=this.nr(Qt.fromSegments(X.prefixPath.concat(X.collectionGroup,X.documentId)),X);p=p.insert(Fe.key,Fe),p.size===c&&ge.done()}).next(()=>p)}newChangeBuffer(n){return new ac(this,!!n&&n.trackRemovals)}getSize(n){return this.getMetadata(n).next(i=>i.byteSize)}getMetadata(n){return Il(n).get("remoteDocumentGlobalKey").next(i=>(It(!!i),i))}tr(n,i){return Il(n).put("remoteDocumentGlobalKey",i)}nr(n,i){if(i){const s=function Wh(l,n){let i;if(n.document)i=Rs(l.ct,n.document,!!n.hasCommittedMutations);else if(n.noDocument){const s=Qt.fromSegments(n.noDocument.path),c=P(n.noDocument.readTime);i=dn.newNoDocument(s,c),n.hasCommittedMutations&&i.setHasCommittedMutations()}else{if(!n.unknownDocument)return zt();{const s=Qt.fromSegments(n.unknownDocument.path),c=P(n.unknownDocument.version);i=dn.newUnknownDocument(s,c)}}return n.readTime&&i.setReadTime(function(c){const p=new bn(c[0],c[1]);return nn.fromTimestamp(p)}(n.readTime)),i}(this.serializer,i);if(!s.isNoDocument()||!s.version.isEqual(nn.min()))return s}return dn.newInvalidDocument(n)}}function Di(l){return new zd(l)}class ac extends xu{constructor(n,i){super(),this.ar=n,this.trackRemovals=i,this.ur=new ds(s=>s.toString(),(s,c)=>s.isEqual(c))}applyChanges(n){const i=[];let s=0,c=new Nr((p,_)=>Jt(p.canonicalString(),_.canonicalString()));return this.changes.forEach((p,_)=>{const w=this.ur.get(p);if(i.push(this.ar.removeEntry(n,p,w.readTime)),_.isValidDocument()){const L=Gh(this.ar.serializer,_);c=c.add(p.path.popLast());const X=Ta(L);s+=X-w.size,i.push(this.ar.addEntry(n,p,L))}else if(s-=w.size,this.trackRemovals){const L=Gh(this.ar.serializer,_.convertToNoDocument(nn.min()));i.push(this.ar.addEntry(n,p,L))}}),c.forEach(p=>{i.push(this.ar.indexManager.addToCollectionParentIndex(n,p))}),i.push(this.ar.updateMetadata(n,s)),at.waitFor(i)}getFromCache(n,i){return this.ar.rr(n,i).next(s=>(this.ur.set(i,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(n,i){return this.ar.sr(n,i).next(({documents:s,_r:c})=>(c.forEach((p,_)=>{this.ur.set(p,{size:_,readTime:s.get(p).readTime})}),s))}}function Il(l){return Ln(l,"remoteDocumentGlobal")}function cs(l){return Ln(l,"remoteDocumentsV14")}function Xa(l){const n=l.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],n[n.length-1]]}function lc(l,n){const i=n.documentKey.path.toArray();return[l,I(n.readTime),i.slice(0,i.length-2),i.length>0?i[i.length-1]:""]}function ed(l,n){const i=l.path.toArray(),s=n.path.toArray();let c=0;for(let p=0;p<i.length-2&&p<s.length-2;++p)if(c=Jt(i[p],s[p]),c)return c;return c=Jt(i.length,s.length),c||(c=Jt(i[i.length-2],s[s.length-2]),c||Jt(i[i.length-1],s[s.length-1]))}class qh{constructor(n,i){this.overlayedDocument=n,this.mutatedFields=i}}class uc{constructor(n,i,s,c){this.remoteDocumentCache=n,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=c}getDocument(n,i){let s=null;return this.documentOverlayCache.getOverlay(n,i).next(c=>(s=c,this.remoteDocumentCache.getEntry(n,i))).next(c=>(null!==s&&Ia(s.mutation,c,Qr.empty(),bn.now()),c))}getDocuments(n,i){return this.remoteDocumentCache.getEntries(n,i).next(s=>this.getLocalViewOfDocuments(n,s,sr()).next(()=>s))}getLocalViewOfDocuments(n,i,s=sr()){const c=uo();return this.populateOverlays(n,c,i).next(()=>this.computeViews(n,i,c,s).next(p=>{let _=Is();return p.forEach((w,L)=>{_=_.insert(w,L.overlayedDocument)}),_}))}getOverlayedDocuments(n,i){const s=uo();return this.populateOverlays(n,s,i).next(()=>this.computeViews(n,i,s,sr()))}populateOverlays(n,i,s){const c=[];return s.forEach(p=>{i.has(p)||c.push(p)}),this.documentOverlayCache.getOverlays(n,c).next(p=>{p.forEach((_,w)=>{i.set(_,w)})})}computeViews(n,i,s,c){let p=Qi();const _=Mi(),w=Mi();return i.forEach((L,X)=>{const ge=s.get(X.key);c.has(X.key)&&(void 0===ge||ge.mutation instanceof $o)?p=p.insert(X.key,X):void 0!==ge?(_.set(X.key,ge.mutation.getFieldMask()),Ia(ge.mutation,X,ge.mutation.getFieldMask(),bn.now())):_.set(X.key,Qr.empty())}),this.recalculateAndSaveOverlays(n,p).next(L=>(L.forEach((X,ge)=>_.set(X,ge)),i.forEach((X,ge)=>{var Fe;return w.set(X,new qh(ge,null!==(Fe=_.get(X))&&void 0!==Fe?Fe:null))}),w))}recalculateAndSaveOverlays(n,i){const s=Mi();let c=new Er((_,w)=>_-w),p=sr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,i).next(_=>{for(const w of _)w.keys().forEach(L=>{const X=i.get(L);if(null===X)return;let ge=s.get(L)||Qr.empty();ge=w.applyToLocalView(X,ge),s.set(L,ge);const Fe=(c.get(w.batchId)||sr()).add(L);c=c.insert(w.batchId,Fe)})}).next(()=>{const _=[],w=c.getReverseIterator();for(;w.hasNext();){const L=w.getNext(),X=L.key,ge=L.value,Fe=xr();ge.forEach(ut=>{if(!p.has(ut)){const Ht=es(i.get(ut),s.get(ut));null!==Ht&&Fe.set(ut,Ht),p=p.add(ut)}}),_.push(this.documentOverlayCache.saveOverlays(n,X,Fe))}return at.waitFor(_)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(n,i){return this.remoteDocumentCache.getEntries(n,i).next(s=>this.recalculateAndSaveOverlays(n,s))}getDocumentsMatchingQuery(n,i,s,c){return Qt.isDocumentKey((_=i).path)&&null===_.collectionGroup&&0===_.filters.length?this.getDocumentsMatchingDocumentQuery(n,i.path):aa(i)?this.getDocumentsMatchingCollectionGroupQuery(n,i,s,c):this.getDocumentsMatchingCollectionQuery(n,i,s,c);var _}getNextDocuments(n,i,s,c){return this.remoteDocumentCache.getAllFromCollectionGroup(n,i,s,c).next(p=>{const _=c-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,i,s.largestBatchId,c-p.size):at.resolve(uo());let w=-1,L=p;return _.next(X=>at.forEach(X,(ge,Fe)=>(w<Fe.largestBatchId&&(w=Fe.largestBatchId),p.get(ge)?at.resolve():this.remoteDocumentCache.getEntry(n,ge).next(ut=>{L=L.insert(ge,ut)}))).next(()=>this.populateOverlays(n,X,p)).next(()=>this.computeViews(n,L,X,sr())).next(ge=>({batchId:w,changes:Ba(ge)})))})}getDocumentsMatchingDocumentQuery(n,i){return this.getDocument(n,new Qt(i)).next(s=>{let c=Is();return s.isFoundDocument()&&(c=c.insert(s.key,s)),c})}getDocumentsMatchingCollectionGroupQuery(n,i,s,c){const p=i.collectionGroup;let _=Is();return this.indexManager.getCollectionParents(n,p).next(w=>at.forEach(w,L=>{const X=(Fe=i,ut=L.child(p),new yo(ut,null,Fe.explicitOrderBy.slice(),Fe.filters.slice(),Fe.limit,Fe.limitType,Fe.startAt,Fe.endAt));var Fe,ut;return this.getDocumentsMatchingCollectionQuery(n,X,s,c).next(ge=>{ge.forEach((Fe,ut)=>{_=_.insert(Fe,ut)})})}).next(()=>_))}getDocumentsMatchingCollectionQuery(n,i,s,c){let p;return this.documentOverlayCache.getOverlaysForCollection(n,i.path,s.largestBatchId).next(_=>(p=_,this.remoteDocumentCache.getDocumentsMatchingQuery(n,i,s,p,c))).next(_=>{p.forEach((L,X)=>{const ge=X.getKey();null===_.get(ge)&&(_=_.insert(ge,dn.newInvalidDocument(ge)))});let w=Is();return _.forEach((L,X)=>{const ge=p.get(L);void 0!==ge&&Ia(ge.mutation,X,Qr.empty(),bn.now()),Vo(i,X)&&(w=w.insert(L,X))}),w})}}class ts{constructor(n){this.serializer=n,this.cr=new Map,this.lr=new Map}getBundleMetadata(n,i){return at.resolve(this.cr.get(i))}saveBundleMetadata(n,i){return this.cr.set(i.id,{id:(c=i).id,version:c.version,createTime:Jr(c.createTime)}),at.resolve();var c}getNamedQuery(n,i){return at.resolve(this.lr.get(i))}saveNamedQuery(n,i){return this.lr.set(i.name,{name:(c=i).name,query:De(c.bundledQuery),readTime:Jr(c.readTime)}),at.resolve();var c}}class da{constructor(){this.overlays=new Er(Qt.comparator),this.hr=new Map}getOverlay(n,i){return at.resolve(this.overlays.get(i))}getOverlays(n,i){const s=uo();return at.forEach(i,c=>this.getOverlay(n,c).next(p=>{null!==p&&s.set(c,p)})).next(()=>s)}saveOverlays(n,i,s){return s.forEach((c,p)=>{this.ht(n,i,p)}),at.resolve()}removeOverlaysForBatchId(n,i,s){const c=this.hr.get(s);return void 0!==c&&(c.forEach(p=>this.overlays=this.overlays.remove(p)),this.hr.delete(s)),at.resolve()}getOverlaysForCollection(n,i,s){const c=uo(),p=i.length+1,_=new Qt(i.child("")),w=this.overlays.getIteratorFrom(_);for(;w.hasNext();){const L=w.getNext().value,X=L.getKey();if(!i.isPrefixOf(X.path))break;X.path.length===p&&L.largestBatchId>s&&c.set(L.getKey(),L)}return at.resolve(c)}getOverlaysForCollectionGroup(n,i,s,c){let p=new Er((X,ge)=>X-ge);const _=this.overlays.getIterator();for(;_.hasNext();){const X=_.getNext().value;if(X.getKey().getCollectionGroup()===i&&X.largestBatchId>s){let ge=p.get(X.largestBatchId);null===ge&&(ge=uo(),p=p.insert(X.largestBatchId,ge)),ge.set(X.getKey(),X)}}const w=uo(),L=p.getIterator();for(;L.hasNext()&&(L.getNext().value.forEach((X,ge)=>w.set(X,ge)),!(w.size()>=c)););return at.resolve(w)}ht(n,i,s){const c=this.overlays.get(s.key);if(null!==c){const _=this.hr.get(c.largestBatchId).delete(s.key);this.hr.set(c.largestBatchId,_)}this.overlays=this.overlays.insert(s.key,new C(i,s));let p=this.hr.get(i);void 0===p&&(p=sr(),this.hr.set(i,p)),this.hr.set(i,p.add(s.key))}}class Bl{constructor(){this.Pr=new Nr(Wi.Ir),this.Tr=new Nr(Wi.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(n,i){const s=new Wi(n,i);this.Pr=this.Pr.add(s),this.Tr=this.Tr.add(s)}dr(n,i){n.forEach(s=>this.addReference(s,i))}removeReference(n,i){this.Ar(new Wi(n,i))}Rr(n,i){n.forEach(s=>this.removeReference(s,i))}Vr(n){const i=new Qt(new pt([])),s=new Wi(i,n),c=new Wi(i,n+1),p=[];return this.Tr.forEachInRange([s,c],_=>{this.Ar(_),p.push(_.key)}),p}mr(){this.Pr.forEach(n=>this.Ar(n))}Ar(n){this.Pr=this.Pr.delete(n),this.Tr=this.Tr.delete(n)}gr(n){const i=new Qt(new pt([])),s=new Wi(i,n),c=new Wi(i,n+1);let p=sr();return this.Tr.forEachInRange([s,c],_=>{p=p.add(_.key)}),p}containsKey(n){const i=new Wi(n,0),s=this.Pr.firstAfterOrEqual(i);return null!==s&&n.isEqual(s.key)}}class Wi{constructor(n,i){this.key=n,this.pr=i}static Ir(n,i){return Qt.comparator(n.key,i.key)||Jt(n.pr,i.pr)}static Er(n,i){return Jt(n.pr,i.pr)||Qt.comparator(n.key,i.key)}}class ha{constructor(n,i){this.indexManager=n,this.referenceDelegate=i,this.mutationQueue=[],this.yr=1,this.wr=new Nr(Wi.Ir)}checkEmpty(n){return at.resolve(0===this.mutationQueue.length)}addMutationBatch(n,i,s,c){const p=this.yr;this.yr++;const _=new xa(p,i,s,c);this.mutationQueue.push(_);for(const w of c)this.wr=this.wr.add(new Wi(w.key,p)),this.indexManager.addToCollectionParentIndex(n,w.key.path.popLast());return at.resolve(_)}lookupMutationBatch(n,i){return at.resolve(this.Sr(i))}getNextMutationBatchAfterBatchId(n,i){const c=this.br(i+1),p=c<0?0:c;return at.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return at.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(n){return at.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,i){const s=new Wi(i,0),c=new Wi(i,Number.POSITIVE_INFINITY),p=[];return this.wr.forEachInRange([s,c],_=>{const w=this.Sr(_.pr);p.push(w)}),at.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(n,i){let s=new Nr(Jt);return i.forEach(c=>{const p=new Wi(c,0),_=new Wi(c,Number.POSITIVE_INFINITY);this.wr.forEachInRange([p,_],w=>{s=s.add(w.pr)})}),at.resolve(this.Dr(s))}getAllMutationBatchesAffectingQuery(n,i){const s=i.path,c=s.length+1;let p=s;Qt.isDocumentKey(p)||(p=p.child(""));const _=new Wi(new Qt(p),0);let w=new Nr(Jt);return this.wr.forEachWhile(L=>{const X=L.key.path;return!!s.isPrefixOf(X)&&(X.length===c&&(w=w.add(L.pr)),!0)},_),at.resolve(this.Dr(w))}Dr(n){const i=[];return n.forEach(s=>{const c=this.Sr(s);null!==c&&i.push(c)}),i}removeMutationBatch(n,i){It(0===this.Cr(i.batchId,"removed")),this.mutationQueue.shift();let s=this.wr;return at.forEach(i.mutations,c=>{const p=new Wi(c.key,i.batchId);return s=s.delete(p),this.referenceDelegate.markPotentiallyOrphaned(n,c.key)}).next(()=>{this.wr=s})}Mn(n){}containsKey(n,i){const s=new Wi(i,0),c=this.wr.firstAfterOrEqual(s);return at.resolve(i.isEqual(c&&c.key))}performConsistencyCheck(n){return at.resolve()}Cr(n,i){return this.br(n)}br(n){return 0===this.mutationQueue.length?0:n-this.mutationQueue[0].batchId}Sr(n){const i=this.br(n);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Hd{constructor(n){this.vr=n,this.docs=new Er(Qt.comparator),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,i){const s=i.key,c=this.docs.get(s),p=c?c.size:0,_=this.vr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:_}),this.size+=_-p,this.indexManager.addToCollectionParentIndex(n,s.path.popLast())}removeEntry(n){const i=this.docs.get(n);i&&(this.docs=this.docs.remove(n),this.size-=i.size)}getEntry(n,i){const s=this.docs.get(i);return at.resolve(s?s.document.mutableCopy():dn.newInvalidDocument(i))}getEntries(n,i){let s=Qi();return i.forEach(c=>{const p=this.docs.get(c);s=s.insert(c,p?p.document.mutableCopy():dn.newInvalidDocument(c))}),at.resolve(s)}getDocumentsMatchingQuery(n,i,s,c){let p=Qi();const _=i.path,w=new Qt(_.child("")),L=this.docs.getIteratorFrom(w);for(;L.hasNext();){const{key:X,value:{document:ge}}=L.getNext();if(!_.isPrefixOf(X.path))break;X.path.length>_.length+1||qn(Kn(ge),s)<=0||(c.has(ge.key)||Vo(i,ge))&&(p=p.insert(ge.key,ge.mutableCopy()))}return at.resolve(p)}getAllFromCollectionGroup(n,i,s,c){zt()}Fr(n,i){return at.forEach(this.docs,s=>i(s))}newChangeBuffer(n){return new Nu(this)}getSize(n){return at.resolve(this.size)}}class Nu extends xu{constructor(n){super(),this.ar=n}applyChanges(n){const i=[];return this.changes.forEach((s,c)=>{c.isValidDocument()?i.push(this.ar.addEntry(n,c)):this.ar.removeEntry(s)}),at.waitFor(i)}getFromCache(n,i){return this.ar.getEntry(n,i)}getAllFromCache(n,i){return this.ar.getEntries(n,i)}}class Wd{constructor(n){this.persistence=n,this.Mr=new ds(i=>po(i),Ko),this.lastRemoteSnapshotVersion=nn.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Bl,this.targetCount=0,this.Lr=Ul.Nn()}forEachTarget(n,i){return this.Mr.forEach((s,c)=>i(c)),at.resolve()}getLastRemoteSnapshotVersion(n){return at.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return at.resolve(this.Or)}allocateTargetId(n){return this.highestTargetId=this.Lr.next(),at.resolve(this.highestTargetId)}setTargetsMetadata(n,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.Or&&(this.Or=i),at.resolve()}qn(n){this.Mr.set(n.target,n);const i=n.targetId;i>this.highestTargetId&&(this.Lr=new Ul(i),this.highestTargetId=i),n.sequenceNumber>this.Or&&(this.Or=n.sequenceNumber)}addTargetData(n,i){return this.qn(i),this.targetCount+=1,at.resolve()}updateTargetData(n,i){return this.qn(i),at.resolve()}removeTargetData(n,i){return this.Mr.delete(i.target),this.Nr.Vr(i.targetId),this.targetCount-=1,at.resolve()}removeTargets(n,i,s){let c=0;const p=[];return this.Mr.forEach((_,w)=>{w.sequenceNumber<=i&&null===s.get(w.targetId)&&(this.Mr.delete(_),p.push(this.removeMatchingKeysForTargetId(n,w.targetId)),c++)}),at.waitFor(p).next(()=>c)}getTargetCount(n){return at.resolve(this.targetCount)}getTargetData(n,i){const s=this.Mr.get(i)||null;return at.resolve(s)}addMatchingKeys(n,i,s){return this.Nr.dr(i,s),at.resolve()}removeMatchingKeys(n,i,s){this.Nr.Rr(i,s);const c=this.persistence.referenceDelegate,p=[];return c&&i.forEach(_=>{p.push(c.markPotentiallyOrphaned(n,_))}),at.waitFor(p)}removeMatchingKeysForTargetId(n,i){return this.Nr.Vr(i),at.resolve()}getMatchingKeysForTargetId(n,i){const s=this.Nr.gr(i);return at.resolve(s)}containsKey(n,i){return at.resolve(this.Nr.containsKey(i))}}class cc{constructor(n,i){this.Br={},this.overlays={},this.kr=new ie(0),this.qr=!1,this.qr=!0,this.referenceDelegate=n(this),this.Qr=new Wd(this),this.indexManager=new du,this.remoteDocumentCache=new Hd(s=>this.referenceDelegate.Kr(s)),this.serializer=new Fd(i),this.$r=new ts(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let i=this.overlays[n.toKey()];return i||(i=new da,this.overlays[n.toKey()]=i),i}getMutationQueue(n,i){let s=this.Br[n.toKey()];return s||(s=new ha(i,this.referenceDelegate),this.Br[n.toKey()]=s),s}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(n,i,s){te("MemoryPersistence","Starting transaction:",n);const c=new dc(this.kr.next());return this.referenceDelegate.Ur(),s(c).next(p=>this.referenceDelegate.Wr(c).next(()=>p)).toPromise().then(p=>(c.raiseOnCommittedEvent(),p))}Gr(n,i){return at.or(Object.values(this.Br).map(s=>()=>s.containsKey(n,i)))}}class dc extends jn{constructor(n){super(),this.currentSequenceNumber=n}}class jl{constructor(n){this.persistence=n,this.zr=new Bl,this.jr=null}static Hr(n){return new jl(n)}get Jr(){if(this.jr)return this.jr;throw zt()}addReference(n,i,s){return this.zr.addReference(s,i),this.Jr.delete(s.toString()),at.resolve()}removeReference(n,i,s){return this.zr.removeReference(s,i),this.Jr.add(s.toString()),at.resolve()}markPotentiallyOrphaned(n,i){return this.Jr.add(i.toString()),at.resolve()}removeTarget(n,i){this.zr.Vr(i.targetId).forEach(c=>this.Jr.add(c.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(n,i.targetId).next(c=>{c.forEach(p=>this.Jr.add(p.toString()))}).next(()=>s.removeTargetData(n,i))}Ur(){this.jr=new Set}Wr(n){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return at.forEach(this.Jr,s=>{const c=Qt.fromPath(s);return this.Yr(n,c).next(p=>{p||i.removeEntry(c,nn.min())})}).next(()=>(this.jr=null,i.apply(n)))}updateLimboDocument(n,i){return this.Yr(n,i).next(s=>{s?this.Jr.delete(i.toString()):this.Jr.add(i.toString())})}Kr(n){return 0}Yr(n,i){return at.or([()=>at.resolve(this.zr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(n,i),()=>this.persistence.Gr(n,i)])}}class hc{constructor(n){this.serializer=n}O(n,i,s,c){const p=new Dr("createOrUpgrade",i);var L;s<1&&c>=1&&(n.createObjectStore("owner"),(L=n).createObjectStore("mutationQueues",{keyPath:"userId"}),L.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Mn,{unique:!0}),L.createObjectStore("documentMutations"),Gd(n),function(L){L.createObjectStore("remoteDocuments")}(n));let _=at.resolve();return s<3&&c>=3&&(0!==s&&(function(L){L.deleteObjectStore("targetDocuments"),L.deleteObjectStore("targets"),L.deleteObjectStore("targetGlobal")}(n),Gd(n)),_=_.next(()=>function(L){const X=L.store("targetGlobal"),ge={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:nn.min().toTimestamp(),targetCount:0};return X.put("targetGlobalKey",ge)}(p))),s<4&&c>=4&&(0!==s&&(_=_.next(()=>function(L,X){return X.store("mutations").U().next(ge=>{L.deleteObjectStore("mutations"),L.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Mn,{unique:!0});const Fe=X.store("mutations"),ut=ge.map(Ht=>Fe.put(Ht));return at.waitFor(ut)})}(n,p))),_=_.next(()=>{!function(L){L.createObjectStore("clientMetadata",{keyPath:"clientId"})}(n)})),s<5&&c>=5&&(_=_.next(()=>this.Xr(p))),s<6&&c>=6&&(_=_.next(()=>(function(L){L.createObjectStore("remoteDocumentGlobal")}(n),this.ei(p)))),s<7&&c>=7&&(_=_.next(()=>this.ti(p))),s<8&&c>=8&&(_=_.next(()=>this.ni(n,p))),s<9&&c>=9&&(_=_.next(()=>{!function(L){L.objectStoreNames.contains("remoteDocumentChanges")&&L.deleteObjectStore("remoteDocumentChanges")}(n)})),s<10&&c>=10&&(_=_.next(()=>this.ri(p))),s<11&&c>=11&&(_=_.next(()=>{(function(L){L.createObjectStore("bundles",{keyPath:"bundleId"})})(n),function(L){L.createObjectStore("namedQueries",{keyPath:"name"})}(n)})),s<12&&c>=12&&(_=_.next(()=>{!function(L){const X=L.createObjectStore("documentOverlays",{keyPath:re});X.createIndex("collectionPathOverlayIndex",Le,{unique:!1}),X.createIndex("collectionGroupOverlayIndex",Mt,{unique:!1})}(n)})),s<13&&c>=13&&(_=_.next(()=>function(L){const X=L.createObjectStore("remoteDocumentsV14",{keyPath:Do});X.createIndex("documentKeyIndex",Si),X.createIndex("collectionGroupIndex",Rr)}(n)).next(()=>this.ii(n,p)).next(()=>n.deleteObjectStore("remoteDocuments"))),s<14&&c>=14&&(_=_.next(()=>this.si(n,p))),s<15&&c>=15&&(_=_.next(()=>function(L){L.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),L.createObjectStore("indexState",{keyPath:ne}).createIndex("sequenceNumberIndex",ee,{unique:!1}),L.createObjectStore("indexEntries",{keyPath:ke}).createIndex("documentKeyIndex",oe,{unique:!1})}(n))),s<16&&c>=16&&(_=_.next(()=>{i.objectStore("indexState").clear()}).next(()=>{i.objectStore("indexEntries").clear()})),_}ei(n){let i=0;return n.store("remoteDocuments").J((s,c)=>{i+=Ta(c)}).next(()=>{const s={byteSize:i};return n.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Xr(n){const i=n.store("mutationQueues"),s=n.store("mutations");return i.U().next(c=>at.forEach(c,p=>{const _=IDBKeyRange.bound([p.userId,-1],[p.userId,p.lastAcknowledgedBatchId]);return s.U("userMutationsIndex",_).next(w=>at.forEach(w,L=>{It(L.userId===p.userId);const X=T(this.serializer,L);return fu(n,p.userId,X).next(()=>{})}))}))}ti(n){const i=n.store("targetDocuments"),s=n.store("remoteDocuments");return n.store("targetGlobal").get("targetGlobalKey").next(c=>{const p=[];return s.J((_,w)=>{const L=new pt(_),X=[0,Nn(L)];p.push(i.get(X).next(ge=>ge?at.resolve():i.put({targetId:0,path:Nn(L),sequenceNumber:c.highestListenSequenceNumber})))}).next(()=>at.waitFor(p))})}ni(n,i){n.createObjectStore("collectionParents",{keyPath:$t});const s=i.store("collectionParents"),c=new ls,p=_=>{if(c.add(_)){const w=_.lastSegment(),L=_.popLast();return s.put({collectionId:w,parent:Nn(L)})}};return i.store("remoteDocuments").J({H:!0},(_,w)=>{const L=new pt(_);return p(L.popLast())}).next(()=>i.store("documentMutations").J({H:!0},([_,w,L],X)=>{const ge=On(w);return p(ge.popLast())}))}ri(n){const i=n.store("targets");return i.J((s,c)=>{const p=F(c),_=le(this.serializer,p);return i.put(_)})}ii(n,i){const s=i.store("remoteDocuments"),c=[];return s.J((p,_)=>{const w=i.store("remoteDocumentsV14"),L=(Fe=_,Fe.document?new Qt(pt.fromString(Fe.document.name).popFirst(5)):Fe.noDocument?Qt.fromSegments(Fe.noDocument.path):Fe.unknownDocument?Qt.fromSegments(Fe.unknownDocument.path):zt()).path.toArray(),X={prefixPath:L.slice(0,L.length-2),collectionGroup:L[L.length-2],documentId:L[L.length-1],readTime:_.readTime||[0,0],unknownDocument:_.unknownDocument,noDocument:_.noDocument,document:_.document,hasCommittedMutations:!!_.hasCommittedMutations};var Fe;c.push(w.put(X))}).next(()=>at.waitFor(c))}si(n,i){const s=i.store("mutations"),c=Di(this.serializer),p=new cc(jl.Hr,this.serializer.ct);return s.U().next(_=>{const w=new Map;return _.forEach(L=>{var X;let ge=null!==(X=w.get(L.userId))&&void 0!==X?X:sr();T(this.serializer,L).keys().forEach(Fe=>ge=ge.add(Fe)),w.set(L.userId,ge)}),at.forEach(w,(L,X)=>{const ge=new we(X),Fe=ni.lt(this.serializer,ge),ut=p.getIndexManager(ge),Ht=pu.lt(ge,this.serializer,ut,p.referenceDelegate);return new uc(c,Ht,Fe,ut).recalculateAndSaveOverlaysForDocumentKeys(new Ii(i,ie.oe),L).next()})})}}function Gd(l){l.createObjectStore("targetDocuments",{keyPath:ki}).createIndex("documentTargetsIndex",to,{unique:!0}),l.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",eo,{unique:!0}),l.createObjectStore("targetGlobal")}const fc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Ou{constructor(n,i,s,c,p,_,w,L,X,ge,Fe=16){if(this.allowTabSynchronization=n,this.persistenceKey=i,this.clientId=s,this.oi=p,this.window=_,this.document=w,this._i=X,this.ai=ge,this.ui=Fe,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=ut=>Promise.resolve(),!Ou.D())throw new B(J.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ln(this,c),this.Ti=i+"main",this.serializer=new Fd(L),this.Ei=new Mr(this.Ti,this.ui,new hc(this.serializer)),this.Qr=new $d(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Di(this.serializer),this.$r=new Fn,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===ge&&Dt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new B(J.FAILED_PRECONDITION,fc);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",n=>this.Qr.getHighestSequenceNumber(n))}).then(n=>{this.kr=new ie(n,this._i)}).then(()=>{this.qr=!0}).catch(n=>(this.Ei&&this.Ei.close(),Promise.reject(n)))}fi(n){var i=this;return this.Ii=function(){var s=(0,d.A)(function*(c){if(i.started)return n(c)});return function(c){return s.apply(this,arguments)}}(),n(this.isPrimary)}setDatabaseDeletedListener(n){this.Ei.L(function(){var i=(0,d.A)(function*(s){null===s.newVersion&&(yield n())});return function(s){return i.apply(this,arguments)}}())}setNetworkEnabled(n){var i=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.oi.enqueueAndForget((0,d.A)(function*(){i.started&&(yield i.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",n=>ku(n).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(n).next(i=>{i||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(n)).next(i=>this.isPrimary&&!i?this.yi(n).next(()=>!1):!!i&&this.wi(n).next(()=>!0))).catch(n=>{if(Je(n))return te("IndexedDbPersistence","Failed to extend owner lease: ",n),this.isPrimary;if(!this.allowTabSynchronization)throw n;return te("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(n=>{this.isPrimary!==n&&this.oi.enqueueRetryable(()=>this.Ii(n)),this.isPrimary=n})}gi(n){return gu(n).get("owner").next(i=>at.resolve(this.Si(i)))}bi(n){return ku(n).delete(this.clientId)}Di(){var n=this;return(0,d.A)(function*(){if(n.isPrimary&&!n.Ci(n.Pi,18e5)){n.Pi=Date.now();const i=yield n.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const c=Ln(s,"clientMetadata");return c.U().next(p=>{const _=n.vi(p,18e5),w=p.filter(L=>-1===_.indexOf(L));return at.forEach(w,L=>c.delete(L.clientId)).next(()=>w)})}).catch(()=>[]);if(n.di)for(const s of i)n.di.removeItem(n.Fi(s.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(n){return!!n&&n.ownerId===this.clientId}pi(n){return this.ai?at.resolve(!0):gu(n).get("owner").next(i=>{if(null!==i&&this.Ci(i.leaseTimestampMs,5e3)&&!this.Mi(i.ownerId)){if(this.Si(i)&&this.networkEnabled)return!0;if(!this.Si(i)){if(!i.allowTabSynchronization)throw new B(J.FAILED_PRECONDITION,fc);return!1}}return!(!this.networkEnabled||!this.inForeground)||ku(n).U().next(s=>void 0===this.vi(s,5e3).find(c=>!(this.clientId===c.clientId||!(!this.networkEnabled&&c.networkEnabled||!this.inForeground&&c.inForeground&&this.networkEnabled===c.networkEnabled))))}).next(i=>(this.isPrimary!==i&&te("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var n=this;return(0,d.A)(function*(){n.qr=!1,n.xi(),n.hi&&(n.hi.cancel(),n.hi=null),n.Oi(),n.Ni(),yield n.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],i=>{const s=new Ii(i,ie.oe);return n.yi(s).next(()=>n.bi(s))}),n.Ei.close(),n.Li()})()}vi(n,i){return n.filter(s=>this.Ci(s.updateTimeMs,i)&&!this.Mi(s.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",n=>ku(n).U().next(i=>this.vi(i,18e5).map(s=>s.clientId)))}get started(){return this.qr}getMutationQueue(n,i){return pu.lt(n,this.serializer,i,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(n){return new Qc(n,this.serializer.ct.databaseId)}getDocumentOverlayCache(n){return ni.lt(this.serializer,n)}getBundleCache(){return this.$r}runTransaction(n,i,s){te("IndexedDbPersistence","Starting transaction:",n);const c="readonly"===i?"readonly":"readwrite",p=16===(L=this.ui)?zi:15===L?yi:14===L?Yn:13===L?rr:12===L?An:11===L?Nt:void zt();var L;let _;return this.Ei.runTransaction(n,c,p,w=>(_=new Ii(w,this.kr?this.kr.next():ie.oe),"readwrite-primary"===i?this.gi(_).next(L=>!!L||this.pi(_)).next(L=>{if(!L)throw Dt(`Failed to obtain primary lease for action '${n}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new B(J.FAILED_PRECONDITION,ui);return s(_)}).next(L=>this.wi(_).next(()=>L)):this.ki(_).next(()=>s(_)))).then(w=>(_.raiseOnCommittedEvent(),w))}ki(n){return gu(n).get("owner").next(i=>{if(null!==i&&this.Ci(i.leaseTimestampMs,5e3)&&!this.Mi(i.ownerId)&&!this.Si(i)&&!(this.ai||this.allowTabSynchronization&&i.allowTabSynchronization))throw new B(J.FAILED_PRECONDITION,fc)})}wi(n){const i={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return gu(n).put("owner",i)}static D(){return Mr.D()}yi(n){const i=gu(n);return i.get("owner").next(s=>this.Si(s)?(te("IndexedDbPersistence","Releasing primary lease."),i.delete("owner")):at.resolve())}Ci(n,i){const s=Date.now();return!(n<s-i||n>s&&(Dt(`Detected an update time that is in the future: ${n} > ${s}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var n;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.ci=()=>{this.xi();const i=/(?:Version|Mobile)\/1[456]/;(0,de.nr)()&&(navigator.appVersion.match(i)||navigator.userAgent.match(i))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(n){var i;try{const s=null!==(null===(i=this.di)||void 0===i?void 0:i.getItem(this.Fi(n)));return te("IndexedDbPersistence",`Client '${n}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Dt("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(n){Dt("Failed to set zombie client id.",n)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(n){return`firestore_zombie_${this.persistenceKey}_${n}`}}function gu(l){return Ln(l,"owner")}function ku(l){return Ln(l,"clientMetadata")}function pc(l,n){let i=l.projectId;return l.isDefaultDatabase||(i+="."+l.database),"firestore/"+n+"/"+i+"/"}class Fu{constructor(n,i,s,c){this.targetId=n,this.fromCache=i,this.qi=s,this.Qi=c}static Ki(n,i){let s=sr(),c=sr();for(const p of i.docChanges)switch(p.type){case 0:s=s.add(p.doc.key);break;case 1:c=c.add(p.doc.key)}return new Fu(n,i.fromCache,s,c)}}class Lu{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(n){this._documentReadCount+=n}}class Kd{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,de.nr)()?8:Oi((0,de.ZQ)())>0?6:4}initialize(n,i){this.zi=n,this.indexManager=i,this.$i=!0}getDocumentsMatchingQuery(n,i,s,c){const p={result:null};return this.ji(n,i).next(_=>{p.result=_}).next(()=>{if(!p.result)return this.Hi(n,i,c,s).next(_=>{p.result=_})}).next(()=>{if(p.result)return;const _=new Lu;return this.Ji(n,i,_).next(w=>{if(p.result=w,this.Ui)return this.Yi(n,i,_,w.size)})}).next(()=>p.result)}Yi(n,i,s,c){return s.documentReadCount<this.Wi?(dt()<=Te.$b.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",go(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),at.resolve()):(dt()<=Te.$b.DEBUG&&te("QueryEngine","Query:",go(i),"scans",s.documentReadCount,"local documents and returns",c,"documents as results."),s.documentReadCount>this.Gi*c?(dt()<=Te.$b.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",go(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(n,M(i))):at.resolve())}ji(n,i){if(qs(i))return at.resolve(null);let s=M(i);return this.indexManager.getIndexType(n,s).next(c=>0===c?null:(null!==i.limit&&1===c&&(i=sn(i,null,"F"),s=M(i)),this.indexManager.getDocumentsMatchingTarget(n,s).next(p=>{const _=sr(...p);return this.zi.getDocuments(n,_).next(w=>this.indexManager.getMinOffset(n,s).next(L=>{const X=this.Zi(i,w);return this.Xi(i,X,_,L.readTime)?this.ji(n,sn(i,null,"F")):this.es(n,X,i,L)}))})))}Hi(n,i,s,c){return qs(i)||c.isEqual(nn.min())?at.resolve(null):this.zi.getDocuments(n,s).next(p=>{const _=this.Zi(i,p);return this.Xi(i,_,s,c)?at.resolve(null):(dt()<=Te.$b.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),go(i)),this.es(n,_,i,Br(c,-1)).next(w=>w))})}Zi(n,i){let s=new Nr(Ro(n));return i.forEach((c,p)=>{Vo(n,p)&&(s=s.add(p))}),s}Xi(n,i,s,c){if(null===n.limit)return!1;if(s.size!==i.size)return!0;const p="F"===n.limitType?i.last():i.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(c)>0)}Ji(n,i,s){return dt()<=Te.$b.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",go(i)),this.zi.getDocumentsMatchingQuery(n,i,Ir.min(),s)}es(n,i,s,c){return this.zi.getDocumentsMatchingQuery(n,s,c).next(p=>(i.forEach(_=>{p=p.insert(_.key,_)}),p))}}class fs{constructor(n,i,s,c){this.persistence=n,this.ts=i,this.serializer=c,this.ns=new Er(Jt),this.rs=new ds(p=>po(p),Ko),this.ss=new Map,this.os=n.getRemoteDocumentCache(),this.Qr=n.getTargetCache(),this.$r=n.getBundleCache(),this._s(s)}_s(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new uc(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>n.collect(i,this.ns))}}function El(l,n,i,s){return new fs(l,n,i,s)}function Ji(l,n){return td.apply(this,arguments)}function td(){return(td=(0,d.A)(function*(l,n){const i=$e(l);return yield i.persistence.runTransaction("Handle user change","readonly",s=>{let c;return i.mutationQueue.getAllMutationBatches(s).next(p=>(c=p,i._s(n),i.mutationQueue.getAllMutationBatches(s))).next(p=>{const _=[],w=[];let L=sr();for(const X of c){_.push(X.batchId);for(const ge of X.mutations)L=L.add(ge.key)}for(const X of p){w.push(X.batchId);for(const ge of X.mutations)L=L.add(ge.key)}return i.localDocuments.getDocuments(s,L).next(X=>({us:X,removedBatchIds:_,addedBatchIds:w}))})})})).apply(this,arguments)}function Xd(l){const n=$e(l);return n.persistence.runTransaction("Get last remote snapshot version","readonly",i=>n.Qr.getLastRemoteSnapshotVersion(i))}function mc(l,n,i){let s=sr(),c=sr();return i.forEach(p=>s=s.add(p)),n.getEntries(l,s).next(p=>{let _=Qi();return i.forEach((w,L)=>{const X=p.get(w);L.isFoundDocument()!==X.isFoundDocument()&&(c=c.add(w)),L.isNoDocument()&&L.version.isEqual(nn.min())?(n.removeEntry(w,L.readTime),_=_.insert(w,L)):!X.isValidDocument()||L.version.compareTo(X.version)>0||0===L.version.compareTo(X.version)&&X.hasPendingWrites?(n.addEntry(L),_=_.insert(w,L)):te("LocalStore","Ignoring outdated watch update for ",w,". Current version:",X.version," Watch version:",L.version)}),{cs:_,ls:c}})}function j(l,n){const i=$e(l);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===n&&(n=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(s,n)))}function U(l,n){const i=$e(l);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let c;return i.Qr.getTargetData(s,n).next(p=>p?(c=p,at.resolve(c)):i.Qr.allocateTargetId(s).next(_=>(c=new Ca(n,_,"TargetPurposeListen",s.currentSequenceNumber),i.Qr.addTargetData(s,c).next(()=>c))))}).then(s=>{const c=i.ns.get(s.targetId);return(null===c||s.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(i.ns=i.ns.insert(s.targetId,s),i.rs.set(n,s.targetId)),s})}function me(l,n,i){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,d.A)(function*(l,n,i){const s=$e(l),c=s.ns.get(n),p=i?"readwrite":"readwrite-primary";try{i||(yield s.persistence.runTransaction("Release target",p,_=>s.persistence.referenceDelegate.removeTarget(_,c)))}catch(_){if(!Je(_))throw _;te("LocalStore",`Failed to update sequence numbers for target ${n}: ${_}`)}s.ns=s.ns.remove(n),s.rs.delete(c.target)})).apply(this,arguments)}function gt(l,n,i){const s=$e(l);let c=nn.min(),p=sr();return s.persistence.runTransaction("Execute query","readwrite",_=>function(L,X,ge){const Fe=$e(L),ut=Fe.rs.get(ge);return void 0!==ut?at.resolve(Fe.ns.get(ut)):Fe.Qr.getTargetData(X,ge)}(s,_,M(n)).next(w=>{if(w)return c=w.lastLimboFreeSnapshotVersion,s.Qr.getMatchingKeysForTargetId(_,w.targetId).next(L=>{p=L})}).next(()=>s.ts.getDocumentsMatchingQuery(_,n,i?c:nn.min(),i?p:sr())).next(w=>(Gn(s,Xi(n),w),{documents:w,hs:p})))}function Wt(l,n){const i=$e(l),s=$e(i.Qr),c=i.ns.get(n);return c?Promise.resolve(c.target):i.persistence.runTransaction("Get target data","readonly",p=>s.ot(p,n).next(_=>_?_.target:null))}function mn(l,n){const i=$e(l),s=i.ss.get(n)||nn.min();return i.persistence.runTransaction("Get new document changes","readonly",c=>i.os.getAllFromCollectionGroup(c,n,Br(s,-1),Number.MAX_SAFE_INTEGER)).then(c=>(Gn(i,n,c),c))}function Gn(l,n,i){let s=l.ss.get(n)||nn.min();i.forEach((c,p)=>{p.readTime.compareTo(s)>0&&(s=p.readTime)}),l.ss.set(n,s)}function yr(){return(yr=(0,d.A)(function*(l,n,i,s){const c=$e(l);let p=sr(),_=Qi();for(const X of i){const ge=n.Ps(X.metadata.name);X.document&&(p=p.add(ge));const Fe=n.Is(X);Fe.setReadTime(n.Ts(X.metadata.readTime)),_=_.insert(ge,Fe)}const w=c.os.newChangeBuffer({trackRemovals:!0}),L=yield U(c,(ge=s,M(Pi(pt.fromString(`__bundle__/docs/${ge}`)))));var ge;return c.persistence.runTransaction("Apply bundle documents","readwrite",X=>mc(X,w,_).next(ge=>(w.apply(X),ge)).next(ge=>c.Qr.removeMatchingKeysForTargetId(X,L.targetId).next(()=>c.Qr.addMatchingKeys(X,p,L.targetId)).next(()=>c.localDocuments.getLocalViewOfDocuments(X,ge.cs,ge.ls)).next(()=>ge.cs)))})).apply(this,arguments)}function Kr(l,n){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,d.A)(function*(l,n,i=sr()){const s=yield U(l,M(De(n.bundledQuery))),c=$e(l);return c.persistence.runTransaction("Save named query","readwrite",p=>{const _=Jr(n.readTime);if(s.snapshotVersion.compareTo(_)>=0)return c.$r.saveNamedQuery(p,n);const w=s.withResumeToken(Li.EMPTY_BYTE_STRING,_);return c.ns=c.ns.insert(w.targetId,w),c.Qr.updateTargetData(p,w).next(()=>c.Qr.removeMatchingKeysForTargetId(p,s.targetId)).next(()=>c.Qr.addMatchingKeys(p,i,s.targetId)).next(()=>c.$r.saveNamedQuery(p,n))})})).apply(this,arguments)}function Gi(l,n){return`firestore_clients_${l}_${n}`}function co(l,n,i){let s=`firestore_mutations_${l}_${i}`;return n.isAuthenticated()&&(s+=`_${n.uid}`),s}function bi(l,n){return`firestore_targets_${l}_${n}`}class Ho{constructor(n,i,s,c){this.user=n,this.batchId=i,this.state=s,this.error=c}static Es(n,i,s){const c=JSON.parse(s);let p,_="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return _&&c.error&&(_="string"==typeof c.error.message&&"string"==typeof c.error.code,_&&(p=new B(c.error.code,c.error.message))),_?new Ho(n,i,c.state,p):(Dt("SharedClientState",`Failed to parse mutation state for ID '${i}': ${s}`),null)}ds(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class oo{constructor(n,i,s){this.targetId=n,this.state=i,this.error=s}static Es(n,i){const s=JSON.parse(i);let c,p="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return p&&s.error&&(p="string"==typeof s.error.message&&"string"==typeof s.error.code,p&&(c=new B(s.error.code,s.error.message))),p?new oo(n,s.state,c):(Dt("SharedClientState",`Failed to parse target state for ID '${n}': ${i}`),null)}ds(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class ia{constructor(n,i){this.clientId=n,this.activeTargetIds=i}static Es(n,i){const s=JSON.parse(i);let c="object"==typeof s&&s.activeTargetIds instanceof Array,p=Es();for(let _=0;c&&_<s.activeTargetIds.length;++_)c=yn(s.activeTargetIds[_]),p=p.add(s.activeTargetIds[_]);return c?new ia(n,p):(Dt("SharedClientState",`Failed to parse client data for instance '${n}': ${i}`),null)}}class Da{constructor(n,i){this.clientId=n,this.onlineState=i}static Es(n){const i=JSON.parse(n);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new Da(i.clientId,i.onlineState):(Dt("SharedClientState",`Failed to parse online state: ${n}`),null)}}class ns{constructor(){this.activeTargetIds=Es()}As(n){this.activeTargetIds=this.activeTargetIds.add(n)}Rs(n){this.activeTargetIds=this.activeTargetIds.delete(n)}ds(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class Co{constructor(n,i,s,c,p){this.window=n,this.oi=i,this.persistenceKey=s,this.Vs=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Er(Jt),this.started=!1,this.ys=[];const _=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=p,this.ws=Gi(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new ns),this.bs=new RegExp(`^firestore_clients_${_}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${_}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${_}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(L){return`firestore_bundle_loaded_v2_${L}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(n){return!(!n||!n.localStorage)}start(){var n=this;return(0,d.A)(function*(){const i=yield n.syncEngine.Bi();for(const c of i){if(c===n.Vs)continue;const p=n.getItem(Gi(n.persistenceKey,c));if(p){const _=ia.Es(c,p);_&&(n.ps=n.ps.insert(_.clientId,_))}}n.Ms();const s=n.storage.getItem(n.vs);if(s){const c=n.xs(s);c&&n.Os(c)}for(const c of n.ys)n.gs(c);n.ys=[],n.window.addEventListener("pagehide",()=>n.shutdown()),n.started=!0})()}writeSequenceNumber(n){this.setItem(this.Ss,JSON.stringify(n))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(n){let i=!1;return this.ps.forEach((s,c)=>{c.activeTargetIds.has(n)&&(i=!0)}),i}addPendingMutation(n){this.Ls(n,"pending")}updateMutationState(n,i,s){this.Ls(n,i,s),this.Bs(n)}addLocalQueryTarget(n){let i="not-current";if(this.isActiveQueryTarget(n)){const s=this.storage.getItem(bi(this.persistenceKey,n));if(s){const c=oo.Es(n,s);c&&(i=c.state)}}return this.ks.As(n),this.Ms(),i}removeLocalQueryTarget(n){this.ks.Rs(n),this.Ms()}isLocalQueryTarget(n){return this.ks.activeTargetIds.has(n)}clearQueryState(n){this.removeItem(bi(this.persistenceKey,n))}updateQueryState(n,i,s){this.qs(n,i,s)}handleUserChange(n,i,s){i.forEach(c=>{this.Bs(c)}),this.currentUser=n,s.forEach(c=>{this.addPendingMutation(c)})}setOnlineState(n){this.Qs(n)}notifyBundleLoaded(n){this.Ks(n)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(n){const i=this.storage.getItem(n);return te("SharedClientState","READ",n,i),i}setItem(n,i){te("SharedClientState","SET",n,i),this.storage.setItem(n,i)}removeItem(n){te("SharedClientState","REMOVE",n),this.storage.removeItem(n)}gs(n){var i=this;const s=n;if(s.storageArea===this.storage){if(te("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ws)return void Dt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,d.A)(function*(){if(i.started){if(null!==s.key)if(i.bs.test(s.key)){if(null==s.newValue){const c=i.$s(s.key);return i.Us(c,null)}{const c=i.Ws(s.key,s.newValue);if(c)return i.Us(c.clientId,c)}}else if(i.Ds.test(s.key)){if(null!==s.newValue){const c=i.Gs(s.key,s.newValue);if(c)return i.zs(c)}}else if(i.Cs.test(s.key)){if(null!==s.newValue){const c=i.js(s.key,s.newValue);if(c)return i.Hs(c)}}else if(s.key===i.vs){if(null!==s.newValue){const c=i.xs(s.newValue);if(c)return i.Os(c)}}else if(s.key===i.Ss){const c=function(_){let w=ie.oe;if(null!=_)try{const L=JSON.parse(_);It("number"==typeof L),w=L}catch(L){Dt("SharedClientState","Failed to read sequence number from WebStorage",L)}return w}(s.newValue);c!==ie.oe&&i.sequenceNumberHandler(c)}else if(s.key===i.Fs){const c=i.Js(s.newValue);yield Promise.all(c.map(p=>i.syncEngine.Ys(p)))}}else i.ys.push(s)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(n,i,s){const c=new Ho(this.currentUser,n,i,s),p=co(this.persistenceKey,this.currentUser,n);this.setItem(p,c.ds())}Bs(n){const i=co(this.persistenceKey,this.currentUser,n);this.removeItem(i)}Qs(n){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:n}))}qs(n,i,s){const c=bi(this.persistenceKey,n),p=new oo(n,i,s);this.setItem(c,p.ds())}Ks(n){const i=JSON.stringify(Array.from(n));this.setItem(this.Fs,i)}$s(n){const i=this.bs.exec(n);return i?i[1]:null}Ws(n,i){const s=this.$s(n);return ia.Es(s,i)}Gs(n,i){const s=this.Ds.exec(n),c=Number(s[1]);return Ho.Es(new we(void 0!==s[2]?s[2]:null),c,i)}js(n,i){const s=this.Cs.exec(n),c=Number(s[1]);return oo.Es(c,i)}xs(n){return Da.Es(n)}Js(n){return JSON.parse(n)}zs(n){var i=this;return(0,d.A)(function*(){if(n.user.uid===i.currentUser.uid)return i.syncEngine.Zs(n.batchId,n.state,n.error);te("SharedClientState",`Ignoring mutation for non-active user ${n.user.uid}`)})()}Hs(n){return this.syncEngine.Xs(n.targetId,n.state,n.error)}Us(n,i){const s=i?this.ps.insert(n,i):this.ps.remove(n),c=this.Ns(this.ps),p=this.Ns(s),_=[],w=[];return p.forEach(L=>{c.has(L)||_.push(L)}),c.forEach(L=>{p.has(L)||w.push(L)}),this.syncEngine.eo(_,w).then(()=>{this.ps=s})}Os(n){this.ps.get(n.clientId)&&this.onlineStateHandler(n.onlineState)}Ns(n){let i=Es();return n.forEach((s,c)=>{i=i.unionWith(c.activeTargetIds)}),i}}class fa{constructor(){this.no=new ns,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,i,s){}addLocalQueryTarget(n){return this.no.As(n),this.ro[n]||"not-current"}updateQueryState(n,i,s){this.ro[n]=i}removeLocalQueryTarget(n){this.no.Rs(n)}isLocalQueryTarget(n){return this.no.activeTargetIds.has(n)}clearQueryState(n){delete this.ro[n]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(n){return this.no.activeTargetIds.has(n)}start(){return this.no=new ns,Promise.resolve()}handleUserChange(n,i,s){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}class Al{io(n){}shutdown(){}}class Ya{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(n){this.uo.push(n)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.uo)n(0)}ao(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.uo)n(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ba=null;function Za(){return null===ba?ba=268435456+Math.round(2147483648*Math.random()):ba++,"0x"+ba.toString(16)}const E={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class f{constructor(n){this.lo=n.lo,this.ho=n.ho}Po(n){this.Io=n}To(n){this.Eo=n}Ao(n){this.Ro=n}onMessage(n){this.Vo=n}close(){this.ho()}send(n){this.lo(n)}mo(){this.Io()}fo(){this.Eo()}po(n){this.Ro(n)}yo(n){this.Vo(n)}}const m="WebChannelConnection";class b extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const s=i.ssl?"https":"http",c=encodeURIComponent(this.databaseId.projectId),p=encodeURIComponent(this.databaseId.database);this.wo=s+"://"+i.host,this.So=`projects/${c}/databases/${p}`,this.bo="(default)"===this.databaseId.database?`project_id=${c}`:`project_id=${c}&database_id=${p}`}get Do(){return!1}Co(i,s,c,p,_){const w=Za(),L=this.vo(i,s.toUriEncodedString());te("RestConnection",`Sending RPC '${i}' ${w}:`,L,c);const X={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(X,p,_),this.Mo(i,L,X,c).then(ge=>(te("RestConnection",`Received RPC '${i}' ${w}: `,ge),ge),ge=>{throw wt("RestConnection",`RPC '${i}' ${w} failed with error: `,ge,"url: ",L,"request:",c),ge})}xo(i,s,c,p,_,w){return this.Co(i,s,c,p,_)}Fo(i,s,c){i["X-Goog-Api-Client"]="gl-js/ fire/"+Ge,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((p,_)=>i[_]=p),c&&c.headers.forEach((p,_)=>i[_]=p)}vo(i,s){return`${this.wo}/v1/${s}:${E[i]}`}terminate(){}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams,this.longPollingOptions=n.longPollingOptions}Mo(n,i,s,c){const p=Za();return new Promise((_,w)=>{const L=new qe;L.setWithCredentials(!0),L.listenOnce(Ye.COMPLETE,()=>{try{switch(L.getLastErrorCode()){case ct.NO_ERROR:const ge=L.getResponseJson();te(m,`XHR for RPC '${n}' ${p} received:`,JSON.stringify(ge)),_(ge);break;case ct.TIMEOUT:te(m,`RPC '${n}' ${p} timed out`),w(new B(J.DEADLINE_EXCEEDED,"Request time out"));break;case ct.HTTP_ERROR:const Fe=L.getStatus();if(te(m,`RPC '${n}' ${p} failed with status:`,Fe,"response text:",L.getResponseText()),Fe>0){let ut=L.getResponseJson();Array.isArray(ut)&&(ut=ut[0]);const Ht=null==ut?void 0:ut.error;if(Ht&&Ht.status&&Ht.message){const fn=function(Cn){const cr=Cn.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(cr)>=0?cr:J.UNKNOWN}(Ht.status);w(new B(fn,Ht.message))}else w(new B(J.UNKNOWN,"Server responded with status "+L.getStatus()))}else w(new B(J.UNAVAILABLE,"Connection failed."));break;default:zt()}}finally{te(m,`RPC '${n}' ${p} completed.`)}});const X=JSON.stringify(c);te(m,`RPC '${n}' ${p} sending request:`,c),L.send(i,"POST",X,s,15)})}Oo(n,i,s){const c=Za(),p=[this.wo,"/","google.firestore.v1.Firestore","/",n,"/channel"],_=tt(),w=Tt(),L={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},X=this.longPollingOptions.timeoutSeconds;void 0!==X&&(L.longPollingTimeout=Math.round(1e3*X)),this.useFetchStreams&&(L.xmlHttpFactory=new Ke({})),this.Fo(L.initMessageHeaders,i,s),L.encodeInitMessageHeaders=!0;const ge=p.join("");te(m,`Creating RPC '${n}' stream ${c}: ${ge}`,L);const Fe=_.createWebChannel(ge,L);let ut=!1,Ht=!1;const fn=new f({lo:Cn=>{Ht?te(m,`Not sending because RPC '${n}' stream ${c} is closed:`,Cn):(ut||(te(m,`Opening RPC '${n}' stream ${c} transport.`),Fe.open(),ut=!0),te(m,`RPC '${n}' stream ${c} sending:`,Cn),Fe.send(Cn))},ho:()=>Fe.close()}),xn=(Cn,cr,Cr)=>{Cn.listen(cr,Xn=>{try{Cr(Xn)}catch(Hr){setTimeout(()=>{throw Hr},0)}})};return xn(Fe,We.EventType.OPEN,()=>{Ht||(te(m,`RPC '${n}' stream ${c} transport opened.`),fn.mo())}),xn(Fe,We.EventType.CLOSE,()=>{Ht||(Ht=!0,te(m,`RPC '${n}' stream ${c} transport closed`),fn.po())}),xn(Fe,We.EventType.ERROR,Cn=>{Ht||(Ht=!0,wt(m,`RPC '${n}' stream ${c} transport errored:`,Cn),fn.po(new B(J.UNAVAILABLE,"The operation could not be completed")))}),xn(Fe,We.EventType.MESSAGE,Cn=>{var cr;if(!Ht){const Cr=Cn.data[0];It(!!Cr);const Hr=Cr.error||(null===(cr=Cr[0])||void 0===cr?void 0:cr.error);if(Hr){te(m,`RPC '${n}' stream ${c} received error:`,Hr);const ji=Hr.status;let hi=function(Ct){const xt=k[Ct];if(void 0!==xt)return Xt(xt)}(ji),Rt=Hr.message;void 0===hi&&(hi=J.INTERNAL,Rt="Unknown error status: "+ji+" with message "+Hr.message),Ht=!0,fn.po(new B(hi,Rt)),Fe.close()}else te(m,`RPC '${n}' stream ${c} received:`,Cr),fn.yo(Cr)}}),xn(w,nt.STAT_EVENT,Cn=>{Cn.stat===rt.PROXY?te(m,`RPC '${n}' stream ${c} detected buffering proxy`):Cn.stat===rt.NOPROXY&&te(m,`RPC '${n}' stream ${c} detected no buffering proxy`)}),setTimeout(()=>{fn.fo()},0),fn}}function q(){return typeof window<"u"?window:null}function Ae(){return typeof document<"u"?document:null}function _t(l){return new Tr(l,!0)}class Gt{constructor(n,i,s=1e3,c=1.5,p=6e4){this.oi=n,this.timerId=i,this.No=s,this.Lo=c,this.Bo=p,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(n){this.cancel();const i=Math.floor(this.ko+this.Uo()),s=Math.max(0,Date.now()-this.Qo),c=Math.max(0,i-s);c>0&&te("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.ko} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,c,()=>(this.Qo=Date.now(),n())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class vn{constructor(n,i,s,c,p,_,w,L){this.oi=n,this.Go=s,this.zo=c,this.connection=p,this.authCredentialsProvider=_,this.appCheckCredentialsProvider=w,this.listener=L,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new Gt(n,i)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var n=this;return(0,d.A)(function*(){n.Zo()&&(yield n.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(n){this.s_(),this.stream.send(n)}r_(){var n=this;return(0,d.A)(function*(){if(n.Xo())return n.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(n,i){var s=this;return(0,d.A)(function*(){s.s_(),s.o_(),s.Yo.cancel(),s.jo++,4!==n?s.Yo.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Dt(i.toString()),Dt("Using maximum backoff delay to prevent overloading the backend."),s.Yo.Ko()):i&&i.code===J.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.__(),s.stream.close(),s.stream=null),s.state=n,yield s.listener.Ao(i)})()}__(){}auth(){this.state=1;const n=this.a_(this.jo),i=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,c])=>{this.jo===i&&this.u_(s,c)},s=>{n(()=>{const c=new B(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.c_(c)})})}u_(n,i){const s=this.a_(this.jo);this.stream=this.l_(n,i),this.stream.Po(()=>{s(()=>this.listener.Po())}),this.stream.To(()=>{s(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(c=>{s(()=>this.c_(c))}),this.stream.onMessage(c=>{s(()=>this.onMessage(c))})}e_(){var n=this;this.state=5,this.Yo.$o((0,d.A)(function*(){n.state=0,n.start()}))}c_(n){return te("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(4,n)}a_(n){return i=>{this.oi.enqueueAndForget(()=>this.jo===n?i():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Zn extends vn{constructor(n,i,s,c,p,_){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,c,_),this.serializer=p}l_(n,i){return this.connection.Oo("Listen",n,i)}onMessage(n){this.Yo.reset();const i=function cl(l,n){let i;if("targetChange"in n){const s="NO_CHANGE"===(X=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===X?1:"REMOVE"===X?2:"CURRENT"===X?3:"RESET"===X?4:zt(),c=n.targetChange.targetIds||[],p=function(X,ge){return X.useProto3Json?(It(void 0===ge||"string"==typeof ge),Li.fromBase64String(ge||"")):(It(void 0===ge||ge instanceof Buffer||ge instanceof Uint8Array),Li.fromUint8Array(ge||new Uint8Array))}(l,n.targetChange.resumeToken),_=n.targetChange.cause,w=_&&function(X){const ge=void 0===X.code?J.UNKNOWN:Xt(X.code);return new B(ge,X.message||"")}(_);i=new ci(s,c,p,w||null)}else if("documentChange"in n){const s=n.documentChange,c=Ao(l,s.document.name),p=Jr(s.document.updateTime),_=s.document.createTime?Jr(s.document.createTime):nn.min(),w=new Zt({mapValue:{fields:s.document.fields}}),L=dn.newFoundDocument(c,p,_,w);i=new En(s.targetIds||[],s.removedTargetIds||[],L.key,L)}else if("documentDelete"in n){const s=n.documentDelete,c=Ao(l,s.document),p=s.readTime?Jr(s.readTime):nn.min(),_=dn.newNoDocument(c,p);i=new En([],s.removedTargetIds||[],_.key,_)}else if("documentRemove"in n){const s=n.documentRemove,c=Ao(l,s.document);i=new En([],s.removedTargetIds||[],c,null)}else{if(!("filter"in n))return zt();{const s=n.filter,{count:c=0,unchangedNames:p}=s,_=new Ne(c,p);i=new $n(s.targetId,_)}}var X;return i}(this.serializer,n),s=function(p){if(!("targetChange"in p))return nn.min();const _=p.targetChange;return _.targetIds&&_.targetIds.length?nn.min():_.readTime?Jr(_.readTime):nn.min()}(n);return this.listener.h_(i,s)}P_(n){const i={};i.database=wr(this.serializer),i.addTarget=function(p,_){let w;const L=_.target;if(w=lo(L)?{documents:jo(p,L)}:{query:dl(p,L)._t},w.targetId=_.targetId,_.resumeToken.approximateByteSize()>0){w.resumeToken=Na(p,_.resumeToken);const X=ss(p,_.expectedCount);null!==X&&(w.expectedCount=X)}else if(_.snapshotVersion.compareTo(nn.min())>0){w.readTime=Ls(p,_.snapshotVersion.toTimestamp());const X=ss(p,_.expectedCount);null!==X&&(w.expectedCount=X)}return w}(this.serializer,n);const s=function Xo(l,n){const i=function(c){switch(c){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return zt()}}(n.purpose);return null==i?null:{"goog-listen-tags":i}}(0,n);s&&(i.labels=s),this.i_(i)}I_(n){const i={};i.database=wr(this.serializer),i.removeTarget=n,this.i_(i)}}class gr extends vn{constructor(n,i,s,c,p,_){super(n,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,c,_),this.serializer=p,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(n,i){return this.connection.Oo("Write",n,i)}onMessage(n){if(It(!!n.streamToken),this.lastStreamToken=n.streamToken,this.T_){this.Yo.reset();const i=function Bo(l,n){return l&&l.length>0?(It(void 0!==n),l.map(i=>function(c,p){let _=Jr(c.updateTime?c.updateTime:p);return _.isEqual(nn.min())&&(_=Jr(p)),new ol(_,c.transformResults||[])}(i,n))):[]}(n.writeResults,n.commitTime),s=Jr(n.commitTime);return this.listener.A_(s,i)}return It(!n.writeResults||0===n.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const n={};n.database=wr(this.serializer),this.i_(n)}d_(n){const i={streamToken:this.lastStreamToken,writes:n.map(s=>$i(this.serializer,s))};this.i_(i)}}class di extends class{}{constructor(n,i,s,c){super(),this.authCredentials=n,this.appCheckCredentials=i,this.connection=s,this.serializer=c,this.m_=!1}f_(){if(this.m_)throw new B(J.FAILED_PRECONDITION,"The client has already been terminated.")}Co(n,i,s,c){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,_])=>this.connection.Co(n,Vs(i,s),c,p,_)).catch(p=>{throw"FirebaseError"===p.name?(p.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new B(J.UNKNOWN,p.toString())})}xo(n,i,s,c,p){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([_,w])=>this.connection.xo(n,Vs(i,s),c,_,w,p)).catch(_=>{throw"FirebaseError"===_.name?(_.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),_):new B(J.UNKNOWN,_.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class $s{constructor(n,i){this.asyncQueue=n,this.onlineStateHandler=i,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(n){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.S_("Offline")))}set(n){this.C_(),this.g_=0,"Online"===n&&(this.y_=!1),this.S_(n)}S_(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}b_(n){const i=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Dt(i),this.y_=!1):te("OnlineStateTracker",i)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class Cl{constructor(n,i,s,c,p){var _=this;this.localStore=n,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=p,this.O_.io(w=>{s.enqueueAndForget((0,d.A)(function*(){var L;ho(_)&&(te("RemoteStore","Restarting streams for network reachability change."),yield(L=(0,d.A)(function*(ge){const Fe=$e(ge);Fe.M_.add(4),yield zl(Fe),Fe.N_.set("Unknown"),Fe.M_.delete(4),yield Tl(Fe)}),function X(ge){return L.apply(this,arguments)})(_))}))}),this.N_=new $s(s,c)}}function Tl(l){return vc.apply(this,arguments)}function vc(){return(vc=(0,d.A)(function*(l){if(ho(l))for(const n of l.x_)yield n(!0)})).apply(this,arguments)}function zl(l){return mu.apply(this,arguments)}function mu(){return(mu=(0,d.A)(function*(l){for(const n of l.x_)yield n(!1)})).apply(this,arguments)}function ka(l,n){const i=$e(l);i.F_.has(n.targetId)||(i.F_.set(n.targetId,n),Dl(i)?Ja(i):od(i).Xo()&&_c(i,n))}function Hl(l,n){const i=$e(l),s=od(i);i.F_.delete(n),s.Xo()&&nd(i,n),0===i.F_.size&&(s.Xo()?s.n_():ho(i)&&i.N_.set("Unknown"))}function _c(l,n){if(l.L_.xe(n.targetId),n.resumeToken.approximateByteSize()>0||n.snapshotVersion.compareTo(nn.min())>0){const i=l.remoteSyncer.getRemoteKeysForTarget(n.targetId).size;n=n.withExpectedCount(i)}od(l).P_(n)}function nd(l,n){l.L_.xe(n),od(l).I_(n)}function Ja(l){l.L_=new _i({getRemoteKeysForTarget:n=>l.remoteSyncer.getRemoteKeysForTarget(n),ot:n=>l.F_.get(n)||null,tt:()=>l.datastore.serializer.databaseId}),od(l).start(),l.N_.w_()}function Dl(l){return ho(l)&&!od(l).Zo()&&l.F_.size>0}function ho(l){return 0===$e(l).M_.size}function rd(l){l.L_=void 0}function Xh(l){return Qd.apply(this,arguments)}function Qd(){return(Qd=(0,d.A)(function*(l){l.N_.set("Online")})).apply(this,arguments)}function Y_(l){return Qh.apply(this,arguments)}function Qh(){return(Qh=(0,d.A)(function*(l){l.F_.forEach((n,i)=>{_c(l,n)})})).apply(this,arguments)}function Yh(l,n){return $p.apply(this,arguments)}function $p(){return($p=(0,d.A)(function*(l,n){rd(l),Dl(l)?(l.N_.D_(n),Ja(l)):l.N_.set("Unknown")})).apply(this,arguments)}function Am(l,n,i){return Yd.apply(this,arguments)}function Yd(){return Yd=(0,d.A)(function*(l,n,i){if(l.N_.set("Online"),n instanceof ci&&2===n.state&&n.cause)try{yield(s=(0,d.A)(function*(p,_){const w=_.cause;for(const L of _.targetIds)p.F_.has(L)&&(yield p.remoteSyncer.rejectListen(L,w),p.F_.delete(L),p.L_.removeTarget(L))}),function c(p,_){return s.apply(this,arguments)})(l,n)}catch(s){te("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),s),yield yc(l,s)}else if(n instanceof En?l.L_.Ke(n):n instanceof $n?l.L_.He(n):l.L_.We(n),!i.isEqual(nn.min()))try{const s=yield Xd(l.localStore);i.compareTo(s)>=0&&(yield function(p,_){const w=p.L_.rt(_);return w.targetChanges.forEach((L,X)=>{if(L.resumeToken.approximateByteSize()>0){const ge=p.F_.get(X);ge&&p.F_.set(X,ge.withResumeToken(L.resumeToken,_))}}),w.targetMismatches.forEach((L,X)=>{const ge=p.F_.get(L);if(!ge)return;p.F_.set(L,ge.withResumeToken(Li.EMPTY_BYTE_STRING,ge.snapshotVersion)),nd(p,L);const Fe=new Ca(ge.target,L,X,ge.sequenceNumber);_c(p,Fe)}),p.remoteSyncer.applyRemoteEvent(w)}(l,i))}catch(s){te("RemoteStore","Failed to raise snapshot:",s),yield yc(l,s)}var s}),Yd.apply(this,arguments)}function yc(l,n,i){return Zh.apply(this,arguments)}function Zh(){return(Zh=(0,d.A)(function*(l,n,i){if(!Je(n))throw n;l.M_.add(1),yield zl(l),l.N_.set("Offline"),i||(i=()=>Xd(l.localStore)),l.asyncQueue.enqueueRetryable((0,d.A)(function*(){te("RemoteStore","Retrying IndexedDB access"),yield i(),l.M_.delete(1),yield Tl(l)}))})).apply(this,arguments)}function Cm(l,n){return n().catch(i=>yc(l,i,n))}function id(l){return Bp.apply(this,arguments)}function Bp(){return(Bp=(0,d.A)(function*(l){const n=$e(l),i=Uu(n);let s=n.v_.length>0?n.v_[n.v_.length-1].batchId:-1;for(;Tm(n);)try{const c=yield j(n.localStore,s);if(null===c){0===n.v_.length&&i.n_();break}s=c.batchId,Z_(n,c)}catch(c){yield yc(n,c)}jp(n)&&Dm(n)})).apply(this,arguments)}function Tm(l){return ho(l)&&l.v_.length<10}function Z_(l,n){l.v_.push(n);const i=Uu(l);i.Xo()&&i.E_&&i.d_(n.mutations)}function jp(l){return ho(l)&&!Uu(l).Zo()&&l.v_.length>0}function Dm(l){Uu(l).start()}function J_(l){return bm.apply(this,arguments)}function bm(){return(bm=(0,d.A)(function*(l){Uu(l).V_()})).apply(this,arguments)}function wm(l){return Jh.apply(this,arguments)}function Jh(){return(Jh=(0,d.A)(function*(l){const n=Uu(l);for(const i of l.v_)n.d_(i.mutations)})).apply(this,arguments)}function Fa(l,n,i){return Sm.apply(this,arguments)}function Sm(){return(Sm=(0,d.A)(function*(l,n,i){const s=l.v_.shift(),c=os.from(s,n,i);yield Cm(l,()=>l.remoteSyncer.applySuccessfulWrite(c)),yield id(l)})).apply(this,arguments)}function Rm(l,n){return Pm.apply(this,arguments)}function Pm(){return Pm=(0,d.A)(function*(l,n){var i;n&&Uu(l).E_&&(yield(i=(0,d.A)(function*(c,p){if(je(w=p.code)&&w!==J.ABORTED){const _=c.v_.shift();Uu(c).t_(),yield Cm(c,()=>c.remoteSyncer.rejectFailedWrite(_.batchId,p)),yield id(c)}var w}),function s(c,p){return i.apply(this,arguments)})(l,n)),jp(l)&&Dm(l)}),Pm.apply(this,arguments)}function ef(l,n){return bl.apply(this,arguments)}function bl(){return(bl=(0,d.A)(function*(l,n){const i=$e(l);i.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const s=ho(i);i.M_.add(3),yield zl(i),s&&i.N_.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(n),i.M_.delete(3),yield Tl(i)})).apply(this,arguments)}function tf(l,n){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,d.A)(function*(l,n){const i=$e(l);n?(i.M_.delete(2),yield Tl(i)):n||(i.M_.add(2),yield zl(i),i.N_.set("Unknown"))})).apply(this,arguments)}function od(l){return l.B_||(l.B_=function(i,s,c){const p=$e(i);return p.f_(),new Zn(s,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,c)}(l.datastore,l.asyncQueue,{Po:Xh.bind(null,l),To:Y_.bind(null,l),Ao:Yh.bind(null,l),h_:Am.bind(null,l)}),l.x_.push(function(){var n=(0,d.A)(function*(i){i?(l.B_.t_(),Dl(l)?Ja(l):l.N_.set("Unknown")):(yield l.B_.stop(),rd(l))});return function(i){return n.apply(this,arguments)}}())),l.B_}function Uu(l){return l.k_||(l.k_=function(i,s,c){const p=$e(i);return p.f_(),new gr(s,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,c)}(l.datastore,l.asyncQueue,{Po:()=>Promise.resolve(),To:J_.bind(null,l),Ao:Rm.bind(null,l),R_:wm.bind(null,l),A_:Fa.bind(null,l)}),l.x_.push(function(){var n=(0,d.A)(function*(i){i?(l.k_.t_(),yield id(l)):(yield l.k_.stop(),l.v_.length>0&&(te("RemoteStore",`Stopping write stream with ${l.v_.length} pending writes`),l.v_=[]))});return function(i){return n.apply(this,arguments)}}())),l.k_}class nf{constructor(n,i,s,c,p){this.asyncQueue=n,this.timerId=i,this.targetTimeMs=s,this.op=c,this.removalCallback=p,this.deferred=new R,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(_=>{})}get promise(){return this.deferred.promise}static createAndSchedule(n,i,s,c,p){const _=Date.now()+s,w=new nf(n,i,_,c,p);return w.start(s),w}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new B(J.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zd(l,n){if(Dt("AsyncQueue",`${n}: ${l}`),Je(l))return new B(J.UNAVAILABLE,`${n}: ${l}`);throw l}class Jd{constructor(n){this.comparator=n?(i,s)=>n(i,s)||Qt.comparator(i.key,s.key):(i,s)=>Qt.comparator(i.key,s.key),this.keyedMap=Is(),this.sortedSet=new Er(this.comparator)}static emptySet(n){return new Jd(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const i=this.keyedMap.get(n);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((i,s)=>(n(i),!1))}add(n){const i=this.delete(n.key);return i.copy(i.keyedMap.insert(n.key,n),i.sortedSet.insert(n,null))}delete(n){const i=this.get(n);return i?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(i)):this}isEqual(n){if(!(n instanceof Jd)||this.size!==n.size)return!1;const i=this.sortedSet.getIterator(),s=n.sortedSet.getIterator();for(;i.hasNext();){const c=i.getNext().key,p=s.getNext().key;if(!c.isEqual(p))return!1}return!0}toString(){const n=[];return this.forEach(i=>{n.push(i.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,i){const s=new Jd;return s.comparator=this.comparator,s.keyedMap=n,s.sortedSet=i,s}}class ey{constructor(){this.q_=new Er(Qt.comparator)}track(n){const i=n.doc.key,s=this.q_.get(i);s?0!==n.type&&3===s.type?this.q_=this.q_.insert(i,n):3===n.type&&1!==s.type?this.q_=this.q_.insert(i,{type:s.type,doc:n.doc}):2===n.type&&2===s.type?this.q_=this.q_.insert(i,{type:2,doc:n.doc}):2===n.type&&0===s.type?this.q_=this.q_.insert(i,{type:0,doc:n.doc}):1===n.type&&0===s.type?this.q_=this.q_.remove(i):1===n.type&&2===s.type?this.q_=this.q_.insert(i,{type:1,doc:s.doc}):0===n.type&&1===s.type?this.q_=this.q_.insert(i,{type:2,doc:n.doc}):zt():this.q_=this.q_.insert(i,n)}Q_(){const n=[];return this.q_.inorderTraversal((i,s)=>{n.push(s)}),n}}class eh{constructor(n,i,s,c,p,_,w,L,X){this.query=n,this.docs=i,this.oldDocs=s,this.docChanges=c,this.mutatedKeys=p,this.fromCache=_,this.syncStateChanged=w,this.excludesMetadataChanges=L,this.hasCachedResults=X}static fromInitialDocuments(n,i,s,c,p){const _=[];return i.forEach(w=>{_.push({type:0,doc:w})}),new eh(n,i,Jd.emptySet(i),_,s,c,!0,!1,p)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.hasCachedResults===n.hasCachedResults&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&Bn(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const i=this.docChanges,s=n.docChanges;if(i.length!==s.length)return!1;for(let c=0;c<i.length;c++)if(i[c].type!==s[c].type||!i[c].doc.isEqual(s[c].doc))return!1;return!0}}class mI{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(n=>n.G_())}}class ty{constructor(){this.queries=new ds(n=>fr(n),Bn),this.onlineState="Unknown",this.z_=new Set}}function $u(l,n){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,d.A)(function*(l,n){const i=$e(l);let s=3;const c=n.query;let p=i.queries.get(c);p?!p.W_()&&n.G_()&&(s=2):(p=new mI,s=n.G_()?0:1);try{switch(s){case 0:p.K_=yield i.onListen(c,!0);break;case 1:p.K_=yield i.onListen(c,!1);break;case 2:yield i.onFirstRemoteStoreListen(c)}}catch(_){const w=Zd(_,`Initialization of query '${go(n.query)}' failed`);return void n.onError(w)}i.queries.set(c,p),p.U_.push(n),n.j_(i.onlineState),p.K_&&n.H_(p.K_)&&Wp(i)})).apply(this,arguments)}function rf(l,n){return zp.apply(this,arguments)}function zp(){return(zp=(0,d.A)(function*(l,n){const i=$e(l),s=n.query;let c=3;const p=i.queries.get(s);if(p){const _=p.U_.indexOf(n);_>=0&&(p.U_.splice(_,1),0===p.U_.length?c=n.G_()?0:1:!p.W_()&&n.G_()&&(c=2))}switch(c){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function Hp(l,n){const i=$e(l);let s=!1;for(const c of n){const _=i.queries.get(c.query);if(_){for(const w of _.U_)w.H_(c)&&(s=!0);_.K_=c}}s&&Wp(i)}function Wl(l,n,i){const s=$e(l),c=s.queries.get(n);if(c)for(const p of c.U_)p.onError(i);s.queries.delete(n)}function Wp(l){l.z_.forEach(n=>{n.next()})}var th,sd;(sd=th||(th={})).J_="default",sd.Cache="cache";class Gp{constructor(n,i,s){this.query=n,this.Y_=i,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=s||{}}H_(n){if(!this.options.includeMetadataChanges){const s=[];for(const c of n.docChanges)3!==c.type&&s.push(c);n=new eh(n.query,n.docs,n.oldDocs,s,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0,n.hasCachedResults)}let i=!1;return this.Z_?this.ea(n)&&(this.Y_.next(n),i=!0):this.ta(n,this.onlineState)&&(this.na(n),i=!0),this.X_=n,i}onError(n){this.Y_.error(n)}j_(n){this.onlineState=n;let i=!1;return this.X_&&!this.Z_&&this.ta(this.X_,n)&&(this.na(this.X_),i=!0),i}ta(n,i){return!n.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==i))&&(!n.docs.isEmpty()||n.hasCachedResults||"Offline"===i)}ea(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(n){n=eh.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache,n.hasCachedResults),this.Z_=!0,this.Y_.next(n)}G_(){return this.options.source!==th.Cache}}class Mm{constructor(n,i){this.ia=n,this.byteLength=i}sa(){return"metadata"in this.ia}}class Kp{constructor(n){this.serializer=n}Ps(n){return Ao(this.serializer,n)}Is(n){return n.metadata.exists?Rs(this.serializer,n.document,!1):dn.newNoDocument(this.Ps(n.metadata.name),this.Ts(n.metadata.readTime))}Ts(n){return Jr(n)}}class sf{constructor(n,i,s){this.oa=n,this.localStore=i,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=nh(n)}_a(n){this.progress.bytesLoaded+=n.byteLength;let i=this.progress.documentsLoaded;if(n.ia.namedQuery)this.queries.push(n.ia.namedQuery);else if(n.ia.documentMetadata){this.documents.push({metadata:n.ia.documentMetadata}),n.ia.documentMetadata.exists||++i;const s=pt.fromString(n.ia.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else n.ia.document&&(this.documents[this.documents.length-1].document=n.ia.document,++i);return i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}aa(n){const i=new Map,s=new Kp(this.serializer);for(const c of n)if(c.metadata.queries){const p=s.Ps(c.metadata.name);for(const _ of c.metadata.queries){const w=(i.get(_)||sr()).add(p);i.set(_,w)}}return i}complete(){var n=this;return(0,d.A)(function*(){const i=yield function Hn(l,n,i,s){return yr.apply(this,arguments)}(n.localStore,new Kp(n.serializer),n.documents,n.oa.id),s=n.aa(n.documents);for(const c of n.queries)yield Kr(n.localStore,c,s.get(c.name));return n.progress.taskState="Success",{progress:n.progress,ua:n.collectionGroups,ca:i}})()}}function nh(l){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:l.totalDocuments,totalBytes:l.totalBytes}}class af{constructor(n){this.key=n}}class xm{constructor(n){this.key=n}}class Nm{constructor(n,i){this.query=n,this.la=i,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=sr(),this.mutatedKeys=sr(),this.Ia=Ro(n),this.Ta=new Jd(this.Ia)}get Ea(){return this.la}da(n,i){const s=i?i.Aa:new ey,c=i?i.Ta:this.Ta;let p=i?i.mutatedKeys:this.mutatedKeys,_=c,w=!1;const L="F"===this.query.limitType&&c.size===this.query.limit?c.last():null,X="L"===this.query.limitType&&c.size===this.query.limit?c.first():null;if(n.inorderTraversal((ge,Fe)=>{const ut=c.get(ge),Ht=Vo(this.query,Fe)?Fe:null,fn=!!ut&&this.mutatedKeys.has(ut.key),xn=!!Ht&&(Ht.hasLocalMutations||this.mutatedKeys.has(Ht.key)&&Ht.hasCommittedMutations);let Cn=!1;ut&&Ht?ut.data.isEqual(Ht.data)?fn!==xn&&(s.track({type:3,doc:Ht}),Cn=!0):this.Ra(ut,Ht)||(s.track({type:2,doc:Ht}),Cn=!0,(L&&this.Ia(Ht,L)>0||X&&this.Ia(Ht,X)<0)&&(w=!0)):!ut&&Ht?(s.track({type:0,doc:Ht}),Cn=!0):ut&&!Ht&&(s.track({type:1,doc:ut}),Cn=!0,(L||X)&&(w=!0)),Cn&&(Ht?(_=_.add(Ht),p=xn?p.add(ge):p.delete(ge)):(_=_.delete(ge),p=p.delete(ge)))}),null!==this.query.limit)for(;_.size>this.query.limit;){const ge="F"===this.query.limitType?_.last():_.first();_=_.delete(ge.key),p=p.delete(ge.key),s.track({type:1,doc:ge})}return{Ta:_,Aa:s,Xi:w,mutatedKeys:p}}Ra(n,i){return n.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(n,i,s,c){const p=this.Ta;this.Ta=n.Ta,this.mutatedKeys=n.mutatedKeys;const _=n.Aa.Q_();_.sort((ge,Fe)=>function(Ht,fn){const xn=Cn=>{switch(Cn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return zt()}};return xn(Ht)-xn(fn)}(ge.type,Fe.type)||this.Ia(ge.doc,Fe.doc)),this.Va(s),c=null!=c&&c;const w=i&&!c?this.ma():[],L=0===this.Pa.size&&this.current&&!c?1:0,X=L!==this.ha;return this.ha=L,0!==_.length||X?{snapshot:new eh(this.query,n.Ta,p,_,n.mutatedKeys,0===L,X,!1,!!s&&s.resumeToken.approximateByteSize()>0),fa:w}:{fa:w}}j_(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new ey,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(n){return!this.la.has(n)&&!!this.Ta.has(n)&&!this.Ta.get(n).hasLocalMutations}Va(n){n&&(n.addedDocuments.forEach(i=>this.la=this.la.add(i)),n.modifiedDocuments.forEach(i=>{}),n.removedDocuments.forEach(i=>this.la=this.la.delete(i)),this.current=n.current)}ma(){if(!this.current)return[];const n=this.Pa;this.Pa=sr(),this.Ta.forEach(s=>{this.ga(s.key)&&(this.Pa=this.Pa.add(s.key))});const i=[];return n.forEach(s=>{this.Pa.has(s)||i.push(new xm(s))}),this.Pa.forEach(s=>{n.has(s)||i.push(new af(s))}),i}pa(n){this.la=n.hs,this.Pa=sr();const i=this.da(n.documents);return this.applyChanges(i,!0)}ya(){return eh.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class ny{constructor(n,i,s){this.query=n,this.targetId=i,this.view=s}}class Om{constructor(n){this.key=n,this.wa=!1}}class ry{constructor(n,i,s,c,p,_){this.localStore=n,this.remoteStore=i,this.eventManager=s,this.sharedClientState=c,this.currentUser=p,this.maxConcurrentLimboResolutions=_,this.Sa={},this.ba=new ds(w=>fr(w),Bn),this.Da=new Map,this.Ca=new Set,this.va=new Er(Qt.comparator),this.Fa=new Map,this.Ma=new Bl,this.xa={},this.Oa=new Map,this.Na=Ul.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function iy(l,n){return oa.apply(this,arguments)}function oa(){return(oa=(0,d.A)(function*(l,n,i=!0){const s=Ac(l);let c;const p=s.ba.get(n);return p?(s.sharedClientState.addLocalQueryTarget(p.targetId),c=p.view.ya()):c=yield uf(s,n,i,!0),c})).apply(this,arguments)}function qp(l,n){return lf.apply(this,arguments)}function lf(){return(lf=(0,d.A)(function*(l,n){const i=Ac(l);yield uf(i,n,!0,!1)})).apply(this,arguments)}function uf(l,n,i,s){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,d.A)(function*(l,n,i,s){const c=yield U(l.localStore,M(n)),p=c.targetId,_=i?l.sharedClientState.addLocalQueryTarget(p):"not-current";let w;return s&&(w=yield Ec(l,n,p,"current"===_,c.resumeToken)),l.isPrimaryClient&&i&&ka(l.remoteStore,c),w})).apply(this,arguments)}function Ec(l,n,i,s,c){return cf.apply(this,arguments)}function cf(){return cf=(0,d.A)(function*(l,n,i,s,c){l.Ba=(Fe,ut,Ht)=>{return(fn=(0,d.A)(function*(Cn,cr,Cr,Xn){let Hr=cr.view.da(Cr);Hr.Xi&&(Hr=yield gt(Cn.localStore,cr.query,!1).then(({documents:Ze})=>cr.view.da(Ze,Hr)));const ji=Xn&&Xn.targetChanges.get(cr.targetId),hi=Xn&&null!=Xn.targetMismatches.get(cr.targetId),Rt=cr.view.applyChanges(Hr,Cn.isPrimaryClient,ji,hi);return tg(Cn,cr.targetId,Rt.fa),Rt.snapshot}),function xn(Cn,cr,Cr,Xn){return fn.apply(this,arguments)})(l,Fe,ut,Ht);var fn};const p=yield gt(l.localStore,n,!0),_=new Nm(n,p.hs),w=_.da(p.documents),L=Zr.createSynthesizedTargetChangeForCurrentChange(i,s&&"Offline"!==l.onlineState,c),X=_.applyChanges(w,l.isPrimaryClient,L);tg(l,i,X.fa);const ge=new ny(n,i,_);return l.ba.set(n,ge),l.Da.has(i)?l.Da.get(i).push(n):l.Da.set(i,[n]),X.snapshot}),cf.apply(this,arguments)}function km(l,n,i){return Xp.apply(this,arguments)}function Xp(){return(Xp=(0,d.A)(function*(l,n,i){const s=$e(l),c=s.ba.get(n),p=s.Da.get(c.targetId);if(p.length>1)return s.Da.set(c.targetId,p.filter(_=>!Bn(_,n))),void s.ba.delete(n);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(c.targetId),s.sharedClientState.isActiveQueryTarget(c.targetId)||(yield me(s.localStore,c.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(c.targetId),i&&Hl(s.remoteStore,c.targetId),ld(s,c.targetId)}).catch(Qn))):(ld(s,c.targetId),yield me(s.localStore,c.targetId,!0))})).apply(this,arguments)}function Fm(l,n){return Qp.apply(this,arguments)}function Qp(){return(Qp=(0,d.A)(function*(l,n){const i=$e(l),s=i.ba.get(n),c=i.Da.get(s.targetId);i.isPrimaryClient&&1===c.length&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Hl(i.remoteStore,s.targetId))})).apply(this,arguments)}function Yp(){return(Yp=(0,d.A)(function*(l,n,i){const s=sg(l);try{const c=yield function(_,w){const L=$e(_),X=bn.now(),ge=w.reduce((Ht,fn)=>Ht.add(fn.key),sr());let Fe,ut;return L.persistence.runTransaction("Locally write mutations","readwrite",Ht=>{let fn=Qi(),xn=sr();return L.os.getEntries(Ht,ge).next(Cn=>{fn=Cn,fn.forEach((cr,Cr)=>{Cr.isValidDocument()||(xn=xn.add(cr))})}).next(()=>L.localDocuments.getOverlayedDocuments(Ht,fn)).next(Cn=>{Fe=Cn;const cr=[];for(const Cr of w){const Xn=Nl(Cr,Fe.get(Cr.key).overlayedDocument);null!=Xn&&cr.push(new $o(Cr.key,Xn,cn(Xn.value.mapValue),Ci.exists(!0)))}return L.mutationQueue.addMutationBatch(Ht,X,cr,w)}).next(Cn=>{ut=Cn;const cr=Cn.applyToLocalDocumentSet(Fe,xn);return L.documentOverlayCache.saveOverlays(Ht,Cn.batchId,cr)})}).then(()=>({batchId:ut.batchId,changes:Ba(Fe)}))}(s.localStore,n);s.sharedClientState.addPendingMutation(c.batchId),function(_,w,L){let X=_.xa[_.currentUser.toKey()];X||(X=new Er(Jt)),X=X.insert(w,L),_.xa[_.currentUser.toKey()]=X}(s,c.batchId,i),yield Bu(s,c.changes),yield id(s.remoteStore)}catch(c){const p=Zd(c,"Failed to persist write");i.reject(p)}})).apply(this,arguments)}function Zp(l,n){return Jp.apply(this,arguments)}function Jp(){return(Jp=(0,d.A)(function*(l,n){const i=$e(l);try{const s=yield function gc(l,n){const i=$e(l),s=n.snapshotVersion;let c=i.ns;return i.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const _=i.os.newChangeBuffer({trackRemovals:!0});c=i.ns;const w=[];n.targetChanges.forEach((ge,Fe)=>{const ut=c.get(Fe);if(!ut)return;w.push(i.Qr.removeMatchingKeys(p,ge.removedDocuments,Fe).next(()=>i.Qr.addMatchingKeys(p,ge.addedDocuments,Fe)));let Ht=ut.withSequenceNumber(p.currentSequenceNumber);var xn,Cn,cr;null!==n.targetMismatches.get(Fe)?Ht=Ht.withResumeToken(Li.EMPTY_BYTE_STRING,nn.min()).withLastLimboFreeSnapshotVersion(nn.min()):ge.resumeToken.approximateByteSize()>0&&(Ht=Ht.withResumeToken(ge.resumeToken,s)),c=c.insert(Fe,Ht),Cn=Ht,cr=ge,(0===(xn=ut).resumeToken.approximateByteSize()||Cn.snapshotVersion.toMicroseconds()-xn.snapshotVersion.toMicroseconds()>=3e8||cr.addedDocuments.size+cr.modifiedDocuments.size+cr.removedDocuments.size>0)&&w.push(i.Qr.updateTargetData(p,Ht))});let L=Qi(),X=sr();if(n.documentUpdates.forEach(ge=>{n.resolvedLimboDocuments.has(ge)&&w.push(i.persistence.referenceDelegate.updateLimboDocument(p,ge))}),w.push(mc(p,_,n.documentUpdates).next(ge=>{L=ge.cs,X=ge.ls})),!s.isEqual(nn.min())){const ge=i.Qr.getLastRemoteSnapshotVersion(p).next(Fe=>i.Qr.setTargetsMetadata(p,p.currentSequenceNumber,s));w.push(ge)}return at.waitFor(w).next(()=>_.apply(p)).next(()=>i.localDocuments.getLocalViewOfDocuments(p,L,X)).next(()=>L)}).then(p=>(i.ns=c,p))}(i.localStore,n);n.targetChanges.forEach((c,p)=>{const _=i.Fa.get(p);_&&(It(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?_.wa=!0:c.modifiedDocuments.size>0?It(_.wa):c.removedDocuments.size>0&&(It(_.wa),_.wa=!1))}),yield Bu(i,s,n)}catch(s){yield Qn(s)}})).apply(this,arguments)}function Vm(l,n,i){const s=$e(l);if(s.isPrimaryClient&&0===i||!s.isPrimaryClient&&1===i){const c=[];s.ba.forEach((p,_)=>{const w=_.view.j_(n);w.snapshot&&c.push(w.snapshot)}),function(_,w){const L=$e(_);L.onlineState=w;let X=!1;L.queries.forEach((ge,Fe)=>{for(const ut of Fe.U_)ut.j_(w)&&(X=!0)}),X&&Wp(L)}(s.eventManager,n),c.length&&s.Sa.h_(c),s.onlineState=n,s.isPrimaryClient&&s.sharedClientState.setOnlineState(n)}}function oy(l,n,i){return eg.apply(this,arguments)}function eg(){return(eg=(0,d.A)(function*(l,n,i){const s=$e(l);s.sharedClientState.updateQueryState(n,"rejected",i);const c=s.Fa.get(n),p=c&&c.key;if(p){let _=new Er(Qt.comparator);_=_.insert(p,dn.newNoDocument(p,nn.min()));const w=sr().add(p),L=new Vi(nn.min(),new Map,new Er(Jt),_,w);yield Zp(s,L),s.va=s.va.remove(p),s.Fa.delete(n),gf(s)}else yield me(s.localStore,n,!1).then(()=>ld(s,n,i)).catch(Qn)})).apply(this,arguments)}function Um(l,n){return df.apply(this,arguments)}function df(){return(df=(0,d.A)(function*(l,n){const i=$e(l),s=n.batch.batchId;try{const c=yield function qd(l,n){const i=$e(l);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const c=n.batch.keys(),p=i.os.newChangeBuffer({trackRemovals:!0});return function(w,L,X,ge){const Fe=X.batch,ut=Fe.keys();let Ht=at.resolve();return ut.forEach(fn=>{Ht=Ht.next(()=>ge.getEntry(L,fn)).next(xn=>{const Cn=X.docVersions.get(fn);It(null!==Cn),xn.version.compareTo(Cn)<0&&(Fe.applyToRemoteDocument(xn,X),xn.isValidDocument()&&(xn.setReadTime(X.commitVersion),ge.addEntry(xn)))})}),Ht.next(()=>w.mutationQueue.removeMutationBatch(L,Fe))}(i,s,n,p).next(()=>p.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,c,n.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(w){let L=sr();for(let X=0;X<w.mutationResults.length;++X)w.mutationResults[X].transformResults.length>0&&(L=L.add(w.batch.mutations[X].key));return L}(n))).next(()=>i.localDocuments.getDocuments(s,c))})}(i.localStore,n);pf(i,s,null),ff(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),yield Bu(i,c)}catch(c){yield Qn(c)}})).apply(this,arguments)}function $m(l,n,i){return ad.apply(this,arguments)}function ad(){return(ad=(0,d.A)(function*(l,n,i){const s=$e(l);try{const c=yield function(_,w){const L=$e(_);return L.persistence.runTransaction("Reject batch","readwrite-primary",X=>{let ge;return L.mutationQueue.lookupMutationBatch(X,w).next(Fe=>(It(null!==Fe),ge=Fe.keys(),L.mutationQueue.removeMutationBatch(X,Fe))).next(()=>L.mutationQueue.performConsistencyCheck(X)).next(()=>L.documentOverlayCache.removeOverlaysForBatchId(X,ge,w)).next(()=>L.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(X,ge)).next(()=>L.localDocuments.getDocuments(X,ge))})}(s.localStore,n);pf(s,n,i),ff(s,n),s.sharedClientState.updateMutationState(n,"rejected",i),yield Bu(s,c)}catch(c){yield Qn(c)}})).apply(this,arguments)}function hf(){return(hf=(0,d.A)(function*(l,n){const i=$e(l);ho(i.remoteStore)||te("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(_){const w=$e(_);return w.persistence.runTransaction("Get highest unacknowledged batch id","readonly",L=>w.mutationQueue.getHighestUnacknowledgedBatchId(L))}(i.localStore);if(-1===s)return void n.resolve();const c=i.Oa.get(s)||[];c.push(n),i.Oa.set(s,c)}catch(s){const c=Zd(s,"Initialization of waitForPendingWrites() operation failed");n.reject(c)}})).apply(this,arguments)}function ff(l,n){(l.Oa.get(n)||[]).forEach(i=>{i.resolve()}),l.Oa.delete(n)}function pf(l,n,i){const s=$e(l);let c=s.xa[s.currentUser.toKey()];if(c){const p=c.get(n);p&&(i?p.reject(i):p.resolve(),c=c.remove(n)),s.xa[s.currentUser.toKey()]=c}}function ld(l,n,i=null){l.sharedClientState.removeLocalQueryTarget(n);for(const s of l.Da.get(n))l.ba.delete(s),i&&l.Sa.ka(s,i);l.Da.delete(n),l.isPrimaryClient&&l.Ma.Vr(n).forEach(s=>{l.Ma.containsKey(s)||jm(l,s)})}function jm(l,n){l.Ca.delete(n.path.canonicalString());const i=l.va.get(n);null!==i&&(Hl(l.remoteStore,i),l.va=l.va.remove(n),l.Fa.delete(i),gf(l))}function tg(l,n,i){for(const s of i)s instanceof af?(l.Ma.addReference(s.key,n),sy(l,s)):s instanceof xm?(te("SyncEngine","Document no longer in limbo: "+s.key),l.Ma.removeReference(s.key,n),l.Ma.containsKey(s.key)||jm(l,s.key)):zt()}function sy(l,n){const i=n.key,s=i.path.canonicalString();l.va.get(i)||l.Ca.has(s)||(te("SyncEngine","New document in limbo: "+i),l.Ca.add(s),gf(l))}function gf(l){for(;l.Ca.size>0&&l.va.size<l.maxConcurrentLimboResolutions;){const n=l.Ca.values().next().value;l.Ca.delete(n);const i=new Qt(pt.fromString(n)),s=l.Na.next();l.Fa.set(s,new Om(i)),l.va=l.va.insert(i,s),ka(l.remoteStore,new Ca(M(Pi(i.path)),s,"TargetPurposeLimboResolution",ie.oe))}}function Bu(l,n,i){return mf.apply(this,arguments)}function mf(){return mf=(0,d.A)(function*(l,n,i){const s=$e(l),c=[],p=[],_=[];var w;s.ba.isEmpty()||(s.ba.forEach((w,L)=>{_.push(s.Ba(L,n,i).then(X=>{if((X||i)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(L.targetId,X&&!X.fromCache?"current":"not-current"),X){c.push(X);const ge=Fu.Ki(L.targetId,X);p.push(ge)}}))}),yield Promise.all(_),s.Sa.h_(c),yield(w=(0,d.A)(function*(X,ge){const Fe=$e(X);try{yield Fe.persistence.runTransaction("notifyLocalViewChanges","readwrite",ut=>at.forEach(ge,Ht=>at.forEach(Ht.qi,fn=>Fe.persistence.referenceDelegate.addReference(ut,Ht.targetId,fn)).next(()=>at.forEach(Ht.Qi,fn=>Fe.persistence.referenceDelegate.removeReference(ut,Ht.targetId,fn)))))}catch(ut){if(!Je(ut))throw ut;te("LocalStore","Failed to update sequence numbers: "+ut)}for(const ut of ge){const Ht=ut.targetId;if(!ut.fromCache){const fn=Fe.ns.get(Ht),Cn=fn.withLastLimboFreeSnapshotVersion(fn.snapshotVersion);Fe.ns=Fe.ns.insert(Ht,Cn)}}}),function L(X,ge){return w.apply(this,arguments)})(s.localStore,p))}),mf.apply(this,arguments)}function ay(l,n){return ng.apply(this,arguments)}function ng(){return(ng=(0,d.A)(function*(l,n){const i=$e(l);if(!i.currentUser.isEqual(n)){te("SyncEngine","User change. New user:",n.toKey());const s=yield Ji(i.localStore,n);i.currentUser=n,(p=i).Oa.forEach(w=>{w.forEach(L=>{L.reject(new B(J.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),p.Oa.clear(),i.sharedClientState.handleUserChange(n,s.removedBatchIds,s.addedBatchIds),yield Bu(i,s.us)}var p})).apply(this,arguments)}function vI(l,n){const i=$e(l),s=i.Fa.get(n);if(s&&s.wa)return sr().add(s.key);{let c=sr();const p=i.Da.get(n);if(!p)return c;for(const _ of p){const w=i.ba.get(_);c=c.unionWith(w.view.Ea)}return c}}function ly(l,n){return vf.apply(this,arguments)}function vf(){return(vf=(0,d.A)(function*(l,n){const i=$e(l),s=yield gt(i.localStore,n.query,!0),c=n.view.pa(s);return i.isPrimaryClient&&tg(i,n.targetId,c.fa),c})).apply(this,arguments)}function rg(l,n){return ig.apply(this,arguments)}function ig(){return(ig=(0,d.A)(function*(l,n){const i=$e(l);return mn(i.localStore,n).then(s=>Bu(i,s))})).apply(this,arguments)}function ju(l,n,i,s){return _f.apply(this,arguments)}function _f(){return(_f=(0,d.A)(function*(l,n,i,s){const c=$e(l),p=yield function(w,L){const X=$e(w),ge=$e(X.mutationQueue);return X.persistence.runTransaction("Lookup mutation documents","readonly",Fe=>ge.vn(Fe,L).next(ut=>ut?X.localDocuments.getDocuments(Fe,ut):at.resolve(null)))}(c.localStore,n);var L;null!==p?("pending"===i?yield id(c.remoteStore):"acknowledged"===i||"rejected"===i?(pf(c,n,s||null),ff(c,n),L=n,$e($e(c.localStore).mutationQueue).Mn(L)):zt(),yield Bu(c,p)):te("SyncEngine","Cannot apply mutation batch with id: "+n)})).apply(this,arguments)}function yf(){return(yf=(0,d.A)(function*(l,n){const i=$e(l);if(Ac(i),sg(i),!0===n&&!0!==i.La){const s=i.sharedClientState.getAllActiveQueryTargets(),c=yield If(i,s.toArray());i.La=!0,yield tf(i.remoteStore,!0);for(const p of c)ka(i.remoteStore,p)}else if(!1===n&&!1!==i.La){const s=[];let c=Promise.resolve();i.Da.forEach((p,_)=>{i.sharedClientState.isLocalQueryTarget(_)?s.push(_):c=c.then(()=>(ld(i,_),me(i.localStore,_,!0))),Hl(i.remoteStore,_)}),yield c,yield If(i,s),function(_){const w=$e(_);w.Fa.forEach((L,X)=>{Hl(w.remoteStore,X)}),w.Ma.mr(),w.Fa=new Map,w.va=new Er(Qt.comparator)}(i),i.La=!1,yield tf(i.remoteStore,!1)}})).apply(this,arguments)}function If(l,n,i){return zm.apply(this,arguments)}function zm(){return(zm=(0,d.A)(function*(l,n,i){const s=$e(l),c=[],p=[];for(const _ of n){let w;const L=s.Da.get(_);if(L&&0!==L.length){w=yield U(s.localStore,M(L[0]));for(const X of L){const ge=s.ba.get(X),Fe=yield ly(s,ge);Fe.snapshot&&p.push(Fe.snapshot)}}else{const X=yield Wt(s.localStore,_);w=yield U(s.localStore,X),yield Ec(s,cy(X),_,!1,w.resumeToken)}c.push(w)}return s.Sa.h_(p),c})).apply(this,arguments)}function cy(l){return ys(l.path,l.collectionGroup,l.orderBy,l.filters,l.limit,"F",l.startAt,l.endAt)}function dy(l){return i=$e(l).localStore,$e($e(i).persistence).Bi();var i}function hy(l,n,i,s){return og.apply(this,arguments)}function og(){return(og=(0,d.A)(function*(l,n,i,s){const c=$e(l);if(c.La)return void te("SyncEngine","Ignoring unexpected query state notification.");const p=c.Da.get(n);if(p&&p.length>0)switch(i){case"current":case"not-current":{const _=yield mn(c.localStore,Xi(p[0])),w=Vi.createSynthesizedRemoteEventForCurrentChange(n,"current"===i,Li.EMPTY_BYTE_STRING);yield Bu(c,_,w);break}case"rejected":yield me(c.localStore,n,!0),ld(c,n,s);break;default:zt()}})).apply(this,arguments)}function _I(l,n,i){return Hm.apply(this,arguments)}function Hm(){return(Hm=(0,d.A)(function*(l,n,i){const s=Ac(l);if(s.La){for(const c of n){if(s.Da.has(c)&&s.sharedClientState.isActiveQueryTarget(c)){te("SyncEngine","Adding an already active target "+c);continue}const p=yield Wt(s.localStore,c),_=yield U(s.localStore,p);yield Ec(s,cy(p),_.targetId,!1,_.resumeToken),ka(s.remoteStore,_)}for(const c of i)s.Da.has(c)&&(yield me(s.localStore,c,!1).then(()=>{Hl(s.remoteStore,c),ld(s,c)}).catch(Qn))}})).apply(this,arguments)}function Ac(l){const n=$e(l);return n.remoteStore.remoteSyncer.applyRemoteEvent=Zp.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=vI.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=oy.bind(null,n),n.Sa.h_=Hp.bind(null,n.eventManager),n.Sa.ka=Wl.bind(null,n.eventManager),n}function sg(l){const n=$e(l);return n.remoteStore.remoteSyncer.applySuccessfulWrite=Um.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=$m.bind(null,n),n}class zu{constructor(){this.synchronizeTabs=!1}initialize(n){var i=this;return(0,d.A)(function*(){i.serializer=_t(n.databaseInfo.databaseId),i.sharedClientState=i.createSharedClientState(n),i.persistence=i.createPersistence(n),yield i.persistence.start(),i.localStore=i.createLocalStore(n),i.gcScheduler=i.createGarbageCollectionScheduler(n,i.localStore),i.indexBackfillerScheduler=i.createIndexBackfillerScheduler(n,i.localStore)})()}createGarbageCollectionScheduler(n,i){return null}createIndexBackfillerScheduler(n,i){return null}createLocalStore(n){return El(this.persistence,new Kd,n.initialUser,this.serializer)}createPersistence(n){return new cc(jl.Hr,this.serializer)}createSharedClientState(n){return new fa}terminate(){var n=this;return(0,d.A)(function*(){var i,s;null===(i=n.gcScheduler)||void 0===i||i.stop(),null===(s=n.indexBackfillerScheduler)||void 0===s||s.stop(),n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}class cd extends zu{constructor(n,i,s){super(),this.Qa=n,this.cacheSizeBytes=i,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(n){var i=()=>super.initialize,s=this;return(0,d.A)(function*(){yield i().call(s,n),yield s.Qa.initialize(s,n),yield sg(s.Qa.syncEngine),yield id(s.Qa.remoteStore),yield s.persistence.fi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(n){return El(this.persistence,new Kd,n.initialUser,this.serializer)}createGarbageCollectionScheduler(n,i){return new jd(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue,i)}createIndexBackfillerScheduler(n,i){const s=new pe(i,this.persistence);return new se(n.asyncQueue,s)}createPersistence(n){const i=pc(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?zo.withCacheSize(this.cacheSizeBytes):zo.DEFAULT;return new Ou(this.synchronizeTabs,i,n.clientId,s,n.asyncQueue,q(),Ae(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(n){return new fa}}class rh extends cd{constructor(n,i){super(n,i,!1),this.Qa=n,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(n){var i=()=>super.initialize,s=this;return(0,d.A)(function*(){yield i().call(s,n);const c=s.Qa.syncEngine;s.sharedClientState instanceof Co&&(s.sharedClientState.syncEngine={Zs:ju.bind(null,c),Xs:hy.bind(null,c),eo:_I.bind(null,c),Bi:dy.bind(null,c),Ys:rg.bind(null,c)},yield s.sharedClientState.start()),yield s.persistence.fi(function(){var p=(0,d.A)(function*(_){yield function uy(l,n){return yf.apply(this,arguments)}(s.Qa.syncEngine,_),s.gcScheduler&&(_&&!s.gcScheduler.started?s.gcScheduler.start():_||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(_&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():_||s.indexBackfillerScheduler.stop())});return function(_){return p.apply(this,arguments)}}())})()}createSharedClientState(n){const i=q();if(!Co.D(i))throw new B(J.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=pc(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Co(i,n.asyncQueue,s,n.clientId,n.initialUser)}}class wl{initialize(n,i){var s=this;return(0,d.A)(function*(){s.localStore||(s.localStore=n.localStore,s.sharedClientState=n.sharedClientState,s.datastore=s.createDatastore(i),s.remoteStore=s.createRemoteStore(i),s.eventManager=s.createEventManager(i),s.syncEngine=s.createSyncEngine(i,!n.synchronizeTabs),s.sharedClientState.onlineStateHandler=c=>Vm(s.syncEngine,c,1),s.remoteStore.remoteSyncer.handleCredentialChange=ay.bind(null,s.syncEngine),yield tf(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(n){return new ty}createDatastore(n){const i=_t(n.databaseInfo.databaseId),s=new b(n.databaseInfo);return new di(n.authCredentials,n.appCheckCredentials,s,i)}createRemoteStore(n){return s=this.localStore,c=this.datastore,p=n.asyncQueue,_=i=>Vm(this.syncEngine,i,0),w=Ya.D()?new Ya:new Al,new Cl(s,c,p,_,w);var s,c,p,_,w}createSyncEngine(n,i){return function(c,p,_,w,L,X,ge){const Fe=new ry(c,p,_,w,L,X);return ge&&(Fe.La=!0),Fe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,i)}terminate(){var n=this;return(0,d.A)(function*(){var i,s;yield(s=(0,d.A)(function*(p){const _=$e(p);te("RemoteStore","RemoteStore shutting down."),_.M_.add(5),yield zl(_),_.O_.shutdown(),_.N_.set("Unknown")}),function c(p){return s.apply(this,arguments)})(n.remoteStore),null===(i=n.datastore)||void 0===i||i.terminate()})()}}function dd(l,n=10240){let i=0;return{read:()=>(0,d.A)(function*(){if(i<l.byteLength){const s={value:l.slice(i,i+n),done:!1};return i+=n,s}return{done:!0}})(),cancel:()=>(0,d.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class vu{constructor(n){this.observer=n,this.muted=!1}next(n){this.observer.next&&this.Ka(this.observer.next,n)}error(n){this.observer.error?this.Ka(this.observer.error,n):Dt("Uncaught Error in snapshot listener:",n.toString())}$a(){this.muted=!0}Ka(n,i){this.muted||setTimeout(()=>{this.muted||n(i)},0)}}class lg{constructor(n,i){this.Ua=n,this.serializer=i,this.metadata=new R,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then(s=>{s&&s.sa()?this.metadata.resolve(s.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.ia)}`))},s=>this.metadata.reject(s))}close(){return this.Ua.cancel()}getMetadata(){var n=this;return(0,d.A)(function*(){return n.metadata.promise})()}qa(){var n=this;return(0,d.A)(function*(){return yield n.getMetadata(),n.Ga()})()}Ga(){var n=this;return(0,d.A)(function*(){const i=yield n.za();if(null===i)return null;const s=n.Wa.decode(i),c=Number(s);isNaN(c)&&n.ja(`length string (${s}) is not valid number`);const p=yield n.Ha(c);return new Mm(JSON.parse(p),i.length+c)})()}Ja(){return this.buffer.findIndex(n=>123===n)}za(){var n=this;return(0,d.A)(function*(){for(;n.Ja()<0&&!(yield n.Ya()););if(0===n.buffer.length)return null;const i=n.Ja();i<0&&n.ja("Reached the end of bundle when a length string is expected.");const s=n.buffer.slice(0,i);return n.buffer=n.buffer.slice(i),s})()}Ha(n){var i=this;return(0,d.A)(function*(){for(;i.buffer.length<n;)(yield i.Ya())&&i.ja("Reached the end of bundle when more is expected.");const s=i.Wa.decode(i.buffer.slice(0,n));return i.buffer=i.buffer.slice(n),s})()}ja(n){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${n}`)}Ya(){var n=this;return(0,d.A)(function*(){const i=yield n.Ua.read();if(!i.done){const s=new Uint8Array(n.buffer.length+i.value.length);s.set(n.buffer),s.set(i.value,n.buffer.length),n.buffer=s}return i.done})()}}class Ef{constructor(n){this.datastore=n,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(n){var i=this;return(0,d.A)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw i.lastTransactionError=new B(J.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),i.lastTransactionError;const s=yield(c=(0,d.A)(function*(_,w){const L=$e(_),X={documents:w.map(Ht=>Ol(L.serializer,Ht))},ge=yield L.xo("BatchGetDocuments",L.serializer.databaseId,pt.emptyPath(),X,w.length),Fe=new Map;ge.forEach(Ht=>{const fn=function io(l,n){return"found"in n?function(s,c){It(!!c.found);const p=Ao(s,c.found.name),_=Jr(c.found.updateTime),w=c.found.createTime?Jr(c.found.createTime):nn.min(),L=new Zt({mapValue:{fields:c.found.fields}});return dn.newFoundDocument(p,_,w,L)}(l,n):"missing"in n?function(s,c){It(!!c.missing),It(!!c.readTime);const p=Ao(s,c.missing),_=Jr(c.readTime);return dn.newNoDocument(p,_)}(l,n):zt()}(L.serializer,Ht);Fe.set(fn.key.toString(),fn)});const ut=[];return w.forEach(Ht=>{const fn=Fe.get(Ht.toString());It(!!fn),ut.push(fn)}),ut}),function p(_,w){return c.apply(this,arguments)})(i.datastore,n);var c;return s.forEach(c=>i.recordVersion(c)),s})()}set(n,i){this.write(i.toMutation(n,this.precondition(n))),this.writtenDocs.add(n.toString())}update(n,i){try{this.write(i.toMutation(n,this.preconditionForUpdate(n)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(n.toString())}delete(n){this.write(new Js(n,this.precondition(n))),this.writtenDocs.add(n.toString())}commit(){var n=this;return(0,d.A)(function*(){if(n.ensureCommitNotCalled(),n.lastTransactionError)throw n.lastTransactionError;const i=n.readVersions;var s;n.mutations.forEach(s=>{i.delete(s.key.toString())}),i.forEach((s,c)=>{const p=Qt.fromPath(c);n.mutations.push(new Ds(p,n.precondition(p)))}),yield(s=(0,d.A)(function*(p,_){const w=$e(p),L={writes:_.map(X=>$i(w.serializer,X))};yield w.Co("Commit",w.serializer.databaseId,pt.emptyPath(),L)}),function c(p,_){return s.apply(this,arguments)})(n.datastore,n.mutations),n.committed=!0})()}recordVersion(n){let i;if(n.isFoundDocument())i=n.version;else{if(!n.isNoDocument())throw zt();i=nn.min()}const s=this.readVersions.get(n.key.toString());if(s){if(!i.isEqual(s))throw new B(J.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(n.key.toString(),i)}precondition(n){const i=this.readVersions.get(n.toString());return!this.writtenDocs.has(n.toString())&&i?i.isEqual(nn.min())?Ci.exists(!1):Ci.updateTime(i):Ci.none()}preconditionForUpdate(n){const i=this.readVersions.get(n.toString());if(!this.writtenDocs.has(n.toString())&&i){if(i.isEqual(nn.min()))throw new B(J.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ci.updateTime(i)}return Ci.exists(!0)}write(n){this.ensureCommitNotCalled(),this.mutations.push(n)}ensureCommitNotCalled(){}}class ih{constructor(n,i,s,c,p){this.asyncQueue=n,this.datastore=i,this.options=s,this.updateFunction=c,this.deferred=p,this.Za=s.maxAttempts,this.Yo=new Gt(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var n=this;this.Yo.$o((0,d.A)(function*(){const i=new Ef(n.datastore),s=n.tu(i);s&&s.then(c=>{n.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{n.deferred.resolve(c)}).catch(p=>{n.nu(p)}))}).catch(c=>{n.nu(c)})}))}tu(n){try{const i=this.updateFunction(n);return!lt(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}nu(n){this.Za>0&&this.ru(n)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(n)}ru(n){if("FirebaseError"===n.name){const i=n.code;return"aborted"===i||"failed-precondition"===i||"already-exists"===i||!je(i)}return!1}}class yI{constructor(n,i,s,c){var p=this;this.authCredentials=n,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=c,this.user=we.UNAUTHENTICATED,this.clientId=Sn.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var _=(0,d.A)(function*(w){te("FirestoreClient","Received user=",w.uid),yield p.authCredentialListener(w),p.user=w});return function(w){return _.apply(this,arguments)}}()),this.appCheckCredentials.start(s,_=>(te("FirestoreClient","Received new app check token=",_),this.appCheckCredentialListener(_,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new B(J.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const i=new R;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,d.A)(function*(){try{n._onlineComponents&&(yield n._onlineComponents.terminate()),n._offlineComponents&&(yield n._offlineComponents.terminate()),n.authCredentials.shutdown(),n.appCheckCredentials.shutdown(),i.resolve()}catch(s){const c=Zd(s,"Failed to shutdown persistence");i.reject(c)}})),i.promise}}function hd(l,n){return Cc.apply(this,arguments)}function Cc(){return Cc=(0,d.A)(function*(l,n){l.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const i=l.configuration;yield n.initialize(i);let s=i.initialUser;l.setCredentialChangeListener(function(){var c=(0,d.A)(function*(p){s.isEqual(p)||(yield Ji(n.localStore,p),s=p)});return function(p){return c.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>l.terminate()),l._offlineComponents=n}),Cc.apply(this,arguments)}function ug(l,n){return Af.apply(this,arguments)}function Af(){return(Af=(0,d.A)(function*(l,n){l.asyncQueue.verifyOperationInProgress();const i=yield cg(l);te("FirestoreClient","Initializing OnlineComponentProvider"),yield n.initialize(i,l.configuration),l.setCredentialChangeListener(s=>ef(n.remoteStore,s)),l.setAppCheckTokenChangeListener((s,c)=>ef(n.remoteStore,c)),l._onlineComponents=n})).apply(this,arguments)}function Wm(l){return"FirebaseError"===l.name?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code}function cg(l){return oh.apply(this,arguments)}function oh(){return(oh=(0,d.A)(function*(l){if(!l._offlineComponents)if(l._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{yield hd(l,l._uninitializedComponentsProvider._offline)}catch(n){const i=n;if(!Wm(i))throw i;wt("Error using user provided cache. Falling back to memory cache: "+i),yield hd(l,new zu)}}else te("FirestoreClient","Using default OfflineComponentProvider"),yield hd(l,new zu);return l._offlineComponents})).apply(this,arguments)}function sh(l){return dg.apply(this,arguments)}function dg(){return(dg=(0,d.A)(function*(l){return l._onlineComponents||(l._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),yield ug(l,l._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),yield ug(l,new wl))),l._onlineComponents})).apply(this,arguments)}function Gm(l){return cg(l).then(n=>n.persistence)}function Gl(l){return cg(l).then(n=>n.localStore)}function hg(l){return sh(l).then(n=>n.remoteStore)}function ah(l){return sh(l).then(n=>n.syncEngine)}function lh(l){return qm.apply(this,arguments)}function qm(){return(qm=(0,d.A)(function*(l){const n=yield sh(l),i=n.eventManager;return i.onListen=iy.bind(null,n.syncEngine),i.onUnlisten=km.bind(null,n.syncEngine),i.onFirstRemoteStoreListen=qp.bind(null,n.syncEngine),i.onLastRemoteStoreUnlisten=Fm.bind(null,n.syncEngine),i})).apply(this,arguments)}function Tf(l,n,i={}){const s=new R;return l.asyncQueue.enqueueAndForget((0,d.A)(function*(){return function(p,_,w,L,X){const ge=new vu({next:ut=>{_.enqueueAndForget(()=>rf(p,Fe));const Ht=ut.docs.has(w);!Ht&&ut.fromCache?X.reject(new B(J.UNAVAILABLE,"Failed to get document because the client is offline.")):Ht&&ut.fromCache&&L&&"server"===L.source?X.reject(new B(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):X.resolve(ut)},error:ut=>X.reject(ut)}),Fe=new Gp(Pi(w.path),ge,{includeMetadataChanges:!0,ra:!0});return $u(p,Fe)}(yield lh(l),l.asyncQueue,n,i,s)})),s.promise}function fg(l,n,i={}){const s=new R;return l.asyncQueue.enqueueAndForget((0,d.A)(function*(){return function(p,_,w,L,X){const ge=new vu({next:ut=>{_.enqueueAndForget(()=>rf(p,Fe)),ut.fromCache&&"server"===L.source?X.reject(new B(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):X.resolve(ut)},error:ut=>X.reject(ut)}),Fe=new Gp(w,ge,{includeMetadataChanges:!0,ra:!0});return $u(p,Fe)}(yield lh(l),l.asyncQueue,n,i,s)})),s.promise}function Sf(l){const n={};return void 0!==l.timeoutSeconds&&(n.timeoutSeconds=l.timeoutSeconds),n}const Tc=new Map;function gg(l,n,i){if(!i)throw new B(J.INVALID_ARGUMENT,`Function ${l}() cannot be called with an empty ${n}.`)}function Zm(l,n,i,s){if(!0===n&&!0===s)throw new B(J.INVALID_ARGUMENT,`${l} and ${i} cannot be used together.`)}function gy(l){if(!Qt.isDocumentKey(l))throw new B(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${l} has ${l.length}.`)}function ch(l){if(Qt.isDocumentKey(l))throw new B(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${l} has ${l.length}.`)}function fd(l){if(void 0===l)return"undefined";if(null===l)return"null";if("string"==typeof l)return l.length>20&&(l=`${l.substring(0,20)}...`),JSON.stringify(l);if("number"==typeof l||"boolean"==typeof l)return""+l;if("object"==typeof l){if(l instanceof Array)return"an array";{const n=(s=l).constructor?s.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var s;return"function"==typeof l?"a function":zt()}function li(l,n){if("_delegate"in l&&(l=l._delegate),!(l instanceof n)){if(n.name===l.constructor.name)throw new B(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=fd(l);throw new B(J.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${i}`)}}return l}function mg(l,n){if(n<=0)throw new B(J.INVALID_ARGUMENT,`Function ${l}() requires a positive number, but it was: ${n}.`)}class vg{constructor(n){var i,s;if(void 0===n.host){if(void 0!==n.ssl)throw new B(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(i=n.ssl)||void 0===i||i;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.localCache=n.localCache,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new B(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}Zm("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==n.experimentalAutoDetectLongPolling&&!n.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Sf(null!==(s=n.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(p){if(void 0!==p.timeoutSeconds){if(isNaN(p.timeoutSeconds))throw new B(J.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (must not be NaN)`);if(p.timeoutSeconds<5)throw new B(J.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (minimum allowed value is 5)`);if(p.timeoutSeconds>30)throw new B(J.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===n.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class pd{constructor(n,i,s,c){this._authCredentials=n,this._appCheckCredentials=i,this._databaseId=s,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new B(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new B(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vg(n),void 0!==n.credentials&&(this._authCredentials=function(s){if(!s)return new Ee;switch(s.type){case"firstParty":return new Xe(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new B(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=Tc.get(i);s&&(te("ComponentProvider","Removing Datastore"),Tc.delete(i),s.terminate())}(this),Promise.resolve()}}function Jm(l,n,i,s={}){var c;const p=(l=li(l,pd))._getSettings(),_=`${n}:${i}`;if("firestore.googleapis.com"!==p.host&&p.host!==_&&wt("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),l._setSettings(Object.assign(Object.assign({},p),{host:_,ssl:!1})),s.mockUserToken){let w,L;if("string"==typeof s.mockUserToken)w=s.mockUserToken,L=we.MOCK_USER;else{w=(0,de.Fy)(s.mockUserToken,null===(c=l._app)||void 0===c?void 0:c.options.projectId);const X=s.mockUserToken.sub||s.mockUserToken.user_id;if(!X)throw new B(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");L=new we(X)}l._authCredentials=new Ve(new H(w,L))}}class Bs{constructor(n,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=n}withConverter(n){return new Bs(this.firestore,n,this._query)}}class Zo{constructor(n,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kl(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new Zo(this.firestore,n,this._key)}}class Kl extends Bs{constructor(n,i,s){super(n,i,Pi(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new Zo(this.firestore,null,new Qt(n))}withConverter(n){return new Kl(this.firestore,n,this._path)}}function my(l,n,...i){if(l=(0,de.Ku)(l),gg("collection","path",n),l instanceof pd){const s=pt.fromString(n,...i);return ch(s),new Kl(l,null,s)}{if(!(l instanceof Zo||l instanceof Kl))throw new B(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=l._path.child(pt.fromString(n,...i));return ch(s),new Kl(l.firestore,null,s)}}function Hu(l,n){if(l=li(l,pd),gg("collectionGroup","collection id",n),n.indexOf("/")>=0)throw new B(J.INVALID_ARGUMENT,`Invalid collection ID '${n}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Bs(l,null,(s=n,new yo(pt.emptyPath(),s)));var s}function gd(l,n,...i){if(l=(0,de.Ku)(l),1===arguments.length&&(n=Sn.newId()),gg("doc","path",n),l instanceof pd){const s=pt.fromString(n,...i);return gy(s),new Zo(l,null,new Qt(s))}{if(!(l instanceof Zo||l instanceof Kl))throw new B(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=l._path.child(pt.fromString(n,...i));return gy(s),new Zo(l.firestore,l instanceof Kl?l.converter:null,new Qt(s))}}function vy(l,n){return l=(0,de.Ku)(l),n=(0,de.Ku)(n),(l instanceof Zo||l instanceof Kl)&&(n instanceof Zo||n instanceof Kl)&&l.firestore===n.firestore&&l.path===n.path&&l.converter===n.converter}function ev(l,n){return l=(0,de.Ku)(l),n=(0,de.Ku)(n),l instanceof Bs&&n instanceof Bs&&l.firestore===n.firestore&&Bn(l._query,n._query)&&l.converter===n.converter}class II{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new Gt(this,"async_queue_retry"),this.hu=()=>{const i=Ae();i&&te("AsyncQueue","Visibility state changed to "+i.visibilityState),this.Yo.Wo()};const n=Ae();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.Pu(),this.Iu(n)}enterRestrictedMode(n){if(!this.ou){this.ou=!0,this.cu=n||!1;const i=Ae();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.hu)}}enqueue(n){if(this.Pu(),this.ou)return new Promise(()=>{});const i=new R;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(n().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.su.push(n),this.Tu()))}Tu(){var n=this;return(0,d.A)(function*(){if(0!==n.su.length){try{yield n.su[0](),n.su.shift(),n.Yo.reset()}catch(i){if(!Je(i))throw i;te("AsyncQueue","Operation failed with retryable error: "+i)}n.su.length>0&&n.Yo.$o(()=>n.Tu())}})()}Iu(n){const i=this.iu.then(()=>(this.uu=!0,n().catch(s=>{throw this.au=s,this.uu=!1,Dt("INTERNAL UNHANDLED ERROR: ",function(_){let w=_.message||"";return _.stack&&(w=_.stack.includes(_.message)?_.stack:_.message+"\n"+_.stack),w}(s)),s}).then(s=>(this.uu=!1,s))));return this.iu=i,i}enqueueAfterDelay(n,i,s){this.Pu(),this.lu.indexOf(n)>-1&&(i=0);const c=nf.createAndSchedule(this,n,i,s,p=>this.Eu(p));return this._u.push(c),c}Pu(){this.au&&zt()}verifyOperationInProgress(){}du(){var n=this;return(0,d.A)(function*(){let i;do{i=n.iu,yield i}while(i!==n.iu)})()}Au(n){for(const i of this._u)if(i.timerId===n)return!0;return!1}Ru(n){return this.du().then(()=>{this._u.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this._u)if(i.skipDelay(),"all"!==n&&i.timerId===n)break;return this.du()})}Vu(n){this.lu.push(n)}Eu(n){const i=this._u.indexOf(n);this._u.splice(i,1)}}function tv(l){return function(i,s){if("object"!=typeof i||null===i)return!1;const c=i;for(const p of["next","error","complete"])if(p in c&&"function"==typeof c[p])return!0;return!1}(l)}class EI{constructor(){this._progressObserver={},this._taskCompletionResolver=new R,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(n,i,s){this._progressObserver={next:n,error:i,complete:s}}catch(n){return this._taskCompletionResolver.promise.catch(n)}then(n,i){return this._taskCompletionResolver.promise.then(n,i)}_completeWith(n){this._updateProgress(n),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(n)}_failWith(n){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(n),this._taskCompletionResolver.reject(n)}_updateProgress(n){this._lastProgress=n,this._progressObserver.next&&this._progressObserver.next(n)}}const AI=-1;class so extends pd{constructor(n,i,s,c){super(n,i,s,c),this.type="firestore",this._queue=new II,this._persistenceKey=(null==c?void 0:c.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||nv(this),this._firestoreClient.terminate()}}function _y(l,n){const i="object"==typeof l?l:(0,u.getApp)(),s="string"==typeof l?l:n||"(default)",c=(0,u._getProvider)(i,"firestore").getImmediate({identifier:s});if(!c._initialized){const p=(0,de.yU)("firestore");p&&Jm(c,...p)}return c}function Mo(l){return l._firestoreClient||nv(l),l._firestoreClient.verifyNotTerminated(),l._firestoreClient}function nv(l){var n,i,s;const c=l._freezeSettings(),p=(L=(null===(n=l._app)||void 0===n?void 0:n.options.appId)||"",new vs(l._databaseId,L,l._persistenceKey,(ge=c).host,ge.ssl,ge.experimentalForceLongPolling,ge.experimentalAutoDetectLongPolling,Sf(ge.experimentalLongPollingOptions),ge.useFetchStreams));var L,ge;l._firestoreClient=new yI(l._authCredentials,l._appCheckCredentials,l._queue,p),null!==(i=c.localCache)&&void 0!==i&&i._offlineComponentProvider&&null!==(s=c.localCache)&&void 0!==s&&s._onlineComponentProvider&&(l._firestoreClient._uninitializedComponentsProvider={_offlineKind:c.localCache.kind,_offline:c.localCache._offlineComponentProvider,_online:c.localCache._onlineComponentProvider})}function _g(l,n){Rf(l=li(l,so));const i=Mo(l);if(i._uninitializedComponentsProvider)throw new B(J.FAILED_PRECONDITION,"SDK cache is already specified.");wt("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=l._freezeSettings(),c=new wl;return md(i,c,new cd(c,s.cacheSizeBytes,null==n?void 0:n.forceOwnership))}function _u(l){Rf(l=li(l,so));const n=Mo(l);if(n._uninitializedComponentsProvider)throw new B(J.FAILED_PRECONDITION,"SDK cache is already specified.");wt("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=l._freezeSettings(),s=new wl;return md(n,s,new rh(s,i.cacheSizeBytes))}function md(l,n,i){const s=new R;return l.asyncQueue.enqueue((0,d.A)(function*(){try{yield hd(l,i),yield ug(l,n),s.resolve()}catch(c){const p=c;if(!Wm(p))throw p;wt("Error enabling indexeddb cache. Falling back to memory cache: "+p),s.reject(p)}})).then(()=>s.promise)}function rv(l){if(l._initialized&&!l._terminated)throw new B(J.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const n=new R;return l._queue.enqueueAndForgetEvenWhileRestricted((0,d.A)(function*(){try{yield(i=(0,d.A)(function*(c){if(!Mr.D())return Promise.resolve();const p=c+"main";yield Mr.delete(p)}),function s(c){return i.apply(this,arguments)})(pc(l._databaseId,l._persistenceKey)),n.resolve()}catch(i){n.reject(i)}var i})),n.promise}function iv(l){return function(i){const s=new R;return i.asyncQueue.enqueueAndForget((0,d.A)(function*(){return function Bm(l,n){return hf.apply(this,arguments)}(yield ah(i),s)})),s.promise}(Mo(l=li(l,so)))}function ov(l){return function uh(l){return l.asyncQueue.enqueue((0,d.A)(function*(){const n=yield Gm(l),i=yield hg(l);return n.setNetworkEnabled(!0),function(c){const p=$e(c);return p.M_.delete(0),Tl(p)}(i)}))}(Mo(l=li(l,so)))}function TI(l){return function fy(l){return l.asyncQueue.enqueue((0,d.A)(function*(){const n=yield Gm(l),i=yield hg(l);return n.setNetworkEnabled(!1),(s=(0,d.A)(function*(p){const _=$e(p);_.M_.add(0),yield zl(_),_.N_.set("Offline")}),function c(p){return s.apply(this,arguments)})(i);var s}))}(Mo(l=li(l,so)))}function DI(l,n){const i=Mo(l=li(l,so)),s=new EI;return function bf(l,n,i,s){const c=function(_,w){let L;return L="string"==typeof _?br().encode(_):_,ge=function(ge,Fe){if(ge instanceof Uint8Array)return dd(ge,void 0);if(ge instanceof ArrayBuffer)return dd(new Uint8Array(ge),void 0);if(ge instanceof ReadableStream)return ge.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(L),new lg(ge,w);var ge}(i,_t(n));l.asyncQueue.enqueueAndForget((0,d.A)(function*(){!function ag(l,n,i){const s=$e(l);var c;(c=(0,d.A)(function*(_,w,L){try{const X=yield w.getMetadata();if(yield function(fn,xn){const Cn=$e(fn),cr=Jr(xn.createTime);return Cn.persistence.runTransaction("hasNewerBundle","readonly",Cr=>Cn.$r.getBundleMetadata(Cr,xn.id)).then(Cr=>!!Cr&&Cr.createTime.compareTo(cr)>=0)}(_.localStore,X))return yield w.close(),L._completeWith({taskState:"Success",documentsLoaded:(fn=X).totalDocuments,bytesLoaded:fn.totalBytes,totalDocuments:fn.totalDocuments,totalBytes:fn.totalBytes}),Promise.resolve(new Set);L._updateProgress(nh(X));const ge=new sf(X,_.localStore,w.serializer);let Fe=yield w.qa();for(;Fe;){const Ht=yield ge._a(Fe);Ht&&L._updateProgress(Ht),Fe=yield w.qa()}const ut=yield ge.complete();return yield Bu(_,ut.ca,void 0),yield function(fn,xn){const Cn=$e(fn);return Cn.persistence.runTransaction("Save bundle","readwrite",cr=>Cn.$r.saveBundleMetadata(cr,xn))}(_.localStore,X),L._completeWith(ut.progress),Promise.resolve(ut.ua)}catch(X){return wt("SyncEngine",`Loading bundle failed with ${X}`),L._failWith(X),Promise.resolve(new Set)}var fn}),function p(_,w,L){return c.apply(this,arguments)})(s,n,i).then(c=>{s.sharedClientState.notifyBundleLoaded(c)})}(yield ah(l),c,s)}))}(i,l._databaseId,n,s),s}function yg(l,n){return function Xm(l,n){return l.asyncQueue.enqueue((0,d.A)(function*(){return function(s,c){const p=$e(s);return p.persistence.runTransaction("Get named query","readonly",_=>p.$r.getNamedQuery(_,c))}(yield Gl(l),n)}))}(Mo(l=li(l,so)),n).then(i=>i?new Bs(l,null,i.query):null)}function Rf(l){if(l._initialized||l._terminated)throw new B(J.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class yu{constructor(n){this._byteString=n}static fromBase64String(n){try{return new yu(Li.fromBase64String(n))}catch(i){throw new B(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(n){return new yu(Li.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class Wu{constructor(...n){for(let i=0;i<n.length;++i)if(0===n[i].length)throw new B(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class Dc{constructor(n){this._methodName=n}}class Mf{constructor(n,i){if(!isFinite(n)||n<-90||n>90)throw new B(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(i)||i<-180||i>180)throw new B(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=n,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return Jt(this._lat,n._lat)||Jt(this._long,n._long)}}const yy=/^__.*__$/;class sv{constructor(n,i,s){this.data=n,this.fieldMask=i,this.fieldTransforms=s}toMutation(n,i){return null!==this.fieldMask?new $o(n,this.data,this.fieldMask,i,this.fieldTransforms):new Ts(n,this.data,i,this.fieldTransforms)}}class Ig{constructor(n,i,s){this.data=n,this.fieldMask=i,this.fieldTransforms=s}toMutation(n,i){return new $o(n,this.data,this.fieldMask,i,this.fieldTransforms)}}function av(l){switch(l){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw zt()}}class xf{constructor(n,i,s,c,p,_){this.settings=n,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=c,void 0===p&&this.mu(),this.fieldTransforms=p||[],this.fieldMask=_||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(n){return new xf(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(n){var i;const s=null===(i=this.path)||void 0===i?void 0:i.child(n),c=this.gu({path:s,yu:!1});return c.wu(n),c}Su(n){var i;const s=null===(i=this.path)||void 0===i?void 0:i.child(n),c=this.gu({path:s,yu:!1});return c.mu(),c}bu(n){return this.gu({path:void 0,yu:!0})}Du(n){return Vf(n,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(n){return void 0!==this.fieldMask.find(i=>n.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>n.isPrefixOf(i.field))}mu(){if(this.path)for(let n=0;n<this.path.length;n++)this.wu(this.path.get(n))}wu(n){if(0===n.length)throw this.Du("Document fields must not be empty");if(av(this.fu)&&yy.test(n))throw this.Du('Document fields cannot begin and end with "__"')}}class lv{constructor(n,i,s){this.databaseId=n,this.ignoreUndefinedProperties=i,this.serializer=s||_t(n)}Fu(n,i,s,c=!1){return new xf({fu:n,methodName:i,vu:s,path:rn.emptyPath(),yu:!1,Cu:c},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ql(l){const n=l._freezeSettings(),i=_t(l._databaseId);return new lv(l._databaseId,!!n.ignoreUndefinedProperties,i)}function Nf(l,n,i,s,c,p={}){const _=l.Fu(p.merge||p.mergeFields?2:0,n,i,c);hv("Data must be an object, but it was:",_,s);const w=dv(s,_);let L,X;if(p.merge)L=new Qr(_.fieldMask),X=_.fieldTransforms;else if(p.mergeFields){const ge=[];for(const Fe of p.mergeFields){const ut=Ff(n,Fe,i);if(!_.contains(ut))throw new B(J.INVALID_ARGUMENT,`Field '${ut}' is specified in your field mask but missing from your input data.`);fv(ge,ut)||ge.push(ut)}L=new Qr(ge),X=_.fieldTransforms.filter(Fe=>L.covers(Fe.field))}else L=null,X=_.fieldTransforms;return new sv(new Zt(w),L,X)}class bc extends Dc{_toFieldTransform(n){if(2!==n.fu)throw n.Du(1===n.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof bc}}function uv(l,n,i){return new xf({fu:3,vu:n.settings.vu,methodName:l._methodName,yu:i},n.databaseId,n.serializer,n.ignoreUndefinedProperties)}class Gu extends Dc{_toFieldTransform(n){return new ya(n.path,new Cs)}isEqual(n){return n instanceof Gu}}class Eg extends Dc{constructor(n,i){super(n),this.Mu=i}_toFieldTransform(n){const i=uv(this,n,!0),s=this.Mu.map(p=>wc(p,i)),c=new ua(s);return new ya(n.path,c)}isEqual(n){return n instanceof Eg&&(0,de.bD)(this.Mu,n.Mu)}}class Ag extends Dc{constructor(n,i){super(n),this.Mu=i}_toFieldTransform(n){const i=uv(this,n,!0),s=this.Mu.map(p=>wc(p,i)),c=new Os(s);return new ya(n.path,c)}isEqual(n){return n instanceof Ag&&(0,de.bD)(this.Mu,n.Mu)}}class Of extends Dc{constructor(n,i){super(n),this.xu=i}_toFieldTransform(n){const i=new _a(n.serializer,rl(n.serializer,this.xu));return new ya(n.path,i)}isEqual(n){return n instanceof Of&&this.xu===n.xu}}function kf(l,n,i,s){const c=l.Fu(1,n,i);hv("Data must be an object, but it was:",c,s);const p=[],_=Zt.empty();Ki(s,(L,X)=>{const ge=Lf(n,L,i);X=(0,de.Ku)(X);const Fe=c.Su(ge);if(X instanceof bc)p.push(ge);else{const ut=wc(X,Fe);null!=ut&&(p.push(ge),_.set(ge,ut))}});const w=new Qr(p);return new Ig(_,w,c.fieldTransforms)}function Cg(l,n,i,s,c,p){const _=l.Fu(1,n,i),w=[Ff(n,s,i)],L=[c];if(p.length%2!=0)throw new B(J.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ut=0;ut<p.length;ut+=2)w.push(Ff(n,p[ut])),L.push(p[ut+1]);const X=[],ge=Zt.empty();for(let ut=w.length-1;ut>=0;--ut)if(!fv(X,w[ut])){const Ht=w[ut];let fn=L[ut];fn=(0,de.Ku)(fn);const xn=_.Su(Ht);if(fn instanceof bc)X.push(Ht);else{const Cn=wc(fn,xn);null!=Cn&&(X.push(Ht),ge.set(Ht,Cn))}}const Fe=new Qr(X);return new Ig(ge,Fe,_.fieldTransforms)}function cv(l,n,i,s=!1){return wc(i,l.Fu(s?4:3,n))}function wc(l,n){if(Tg(l=(0,de.Ku)(l)))return hv("Unsupported field value:",n,l),dv(l,n);if(l instanceof Dc)return function(s,c){if(!av(c.fu))throw c.Du(`${s._methodName}() can only be used with update() and set()`);if(!c.path)throw c.Du(`${s._methodName}() is not currently supported inside arrays`);const p=s._toFieldTransform(c);p&&c.fieldTransforms.push(p)}(l,n),null;if(void 0===l&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),l instanceof Array){if(n.settings.yu&&4!==n.fu)throw n.Du("Nested arrays are not supported");return function(s,c){const p=[];let _=0;for(const w of s){let L=wc(w,c.bu(_));null==L&&(L={nullValue:"NULL_VALUE"}),p.push(L),_++}return{arrayValue:{values:p}}}(l,n)}return function(s,c){if(null===(s=(0,de.Ku)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return rl(c.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const p=bn.fromDate(s);return{timestampValue:Ls(c.serializer,p)}}if(s instanceof bn){const p=new bn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ls(c.serializer,p)}}if(s instanceof Mf)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof yu)return{bytesValue:Na(c.serializer,s._byteString)};if(s instanceof Zo){const p=c.databaseId,_=s.firestore._databaseId;if(!_.isEqual(p))throw c.Du(`Document reference is for database ${_.projectId}/${_.database} but should be for database ${p.projectId}/${p.database}`);return{referenceValue:ca(s.firestore._databaseId||c.databaseId,s._key.path)}}throw c.Du(`Unsupported field value: ${fd(s)}`)}(l,n)}function dv(l,n){const i={};return jr(l)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):Ki(l,(s,c)=>{const p=wc(c,n.pu(s));null!=p&&(i[s]=p)}),{mapValue:{fields:i}}}function Tg(l){return!("object"!=typeof l||null===l||l instanceof Array||l instanceof Date||l instanceof bn||l instanceof Mf||l instanceof yu||l instanceof Zo||l instanceof Dc)}function hv(l,n,i){if(!Tg(i)||"object"!=typeof(c=i)||null===c||Object.getPrototypeOf(c)!==Object.prototype&&null!==Object.getPrototypeOf(c)){const s=fd(i);throw n.Du("an object"===s?l+" a custom object":l+" "+s)}var c}function Ff(l,n,i){if((n=(0,de.Ku)(n))instanceof Wu)return n._internalPath;if("string"==typeof n)return Lf(l,n);throw Vf("Field path arguments must be of type string or ",l,!1,void 0,i)}const dh=new RegExp("[~\\*/\\[\\]]");function Lf(l,n,i){if(n.search(dh)>=0)throw Vf(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,l,!1,void 0,i);try{return new Wu(...n.split("."))._internalPath}catch{throw Vf(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,l,!1,void 0,i)}}function Vf(l,n,i,s,c){const p=s&&!s.isEmpty(),_=void 0!==c;let w=`Function ${n}() called with invalid data`;i&&(w+=" (via `toFirestore()`)"),w+=". ";let L="";return(p||_)&&(L+=" (found",p&&(L+=` in field ${s}`),_&&(L+=` in document ${c}`),L+=")"),new B(J.INVALID_ARGUMENT,w+l+L)}function fv(l,n){return l.some(i=>i.isEqual(n))}class vd{constructor(n,i,s,c,p){this._firestore=n,this._userDataWriter=i,this._key=s,this._document=c,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new Zo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new Iy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const i=this._document.data.field(Uf("DocumentSnapshot.get",n));if(null!==i)return this._userDataWriter.convertValue(i)}}}class Iy extends vd{data(){return super.data()}}function Uf(l,n){return"string"==typeof n?Lf(l,n):n instanceof Wu?n._internalPath:n._delegate._internalPath}function pv(l){if("L"===l.limitType&&0===l.explicitOrderBy.length)throw new B(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dg{}class hh extends Dg{}function Ey(l,n,...i){let s=[];n instanceof Dg&&s.push(n),s=s.concat(i),function(p){const _=p.filter(L=>L instanceof fh).length,w=p.filter(L=>L instanceof Sc).length;if(_>1||_>0&&w>0)throw new B(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const c of s)l=c._apply(l);return l}class Sc extends hh{constructor(n,i,s){super(),this._field=n,this._op=i,this._value=s,this.type="where"}static _create(n,i,s){return new Sc(n,i,s)}_apply(n){const i=this._parse(n);return wa(n._query,i),new Bs(n.firestore,n.converter,be(n._query,i))}_parse(n){const i=ql(n.firestore);return function(p,_,w,L,X,ge,Fe){let ut;if(X.isKeyField()){if("array-contains"===ge||"array-contains-any"===ge)throw new B(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ge}' queries on documentId().`);if("in"===ge||"not-in"===ge){Pc(Fe,ge);const Ht=[];for(const fn of Fe)Ht.push(Sg(L,p,fn));ut={arrayValue:{values:Ht}}}else ut=Sg(L,p,Fe)}else"in"!==ge&&"not-in"!==ge&&"array-contains-any"!==ge||Pc(Fe,ge),ut=cv(w,"where",Fe,"in"===ge||"not-in"===ge);return er.create(X,ge,ut)}(n._query,0,i,n.firestore._databaseId,this._field,this._op,this._value)}}function SI(l,n,i){const s=n,c=Uf("where",l);return Sc._create(c,s,i)}class fh extends Dg{constructor(n,i){super(),this.type=n,this._queryConstraints=i}static _create(n,i){return new fh(n,i)}_parse(n){const i=this._queryConstraints.map(s=>s._parse(n)).filter(s=>s.getFilters().length>0);return 1===i.length?i[0]:pr.create(i,this._getOperator())}_apply(n){const i=this._parse(n);return 0===i.getFilters().length?n:(function(c,p){let _=c;const w=p.getFlattenedFilters();for(const L of w)wa(_,L),_=be(_,L)}(n._query,i),new Bs(n.firestore,n.converter,be(n._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class mv extends hh{constructor(n,i){super(),this._field=n,this._direction=i,this.type="orderBy"}static _create(n,i){return new mv(n,i)}_apply(n){const i=function(c,p,_){if(null!==c.startAt)throw new B(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==c.endAt)throw new B(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vr(p,_)}(n._query,this._field,this._direction);return new Bs(n.firestore,n.converter,function(c,p){const _=c.explicitOrderBy.concat([p]);return new yo(c.path,c.collectionGroup,_,c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n._query,i))}}function RI(l,n="asc"){const i=n,s=Uf("orderBy",l);return mv._create(s,i)}class bg extends hh{constructor(n,i,s){super(),this.type=n,this._limit=i,this._limitType=s}static _create(n,i,s){return new bg(n,i,s)}_apply(n){return new Bs(n.firestore,n.converter,sn(n._query,this._limit,this._limitType))}}function PI(l){return mg("limit",l),bg._create("limit",l,"F")}function Ay(l){return mg("limitToLast",l),bg._create("limitToLast",l,"L")}class Rc extends hh{constructor(n,i,s){super(),this.type=n,this._docOrFields=i,this._inclusive=s}static _create(n,i,s){return new Rc(n,i,s)}_apply(n){const i=_v(n,this.type,this._docOrFields,this._inclusive);return new Bs(n.firestore,n.converter,(p=i,new yo((c=n._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,p,c.endAt)));var c,p}}function $f(...l){return Rc._create("startAt",l,!0)}function wg(...l){return Rc._create("startAfter",l,!1)}class ph extends hh{constructor(n,i,s){super(),this.type=n,this._docOrFields=i,this._inclusive=s}static _create(n,i,s){return new ph(n,i,s)}_apply(n){const i=_v(n,this.type,this._docOrFields,this._inclusive);return new Bs(n.firestore,n.converter,(p=i,new yo((c=n._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,p)));var c,p}}function vv(...l){return ph._create("endBefore",l,!1)}function Cy(...l){return ph._create("endAt",l,!0)}function _v(l,n,i,s){if(i[0]=(0,de.Ku)(i[0]),i[0]instanceof vd)return function(p,_,w,L,X){if(!L)throw new B(J.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${w}().`);const ge=[];for(const Fe of G(p))if(Fe.field.isKeyField())ge.push(Ce(_,L.key));else{const ut=L.data.field(Fe.field);if(zr(ut))throw new B(J.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Fe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ut){const Ht=Fe.field.canonicalString();throw new B(J.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ht}' (used as the orderBy) does not exist.`)}ge.push(ut)}return new kn(ge,X)}(l._query,l.firestore._databaseId,n,i[0]._document,s);{const c=ql(l.firestore);return function(_,w,L,X,ge,Fe){const ut=_.explicitOrderBy;if(ge.length>ut.length)throw new B(J.INVALID_ARGUMENT,`Too many arguments provided to ${X}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ht=[];for(let fn=0;fn<ge.length;fn++){const xn=ge[fn];if(ut[fn].field.isKeyField()){if("string"!=typeof xn)throw new B(J.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${X}(), but got a ${typeof xn}`);if(!aa(_)&&-1!==xn.indexOf("/"))throw new B(J.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${X}() must be a plain document ID, but '${xn}' contains a slash.`);const Cn=_.path.child(pt.fromString(xn));if(!Qt.isDocumentKey(Cn))throw new B(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${X}() must result in a valid document path, but '${Cn}' is not because it contains an odd number of segments.`);const cr=new Qt(Cn);Ht.push(Ce(w,cr))}else{const Cn=cv(L,X,xn);Ht.push(Cn)}}return new kn(Ht,Fe)}(l._query,l.firestore._databaseId,c,n,i,s)}}function Sg(l,n,i){if("string"==typeof(i=(0,de.Ku)(i))){if(""===i)throw new B(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aa(n)&&-1!==i.indexOf("/"))throw new B(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=n.path.child(pt.fromString(i));if(!Qt.isDocumentKey(s))throw new B(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Ce(l,new Qt(s))}if(i instanceof Zo)return Ce(l,i._key);throw new B(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fd(i)}.`)}function Pc(l,n){if(!Array.isArray(l)||0===l.length)throw new B(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`)}function wa(l,n){const i=function(c,p){for(const _ of c)for(const w of _.getFlattenedFilters())if(p.indexOf(w.op)>=0)return w.op;return null}(l.filters,function(c){switch(c){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(n.op));if(null!==i)throw new B(J.INVALID_ARGUMENT,i===n.op?`Invalid query. You cannot use more than one '${n.op.toString()}' filter.`:`Invalid query. You cannot use '${n.op.toString()}' filters with '${i.toString()}' filters.`)}class Bf{convertValue(n,i="none"){switch(Go(n)){case 0:return null;case 1:return n.booleanValue;case 2:return vi(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,i);case 5:return n.stringValue;case 6:return this.convertBytes(Ur(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,i);case 10:return this.convertObject(n.mapValue,i);default:throw zt()}}convertObject(n,i){return this.convertObjectMap(n.fields,i)}convertObjectMap(n,i="none"){const s={};return Ki(n,(c,p)=>{s[c]=this.convertValue(p,i)}),s}convertGeoPoint(n){return new Mf(vi(n.latitude),vi(n.longitude))}convertArray(n,i){return(n.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(n,i){switch(i){case"previous":const s=lr(n);return null==s?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Vr(n));default:return null}}convertTimestamp(n){const i=Io(n);return new bn(i.seconds,i.nanos)}convertDocumentKey(n,i){const s=pt.fromString(n);It(rc(s));const c=new ar(s.get(1),s.get(3)),p=new Qt(s.popFirst(5));return c.isEqual(i)||Dt(`Document ${p} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),p}}function Rg(l,n,i){let s;return s=l?i&&(i.merge||i.mergeFields)?l.toFirestore(n,i):l.toFirestore(n):n,s}class Ty extends Bf{constructor(n){super(),this.firestore=n}convertBytes(n){return new yu(n)}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return new Zo(this.firestore,null,i)}}class Xl{constructor(n,i){this.hasPendingWrites=n,this.fromCache=i}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class Iu extends vd{constructor(n,i,s,c,p,_){super(n,i,s,c,_),this._firestore=n,this._firestoreImpl=n,this.metadata=p}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const i=new Mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,i={}){if(this._document){const s=this._document.data.field(Uf("DocumentSnapshot.get",n));if(null!==s)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class Mc extends Iu{data(n={}){return super.data(n)}}class xc{constructor(n,i,s,c){this._firestore=n,this._userDataWriter=i,this._snapshot=c,this.metadata=new Xl(c.hasPendingWrites,c.fromCache),this.query=s}get docs(){const n=[];return this.forEach(i=>n.push(i)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,i){this._snapshot.docs.forEach(s=>{n.call(i,new Mc(this._firestore,this._userDataWriter,s.key,s,new Xl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const i=!!n.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new B(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(c,p){if(c._snapshot.oldDocs.isEmpty()){let _=0;return c._snapshot.docChanges.map(w=>({type:"added",doc:new Mc(c._firestore,c._userDataWriter,w.doc.key,w.doc,new Xl(c._snapshot.mutatedKeys.has(w.doc.key),c._snapshot.fromCache),c.query.converter),oldIndex:-1,newIndex:_++}))}{let _=c._snapshot.oldDocs;return c._snapshot.docChanges.filter(w=>p||3!==w.type).map(w=>{const L=new Mc(c._firestore,c._userDataWriter,w.doc.key,w.doc,new Xl(c._snapshot.mutatedKeys.has(w.doc.key),c._snapshot.fromCache),c.query.converter);let X=-1,ge=-1;return 0!==w.type&&(X=_.indexOf(w.doc.key),_=_.delete(w.doc.key)),1!==w.type&&(_=_.add(w.doc),ge=_.indexOf(w.doc.key)),{type:_d(w.type),doc:L,oldIndex:X,newIndex:ge}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function _d(l){switch(l){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return zt()}}function Pg(l,n){return l instanceof Iu&&n instanceof Iu?l._firestore===n._firestore&&l._key.isEqual(n._key)&&(null===l._document?null===n._document:l._document.isEqual(n._document))&&l._converter===n._converter:l instanceof xc&&n instanceof xc&&l._firestore===n._firestore&&ev(l.query,n.query)&&l.metadata.isEqual(n.metadata)&&l._snapshot.isEqual(n._snapshot)}function Iv(l){l=li(l,Zo);const n=li(l.firestore,so);return Tf(Mo(n),l._key).then(i=>xg(n,l,i))}class Ql extends Bf{constructor(n){super(),this.firestore=n}convertBytes(n){return new yu(n)}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return new Zo(this.firestore,null,i)}}function jf(l){l=li(l,Zo);const n=li(l.firestore,so),i=Mo(n),s=new Ql(n);return function Cf(l,n){const i=new R;return l.asyncQueue.enqueueAndForget((0,d.A)(function*(){return(s=(0,d.A)(function*(p,_,w){try{const L=yield function(ge,Fe){const ut=$e(ge);return ut.persistence.runTransaction("read document","readonly",Ht=>ut.localDocuments.getDocument(Ht,Fe))}(p,_);L.isFoundDocument()?w.resolve(L):L.isNoDocument()?w.resolve(null):w.reject(new B(J.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(L){const X=Zd(L,`Failed to get document '${_} from cache`);w.reject(X)}}),function c(p,_,w){return s.apply(this,arguments)})(yield Gl(l),n,i);var s})),i.promise}(i,l._key).then(c=>new Iu(n,s,l._key,c,new Xl(null!==c&&c.hasLocalMutations,!0),l.converter))}function by(l){l=li(l,Zo);const n=li(l.firestore,so);return Tf(Mo(n),l._key,{source:"server"}).then(i=>xg(n,l,i))}function wy(l){l=li(l,Bs);const n=li(l.firestore,so),i=Mo(n),s=new Ql(n);return pv(l._query),fg(i,l._query).then(c=>new xc(n,s,l,c))}function Ev(l){l=li(l,Bs);const n=li(l.firestore,so),i=Mo(n),s=new Ql(n);return function py(l,n){const i=new R;return l.asyncQueue.enqueueAndForget((0,d.A)(function*(){return(s=(0,d.A)(function*(p,_,w){try{const L=yield gt(p,_,!0),X=new Nm(_,L.hs),ge=X.da(L.documents),Fe=X.applyChanges(ge,!1);w.resolve(Fe.snapshot)}catch(L){const X=Zd(L,`Failed to execute query '${_} against cache`);w.reject(X)}}),function c(p,_,w){return s.apply(this,arguments)})(yield Gl(l),n,i);var s})),i.promise}(i,l._query).then(c=>new xc(n,s,l,c))}function Sy(l){l=li(l,Bs);const n=li(l.firestore,so),i=Mo(n),s=new Ql(n);return fg(i,l._query,{source:"server"}).then(c=>new xc(n,s,l,c))}function Ry(l,n,i){l=li(l,Zo);const s=li(l.firestore,so),c=Rg(l.converter,n,i);return yd(s,[Nf(ql(s),"setDoc",l._key,c,null!==l.converter,i).toMutation(l._key,Ci.none())])}function Py(l,n,i,...s){l=li(l,Zo);const c=li(l.firestore,so),p=ql(c);let _;return _="string"==typeof(n=(0,de.Ku)(n))||n instanceof Wu?Cg(p,"updateDoc",l._key,n,i,s):kf(p,"updateDoc",l._key,n),yd(c,[_.toMutation(l._key,Ci.exists(!0))])}function Av(l){return yd(li(l.firestore,so),[new Js(l._key,Ci.none())])}function gh(l,n){const i=li(l.firestore,so),s=gd(l),c=Rg(l.converter,n);return yd(i,[Nf(ql(l.firestore),"addDoc",s._key,c,null!==l.converter,{}).toMutation(s._key,Ci.exists(!1))]).then(()=>s)}function zf(l,...n){var i,s,c;l=(0,de.Ku)(l);let p={includeMetadataChanges:!1,source:"default"},_=0;"object"!=typeof n[_]||tv(n[_])||(p=n[_],_++);const w={includeMetadataChanges:p.includeMetadataChanges,source:p.source};if(tv(n[_])){const Fe=n[_];n[_]=null===(i=Fe.next)||void 0===i?void 0:i.bind(Fe),n[_+1]=null===(s=Fe.error)||void 0===s?void 0:s.bind(Fe),n[_+2]=null===(c=Fe.complete)||void 0===c?void 0:c.bind(Fe)}let L,X,ge;if(l instanceof Zo)X=li(l.firestore,so),ge=Pi(l._key.path),L={next:Fe=>{n[_]&&n[_](xg(X,l,Fe))},error:n[_+1],complete:n[_+2]};else{const Fe=li(l,Bs);X=li(Fe.firestore,so),ge=Fe._query;const ut=new Ql(X);L={next:Ht=>{n[_]&&n[_](new xc(X,ut,Fe,Ht))},error:n[_+1],complete:n[_+2]},pv(l._query)}return function(ut,Ht,fn,xn){const Cn=new vu(xn),cr=new Gp(Ht,Cn,fn);return ut.asyncQueue.enqueueAndForget((0,d.A)(function*(){return $u(yield lh(ut),cr)})),()=>{Cn.$a(),ut.asyncQueue.enqueueAndForget((0,d.A)(function*(){return rf(yield lh(ut),cr)}))}}(Mo(X),ge,w,L)}function Mg(l,n){return function Df(l,n){const i=new vu(n);return l.asyncQueue.enqueueAndForget((0,d.A)(function*(){return c=yield lh(l),p=i,$e(c).z_.add(p),void p.next();var c,p})),()=>{i.$a(),l.asyncQueue.enqueueAndForget((0,d.A)(function*(){return c=yield lh(l),p=i,void $e(c).z_.delete(p);var c,p}))}}(Mo(l=li(l,so)),tv(n)?n:{next:n})}function yd(l,n){return function(s,c){const p=new R;return s.asyncQueue.enqueueAndForget((0,d.A)(function*(){return function Lm(l,n,i){return Yp.apply(this,arguments)}(yield ah(s),c,p)})),p.promise}(Mo(l),n)}function xg(l,n,i){const s=i.docs.get(n._key),c=new Ql(l);return new Iu(l,c,n._key,s,new Xl(i.hasPendingWrites,i.fromCache),n.converter)}const Hf={maxAttempts:5};class Id{constructor(n,i){this._firestore=n,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=ql(n)}set(n,i,s){this._verifyNotCommitted();const c=Eu(n,this._firestore),p=Rg(c.converter,i,s),_=Nf(this._dataReader,"WriteBatch.set",c._key,p,null!==c.converter,s);return this._mutations.push(_.toMutation(c._key,Ci.none())),this}update(n,i,s,...c){this._verifyNotCommitted();const p=Eu(n,this._firestore);let _;return _="string"==typeof(i=(0,de.Ku)(i))||i instanceof Wu?Cg(this._dataReader,"WriteBatch.update",p._key,i,s,c):kf(this._dataReader,"WriteBatch.update",p._key,i),this._mutations.push(_.toMutation(p._key,Ci.exists(!0))),this}delete(n){this._verifyNotCommitted();const i=Eu(n,this._firestore);return this._mutations=this._mutations.concat(new Js(i._key,Ci.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new B(J.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Eu(l,n){if((l=(0,de.Ku)(l)).firestore!==n)throw new B(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return l}class kg extends class{constructor(i,s){this._firestore=i,this._transaction=s,this._dataReader=ql(i)}get(i){const s=Eu(i,this._firestore),c=new Ty(this._firestore);return this._transaction.lookup([s._key]).then(p=>{if(!p||1!==p.length)return zt();const _=p[0];if(_.isFoundDocument())return new vd(this._firestore,c,_.key,_,s.converter);if(_.isNoDocument())return new vd(this._firestore,c,s._key,null,s.converter);throw zt()})}set(i,s,c){const p=Eu(i,this._firestore),_=Rg(p.converter,s,c),w=Nf(this._dataReader,"Transaction.set",p._key,_,null!==p.converter,c);return this._transaction.set(p._key,w),this}update(i,s,c,...p){const _=Eu(i,this._firestore);let w;return w="string"==typeof(s=(0,de.Ku)(s))||s instanceof Wu?Cg(this._dataReader,"Transaction.update",_._key,s,c,p):kf(this._dataReader,"Transaction.update",_._key,s),this._transaction.update(_._key,w),this}delete(i){const s=Eu(i,this._firestore);return this._transaction.delete(s._key),this}}{constructor(n,i){super(n,i),this._firestore=n}get(n){const i=Eu(n,this._firestore),s=new Ql(this._firestore);return super.get(n).then(c=>new Iu(this._firestore,s,i._key,c._document,new Xl(!1,!1),i.converter))}}function mh(l,n,i){l=li(l,so);const s=Object.assign(Object.assign({},Hf),i);return function(p){if(p.maxAttempts<1)throw new B(J.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(p,_,w){const L=new R;return p.asyncQueue.enqueueAndForget((0,d.A)(function*(){const X=yield function Km(l){return sh(l).then(n=>n.datastore)}(p);new ih(p.asyncQueue,X,w,_,L).Xa()})),L.promise}(Mo(l),c=>n(new kg(l,c)),s)}function Rv(){return new bc("deleteField")}function Fg(){return new Gu("serverTimestamp")}function Wf(...l){return new Eg("arrayUnion",l)}function Oy(...l){return new Ag("arrayRemove",l)}function Pv(l){return new Of("increment",l)}!function(n,i=!0){Ge=u.SDK_VERSION,(0,u._registerComponent)(new N.uA("firestore",(s,{instanceIdentifier:c,options:p})=>{const _=s.getProvider("app").getImmediate(),w=new so(new it(s.getProvider("auth-internal")),new ft(s.getProvider("app-check-internal")),function(X,ge){if(!Object.prototype.hasOwnProperty.apply(X.options,["projectId"]))throw new B(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ar(X.options.projectId,ge)}(_,c),_);return p=Object.assign({useFetchStreams:i},p),w._setSettings(p),w},"PUBLIC").setMultipleInstances(!0)),(0,u.registerVersion)(et,"4.6.3",n),(0,u.registerVersion)(et,"4.6.3","esm2017")}()},1076:(Dn,At,O)=>{"use strict";O.d(At,{Am:()=>Qt,Bd:()=>Dt,FA:()=>it,Fy:()=>ze,I9:()=>or,Im:()=>nn,Ku:()=>ot,Ll:()=>te,T9:()=>et,Tj:()=>Tt,Uj:()=>Qe,XA:()=>we,ZQ:()=>dt,bD:()=>pt,cY:()=>Ge,eX:()=>R,g:()=>Ve,gR:()=>Jn,hp:()=>Wn,jZ:()=>St,lT:()=>It,lV:()=>an,nr:()=>J,sr:()=>wt,tD:()=>hn,u:()=>Pe,yU:()=>tt,zW:()=>B,zw:()=>qe});const Te=function(fe){const ye=[];let se=0;for(let pe=0;pe<fe.length;pe++){let ie=fe.charCodeAt(pe);ie<128?ye[se++]=ie:ie<2048?(ye[se++]=ie>>6|192,ye[se++]=63&ie|128):55296==(64512&ie)&&pe+1<fe.length&&56320==(64512&fe.charCodeAt(pe+1))?(ie=65536+((1023&ie)<<10)+(1023&fe.charCodeAt(++pe)),ye[se++]=ie>>18|240,ye[se++]=ie>>12&63|128,ye[se++]=ie>>6&63|128,ye[se++]=63&ie|128):(ye[se++]=ie>>12|224,ye[se++]=ie>>6&63|128,ye[se++]=63&ie|128)}return ye},Be={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(fe,ye){if(!Array.isArray(fe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const se=ye?this.byteToCharMapWebSafe_:this.byteToCharMap_,pe=[];for(let ie=0;ie<fe.length;ie+=3){const lt=fe[ie],qt=ie+1<fe.length,yn=qt?fe[ie+1]:0,Nn=ie+2<fe.length,dr=Nn?fe[ie+2]:0;let Mn=(15&yn)<<2|dr>>6,nr=63&dr;Nn||(nr=64,qt||(Mn=64)),pe.push(se[lt>>2],se[(3&lt)<<4|yn>>4],se[Mn],se[nr])}return pe.join("")},encodeString(fe,ye){return this.HAS_NATIVE_SUPPORT&&!ye?btoa(fe):this.encodeByteArray(Te(fe),ye)},decodeString(fe,ye){return this.HAS_NATIVE_SUPPORT&&!ye?atob(fe):function(fe){const ye=[];let se=0,pe=0;for(;se<fe.length;){const ie=fe[se++];if(ie<128)ye[pe++]=String.fromCharCode(ie);else if(ie>191&&ie<224){const lt=fe[se++];ye[pe++]=String.fromCharCode((31&ie)<<6|63&lt)}else if(ie>239&&ie<365){const Nn=((7&ie)<<18|(63&fe[se++])<<12|(63&fe[se++])<<6|63&fe[se++])-65536;ye[pe++]=String.fromCharCode(55296+(Nn>>10)),ye[pe++]=String.fromCharCode(56320+(1023&Nn))}else{const lt=fe[se++],qt=fe[se++];ye[pe++]=String.fromCharCode((15&ie)<<12|(63&lt)<<6|63&qt)}}return ye.join("")}(this.decodeStringToByteArray(fe,ye))},decodeStringToByteArray(fe,ye){this.init_();const se=ye?this.charToByteMapWebSafe_:this.charToByteMap_,pe=[];for(let ie=0;ie<fe.length;){const lt=se[fe.charAt(ie++)],yn=ie<fe.length?se[fe.charAt(ie)]:0;++ie;const dr=ie<fe.length?se[fe.charAt(ie)]:64;++ie;const On=ie<fe.length?se[fe.charAt(ie)]:64;if(++ie,null==lt||null==yn||null==dr||null==On)throw new ce;pe.push(lt<<2|yn>>4),64!==dr&&(pe.push(yn<<4&240|dr>>2),64!==On&&pe.push(dr<<6&192|On))}return pe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let fe=0;fe<this.ENCODED_VALS.length;fe++)this.byteToCharMap_[fe]=this.ENCODED_VALS.charAt(fe),this.charToByteMap_[this.byteToCharMap_[fe]]=fe,this.byteToCharMapWebSafe_[fe]=this.ENCODED_VALS_WEBSAFE.charAt(fe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[fe]]=fe,fe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(fe)]=fe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(fe)]=fe)}}};class ce extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Qe=function(fe){return function(fe){const ye=Te(fe);return Be.encodeByteArray(ye,!0)}(fe).replace(/\./g,"")},Pe=function(fe){try{return Be.decodeString(fe,!0)}catch(ye){console.error("base64Decode failed: ",ye)}return null};function qe(fe,ye){if(!(ye instanceof Object))return ye;switch(ye.constructor){case Date:return new Date(ye.getTime());case Object:void 0===fe&&(fe={});break;case Array:fe=[];break;default:return ye}for(const se in ye)!ye.hasOwnProperty(se)||!Ke(se)||(fe[se]=qe(fe[se],ye[se]));return fe}function Ke(fe){return"__proto__"!==fe}const nt=()=>{try{return function We(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const fe=process.env.__FIREBASE_DEFAULTS__;return fe?JSON.parse(fe):void 0})()||(()=>{if(typeof document>"u")return;let fe;try{fe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ye=fe&&Pe(fe[1]);return ye&&JSON.parse(ye)})()}catch(fe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${fe}`)}},Tt=fe=>{var ye,se;return null===(se=null===(ye=nt())||void 0===ye?void 0:ye.emulatorHosts)||void 0===se?void 0:se[fe]},tt=fe=>{const ye=Tt(fe);if(!ye)return;const se=ye.lastIndexOf(":");if(se<=0||se+1===ye.length)throw new Error(`Invalid host ${ye} with no separate hostname and port!`);const pe=parseInt(ye.substring(se+1),10);return"["===ye[0]?[ye.substring(1,se-1),pe]:[ye.substring(0,se),pe]},et=()=>{var fe;return null===(fe=nt())||void 0===fe?void 0:fe.config},we=fe=>{var ye;return null===(ye=nt())||void 0===ye?void 0:ye[`_${fe}`]};class Ge{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ye,se)=>{this.resolve=ye,this.reject=se})}wrapCallback(ye){return(se,pe)=>{se?this.reject(se):this.resolve(pe),"function"==typeof ye&&(this.promise.catch(()=>{}),1===ye.length?ye(se):ye(se,pe))}}}function ze(fe,ye){if(fe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const pe=ye||"demo-project",ie=fe.iat||0,lt=fe.sub||fe.user_id;if(!lt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const qt=Object.assign({iss:`https://securetoken.google.com/${pe}`,aud:pe,iat:ie,exp:ie+3600,auth_time:ie,sub:lt,user_id:lt,firebase:{sign_in_provider:"custom",identities:{}}},fe);return[Qe(JSON.stringify({alg:"none",type:"JWT"})),Qe(JSON.stringify(qt)),""].join(".")}function dt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function St(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function te(){var fe;const ye=null===(fe=nt())||void 0===fe?void 0:fe.forceEnvironment;if("node"===ye)return!0;if("browser"===ye)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Dt(){return"object"==typeof self&&self.self===self}function wt(){const fe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof fe&&void 0!==fe.id}function an(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function It(){const fe=dt();return fe.indexOf("MSIE ")>=0||fe.indexOf("Trident/")>=0}function J(){return!te()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function B(){try{return"object"==typeof indexedDB}catch{return!1}}function R(){return new Promise((fe,ye)=>{try{let se=!0;const pe="validate-browser-context-for-indexeddb-analytics-module",ie=self.indexedDB.open(pe);ie.onsuccess=()=>{ie.result.close(),se||self.indexedDB.deleteDatabase(pe),fe(!0)},ie.onupgradeneeded=()=>{se=!1},ie.onerror=()=>{var lt;ye((null===(lt=ie.error)||void 0===lt?void 0:lt.message)||"")}}catch(se){ye(se)}})}class Ve extends Error{constructor(ye,se,pe){super(se),this.code=ye,this.customData=pe,this.name="FirebaseError",Object.setPrototypeOf(this,Ve.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,it.prototype.create)}}class it{constructor(ye,se,pe){this.service=ye,this.serviceName=se,this.errors=pe}create(ye,...se){const pe=se[0]||{},ie=`${this.service}/${ye}`,lt=this.errors[ye],qt=lt?function Me(fe,ye){return fe.replace(Xe,(se,pe)=>{const ie=ye[pe];return null!=ie?String(ie):`<${pe}?>`})}(lt,pe):"Error";return new Ve(ie,`${this.serviceName}: ${qt} (${ie}).`,pe)}}const Xe=/\{\$([^}]+)}/g;function Jn(fe,ye){return Object.prototype.hasOwnProperty.call(fe,ye)}function nn(fe){for(const ye in fe)if(Object.prototype.hasOwnProperty.call(fe,ye))return!1;return!0}function pt(fe,ye){if(fe===ye)return!0;const se=Object.keys(fe),pe=Object.keys(ye);for(const ie of se){if(!pe.includes(ie))return!1;const lt=fe[ie],qt=ye[ie];if(Ft(lt)&&Ft(qt)){if(!pt(lt,qt))return!1}else if(lt!==qt)return!1}for(const ie of pe)if(!se.includes(ie))return!1;return!0}function Ft(fe){return null!==fe&&"object"==typeof fe}function Qt(fe){const ye=[];for(const[se,pe]of Object.entries(fe))Array.isArray(pe)?pe.forEach(ie=>{ye.push(encodeURIComponent(se)+"="+encodeURIComponent(ie))}):ye.push(encodeURIComponent(se)+"="+encodeURIComponent(pe));return ye.length?"&"+ye.join("&"):""}function or(fe){const ye={};return fe.replace(/^\?/,"").split("&").forEach(pe=>{if(pe){const[ie,lt]=pe.split("=");ye[decodeURIComponent(ie)]=decodeURIComponent(lt)}}),ye}function Wn(fe){const ye=fe.indexOf("?");if(!ye)return"";const se=fe.indexOf("#",ye);return fe.substring(ye,se>0?se:void 0)}function hn(fe,ye){const se=new Un(fe,ye);return se.subscribe.bind(se)}class Un{constructor(ye,se){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=se,this.task.then(()=>{ye(this)}).catch(pe=>{this.error(pe)})}next(ye){this.forEachObserver(se=>{se.next(ye)})}error(ye){this.forEachObserver(se=>{se.error(ye)}),this.close(ye)}complete(){this.forEachObserver(ye=>{ye.complete()}),this.close()}subscribe(ye,se,pe){let ie;if(void 0===ye&&void 0===se&&void 0===pe)throw new Error("Missing Observer.");ie=function ur(fe,ye){if("object"!=typeof fe||null===fe)return!1;for(const se of ye)if(se in fe&&"function"==typeof fe[se])return!0;return!1}(ye,["next","error","complete"])?ye:{next:ye,error:se,complete:pe},void 0===ie.next&&(ie.next=Br),void 0===ie.error&&(ie.error=Br),void 0===ie.complete&&(ie.complete=Br);const lt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ie.error(this.finalError):ie.complete()}catch{}}),this.observers.push(ie),lt}unsubscribeOne(ye){void 0===this.observers||void 0===this.observers[ye]||(delete this.observers[ye],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ye){if(!this.finalized)for(let se=0;se<this.observers.length;se++)this.sendOne(se,ye)}sendOne(ye,se){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ye])try{se(this.observers[ye])}catch(pe){typeof console<"u"&&console.error&&console.error(pe)}})}close(ye){this.finalized||(this.finalized=!0,void 0!==ye&&(this.finalError=ye),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Br(){}function ot(fe){return fe&&fe._delegate?fe._delegate:fe}},4442:(Dn,At,O)=>{"use strict";O.d(At,{L:()=>de,a:()=>Be,b:()=>ce,c:()=>xe,d:()=>Qe,g:()=>$e}),O(5531);const de="ionViewWillEnter",Be="ionViewDidEnter",ce="ionViewWillLeave",xe="ionViewDidLeave",Qe="ionViewWillUnload",$e=J=>J.classList.contains("ion-page")?J:J.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||J},5531:(Dn,At,O)=>{"use strict";O.d(At,{a:()=>Pe,c:()=>u,g:()=>Qe});class d{constructor(){this.m=new Map}reset(J){this.m=new Map(Object.entries(J))}get(J,B){const R=this.m.get(J);return void 0!==R?R:B}getBoolean(J,B=!1){const R=this.m.get(J);return void 0===R?B:"string"==typeof R?"true"===R:!!R}getNumber(J,B){const R=parseFloat(this.m.get(J));return isNaN(R)?void 0!==B?B:NaN:R}set(J,B){this.m.set(J,B)}}const u=new d,Qe=$e=>ve($e),Pe=($e,J)=>("string"==typeof $e&&(J=$e,$e=void 0),Qe($e).includes(J)),ve=($e=window)=>{if(typeof $e>"u")return[];$e.Ionic=$e.Ionic||{};let J=$e.Ionic.platforms;return null==J&&(J=$e.Ionic.platforms=qe($e),J.forEach(B=>$e.document.documentElement.classList.add(`plt-${B}`))),J},qe=$e=>{const J=u.get("platform");return Object.keys(an).filter(B=>{const R=null==J?void 0:J[B];return"function"==typeof R?R($e):an[B]($e)})},We=$e=>!!(Dt($e,/iPad/i)||Dt($e,/Macintosh/i)&&et($e)),rt=$e=>Dt($e,/android|sink/i),et=$e=>wt($e,"(any-pointer:coarse)"),Ge=$e=>ze($e)||dt($e),ze=$e=>!!($e.cordova||$e.phonegap||$e.PhoneGap),dt=$e=>{const J=$e.Capacitor;return!(null==J||!J.isNative)},Dt=($e,J)=>J.test($e.navigator.userAgent),wt=($e,J)=>{var B;return null===(B=$e.matchMedia)||void 0===B?void 0:B.call($e,J).matches},an={ipad:We,iphone:$e=>Dt($e,/iPhone/i),ios:$e=>Dt($e,/iPhone|iPod/i)||We($e),android:rt,phablet:$e=>{const J=$e.innerWidth,B=$e.innerHeight,R=Math.min(J,B),H=Math.max(J,B);return R>390&&R<520&&H>620&&H<800},tablet:$e=>{const J=$e.innerWidth,B=$e.innerHeight,R=Math.min(J,B),H=Math.max(J,B);return We($e)||($e=>rt($e)&&!Dt($e,/mobile/i))($e)||R>460&&R<820&&H>780&&H<1400},cordova:ze,capacitor:dt,electron:$e=>Dt($e,/electron/i),pwa:$e=>{var J;return!!(null!==(J=$e.matchMedia)&&void 0!==J&&J.call($e,"(display-mode: standalone)").matches||$e.navigator.standalone)},mobile:et,mobileweb:$e=>et($e)&&!Ge($e),desktop:$e=>!et($e),hybrid:Ge}},9986:(Dn,At,O)=>{"use strict";O.d(At,{c:()=>Be});var d=O(8476);let u;const Te=(ce,xe,Qe)=>{const Pe=xe.startsWith("animation")?(ce=>(void 0===u&&(u=void 0===ce.style.animationName&&void 0!==ce.style.webkitAnimationName?"-webkit-":""),u))(ce):"";ce.style.setProperty(Pe+xe,Qe)},de=(ce=[],xe)=>{if(void 0!==xe){const Qe=Array.isArray(xe)?xe:[xe];return[...ce,...Qe]}return ce},Be=ce=>{let xe,Qe,Pe,ve,qe,Ke,nt,St,te,Dt,It,We=[],Ye=[],ct=[],rt=!1,Tt={},tt=[],et=[],we={},Ge=0,ze=!1,dt=!1,wt=!0,an=!1,zt=!0,Tn=!1;const $e=ce,J=[],B=[],R=[],H=[],Ee=[],Ve=[],it=[],Me=[],Xe=[],jt=[],ft=[],Lt="function"==typeof AnimationEffect||void 0!==d.w&&"function"==typeof d.w.AnimationEffect,gn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Lt,Sn=()=>ft,nn=(re,Le)=>{const Mt=Le.findIndex(Nt=>Nt.c===re);Mt>-1&&Le.splice(Mt,1)},pt=(re,Le)=>((null!=Le&&Le.oneTimeCallback?B:J).push({c:re,o:Le}),It),rn=()=>{gn&&(ft.forEach(re=>{re.cancel()}),ft.length=0)},Qt=()=>{Ve.forEach(re=>{null!=re&&re.parentNode&&re.parentNode.removeChild(re)}),Ve.length=0},jn=()=>void 0!==qe?qe:nt?nt.getFill():"both",Qn=()=>void 0!==St?St:void 0!==Ke?Ke:nt?nt.getDirection():"normal",mi=()=>ze?"linear":void 0!==Pe?Pe:nt?nt.getEasing():"linear",at=()=>dt?0:void 0!==te?te:void 0!==Qe?Qe:nt?nt.getDuration():0,Dr=()=>void 0!==ve?ve:nt?nt.getIterations():1,Mr=()=>void 0!==Dt?Dt:void 0!==xe?xe:nt?nt.getDelay():0,Nn=()=>{0!==Ge&&(Ge--,0===Ge&&((()=>{Xe.forEach(An=>An()),jt.forEach(An=>An());const re=wt?1:0,Le=tt,Mt=et,Nt=we;H.forEach(An=>{const rr=An.classList;Le.forEach(Yn=>rr.add(Yn)),Mt.forEach(Yn=>rr.remove(Yn));for(const Yn in Nt)Nt.hasOwnProperty(Yn)&&Te(An,Yn,Nt[Yn])}),te=void 0,St=void 0,Dt=void 0,J.forEach(An=>An.c(re,It)),B.forEach(An=>An.c(re,It)),B.length=0,zt=!0,wt&&(an=!0),wt=!0})(),nt&&nt.animationFinish()))},Sr=()=>{(()=>{it.forEach(Nt=>Nt()),Me.forEach(Nt=>Nt());const re=Ye,Le=ct,Mt=Tt;H.forEach(Nt=>{const An=Nt.classList;re.forEach(rr=>An.add(rr)),Le.forEach(rr=>An.remove(rr));for(const rr in Mt)Mt.hasOwnProperty(rr)&&Te(Nt,rr,Mt[rr])})})(),We.length>0&&gn&&(H.forEach(re=>{const Le=re.animate(We,{id:$e,delay:Mr(),duration:at(),easing:mi(),iterations:Dr(),fill:jn(),direction:Qn()});Le.pause(),ft.push(Le)}),ft.length>0&&(ft[0].onfinish=()=>{Nn()})),rt=!0},On=re=>{re=Math.min(Math.max(re,0),.9999),gn&&ft.forEach(Le=>{Le.currentTime=Le.effect.getComputedTiming().delay+at()*re,Le.pause()})},Mn=re=>{ft.forEach(Le=>{Le.effect.updateTiming({delay:Mr(),duration:at(),easing:mi(),iterations:Dr(),fill:jn(),direction:Qn()})}),void 0!==re&&On(re)},nr=(re=!1,Le=!0,Mt)=>(re&&Ee.forEach(Nt=>{Nt.update(re,Le,Mt)}),gn&&Mn(Mt),It),Si=()=>{rt&&(gn?ft.forEach(re=>{re.pause()}):H.forEach(re=>{Te(re,"animation-play-state","paused")}),Tn=!0)},$t=re=>new Promise(Le=>{null!=re&&re.sync&&(dt=!0,pt(()=>dt=!1,{oneTimeCallback:!0})),rt||Sr(),an&&(gn&&(On(0),Mn()),an=!1),zt&&(Ge=Ee.length+1,zt=!1);const Mt=()=>{nn(Nt,B),Le()},Nt=()=>{nn(Mt,R),Le()};pt(Nt,{oneTimeCallback:!0}),((re,Le)=>{R.push({c:re,o:{oneTimeCallback:!0}})})(Mt),Ee.forEach(An=>{An.play()}),gn?(ft.forEach(re=>{re.play()}),(0===We.length||0===H.length)&&Nn()):Nn(),Tn=!1}),ee=(re,Le)=>{const Mt=We[0];return void 0===Mt||void 0!==Mt.offset&&0!==Mt.offset?We=[{offset:0,[re]:Le},...We]:Mt[re]=Le,It};return It={parentAnimation:nt,elements:H,childAnimations:Ee,id:$e,animationFinish:Nn,from:ee,to:(re,Le)=>{const Mt=We[We.length-1];return void 0===Mt||void 0!==Mt.offset&&1!==Mt.offset?We=[...We,{offset:1,[re]:Le}]:Mt[re]=Le,It},fromTo:(re,Le,Mt)=>ee(re,Le).to(re,Mt),parent:re=>(nt=re,It),play:$t,pause:()=>(Ee.forEach(re=>{re.pause()}),Si(),It),stop:()=>{Ee.forEach(re=>{re.stop()}),rt&&(rn(),rt=!1),ze=!1,dt=!1,zt=!0,St=void 0,te=void 0,Dt=void 0,Ge=0,an=!1,wt=!0,Tn=!1,R.forEach(re=>re.c(0,It)),R.length=0},destroy:re=>(Ee.forEach(Le=>{Le.destroy(re)}),(re=>{rn(),re&&Qt()})(re),H.length=0,Ee.length=0,We.length=0,J.length=0,B.length=0,rt=!1,zt=!0,It),keyframes:re=>{const Le=We!==re;return We=re,Le&&(re=>{gn&&Sn().forEach(Le=>{const Mt=Le.effect;if(Mt.setKeyframes)Mt.setKeyframes(re);else{const Nt=new KeyframeEffect(Mt.target,re,Mt.getTiming());Le.effect=Nt}})})(We),It},addAnimation:re=>{if(null!=re)if(Array.isArray(re))for(const Le of re)Le.parent(It),Ee.push(Le);else re.parent(It),Ee.push(re);return It},addElement:re=>{if(null!=re)if(1===re.nodeType)H.push(re);else if(re.length>=0)for(let Le=0;Le<re.length;Le++)H.push(re[Le]);else console.error("Invalid addElement value");return It},update:nr,fill:re=>(qe=re,nr(!0),It),direction:re=>(Ke=re,nr(!0),It),iterations:re=>(ve=re,nr(!0),It),duration:re=>(!gn&&0===re&&(re=1),Qe=re,nr(!0),It),easing:re=>(Pe=re,nr(!0),It),delay:re=>(xe=re,nr(!0),It),getWebAnimations:Sn,getKeyframes:()=>We,getFill:jn,getDirection:Qn,getDelay:Mr,getIterations:Dr,getEasing:mi,getDuration:at,afterAddRead:re=>(Xe.push(re),It),afterAddWrite:re=>(jt.push(re),It),afterClearStyles:(re=[])=>{for(const Le of re)we[Le]="";return It},afterStyles:(re={})=>(we=re,It),afterRemoveClass:re=>(et=de(et,re),It),afterAddClass:re=>(tt=de(tt,re),It),beforeAddRead:re=>(it.push(re),It),beforeAddWrite:re=>(Me.push(re),It),beforeClearStyles:(re=[])=>{for(const Le of re)Tt[Le]="";return It},beforeStyles:(re={})=>(Tt=re,It),beforeRemoveClass:re=>(ct=de(ct,re),It),beforeAddClass:re=>(Ye=de(Ye,re),It),onFinish:pt,isRunning:()=>0!==Ge&&!Tn,progressStart:(re=!1,Le)=>(Ee.forEach(Mt=>{Mt.progressStart(re,Le)}),Si(),ze=re,rt||Sr(),nr(!1,!0,Le),It),progressStep:re=>(Ee.forEach(Le=>{Le.progressStep(re)}),On(re),It),progressEnd:(re,Le,Mt)=>(ze=!1,Ee.forEach(Nt=>{Nt.progressEnd(re,Le,Mt)}),void 0!==Mt&&(te=Mt),an=!1,wt=!0,0===re?(St="reverse"===Qn()?"normal":"reverse","reverse"===St&&(wt=!1),gn?(nr(),On(1-Le)):(Dt=(1-Le)*at()*-1,nr(!1,!1))):1===re&&(gn?(nr(),On(Le)):(Dt=Le*at()*-1,nr(!1,!1))),void 0!==re&&!nt&&$t(),It)}}},464:(Dn,At,O)=>{"use strict";O.d(At,{E:()=>Pe,a:()=>d,s:()=>xe});const d=ve=>{try{if(ve instanceof ce)return ve.value;if(!Te()||"string"!=typeof ve||""===ve)return ve;if(ve.includes("onload="))return"";const qe=document.createDocumentFragment(),Ke=document.createElement("div");qe.appendChild(Ke),Ke.innerHTML=ve,Be.forEach(rt=>{const nt=qe.querySelectorAll(rt);for(let Tt=nt.length-1;Tt>=0;Tt--){const tt=nt[Tt];tt.parentNode?tt.parentNode.removeChild(tt):qe.removeChild(tt);const et=N(tt);for(let we=0;we<et.length;we++)u(et[we])}});const We=N(qe);for(let rt=0;rt<We.length;rt++)u(We[rt]);const Ye=document.createElement("div");Ye.appendChild(qe);const ct=Ye.querySelector("div");return null!==ct?ct.innerHTML:Ye.innerHTML}catch(qe){return console.error(qe),""}},u=ve=>{if(ve.nodeType&&1!==ve.nodeType)return;if(typeof NamedNodeMap<"u"&&!(ve.attributes instanceof NamedNodeMap))return void ve.remove();for(let Ke=ve.attributes.length-1;Ke>=0;Ke--){const We=ve.attributes.item(Ke),Ye=We.name;if(!de.includes(Ye.toLowerCase())){ve.removeAttribute(Ye);continue}const ct=We.value,rt=ve[Ye];(null!=ct&&ct.toLowerCase().includes("javascript:")||null!=rt&&rt.toLowerCase().includes("javascript:"))&&ve.removeAttribute(Ye)}const qe=N(ve);for(let Ke=0;Ke<qe.length;Ke++)u(qe[Ke])},N=ve=>null!=ve.children?ve.children:ve.childNodes,Te=()=>{var ve;const qe=window,Ke=null===(ve=null==qe?void 0:qe.Ionic)||void 0===ve?void 0:ve.config;return!Ke||(Ke.get?Ke.get("sanitizerEnabled",!0):!0===Ke.sanitizerEnabled||void 0===Ke.sanitizerEnabled)},de=["class","id","href","src","name","slot"],Be=["script","style","iframe","meta","link","object","embed"];class ce{constructor(qe){this.value=qe}}const xe=ve=>{const qe=window,Ke=qe.Ionic;if(!Ke||!Ke.config||"Object"===Ke.config.constructor.name)return qe.Ionic=qe.Ionic||{},qe.Ionic.config=Object.assign(Object.assign({},qe.Ionic.config),ve),qe.Ionic.config},Pe=!1},8621:(Dn,At,O)=>{"use strict";O.d(At,{C:()=>de,a:()=>N,d:()=>Te});var d=O(467),u=O(4920);const N=function(){var Be=(0,d.A)(function*(ce,xe,Qe,Pe,ve,qe){var Ke;if(ce)return ce.attachViewToDom(xe,Qe,ve,Pe);if(!(qe||"string"==typeof Qe||Qe instanceof HTMLElement))throw new Error("framework delegate is missing");const We="string"==typeof Qe?null===(Ke=xe.ownerDocument)||void 0===Ke?void 0:Ke.createElement(Qe):Qe;return Pe&&Pe.forEach(Ye=>We.classList.add(Ye)),ve&&Object.assign(We,ve),xe.appendChild(We),yield new Promise(Ye=>(0,u.c)(We,Ye)),We});return function(xe,Qe,Pe,ve,qe,Ke){return Be.apply(this,arguments)}}(),Te=(Be,ce)=>{if(ce){if(Be)return Be.removeViewFromDom(ce.parentElement,ce);ce.remove()}return Promise.resolve()},de=()=>{let Be,ce;return{attachViewToDom:function(){var Pe=(0,d.A)(function*(ve,qe,Ke={},We=[]){var Ye,ct;let rt;if(Be=ve,qe){const Tt="string"==typeof qe?null===(Ye=Be.ownerDocument)||void 0===Ye?void 0:Ye.createElement(qe):qe;We.forEach(tt=>Tt.classList.add(tt)),Object.assign(Tt,Ke),Be.appendChild(Tt),rt=Tt,yield new Promise(tt=>(0,u.c)(Tt,tt))}else if(Be.children.length>0&&("ION-MODAL"===Be.tagName||"ION-POPOVER"===Be.tagName)&&!(rt=Be.children[0]).classList.contains("ion-delegate-host")){const tt=null===(ct=Be.ownerDocument)||void 0===ct?void 0:ct.createElement("div");tt.classList.add("ion-delegate-host"),We.forEach(et=>tt.classList.add(et)),tt.append(...Be.children),Be.appendChild(tt),rt=tt}const nt=document.querySelector("ion-app")||document.body;return ce=document.createComment("ionic teleport"),Be.parentNode.insertBefore(ce,Be),nt.appendChild(Be),null!=rt?rt:Be});return function(qe,Ke){return Pe.apply(this,arguments)}}(),removeViewFromDom:()=>(Be&&ce&&(ce.parentNode.insertBefore(Be,ce),ce.remove()),Promise.resolve())}}},1970:(Dn,At,O)=>{"use strict";O.d(At,{B:()=>Te,G:()=>de});class u{constructor(ce,xe,Qe,Pe,ve){this.id=xe,this.name=Qe,this.disableScroll=ve,this.priority=1e6*Pe+xe,this.ctrl=ce}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const ce=this.ctrl.capture(this.name,this.id,this.priority);return ce&&this.disableScroll&&this.ctrl.disableScroll(this.id),ce}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class N{constructor(ce,xe,Qe,Pe){this.id=xe,this.disable=Qe,this.disableScroll=Pe,this.ctrl=ce}block(){if(this.ctrl){if(this.disable)for(const ce of this.disable)this.ctrl.disableGesture(ce,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const ce of this.disable)this.ctrl.enableGesture(ce,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Te="backdrop-no-scroll",de=new class d{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(ce){var xe;return new u(this,this.newID(),ce.name,null!==(xe=ce.priority)&&void 0!==xe?xe:0,!!ce.disableScroll)}createBlocker(ce={}){return new N(this,this.newID(),ce.disable,!!ce.disableScroll)}start(ce,xe,Qe){return this.canStart(ce)?(this.requestedStart.set(xe,Qe),!0):(this.requestedStart.delete(xe),!1)}capture(ce,xe,Qe){if(!this.start(ce,xe,Qe))return!1;const Pe=this.requestedStart;let ve=-1e4;if(Pe.forEach(qe=>{ve=Math.max(ve,qe)}),ve===Qe){this.capturedId=xe,Pe.clear();const qe=new CustomEvent("ionGestureCaptured",{detail:{gestureName:ce}});return document.dispatchEvent(qe),!0}return Pe.delete(xe),!1}release(ce){this.requestedStart.delete(ce),this.capturedId===ce&&(this.capturedId=void 0)}disableGesture(ce,xe){let Qe=this.disabledGestures.get(ce);void 0===Qe&&(Qe=new Set,this.disabledGestures.set(ce,Qe)),Qe.add(xe)}enableGesture(ce,xe){const Qe=this.disabledGestures.get(ce);void 0!==Qe&&Qe.delete(xe)}disableScroll(ce){this.disabledScroll.add(ce),1===this.disabledScroll.size&&document.body.classList.add(Te)}enableScroll(ce){this.disabledScroll.delete(ce),0===this.disabledScroll.size&&document.body.classList.remove(Te)}canStart(ce){return!(void 0!==this.capturedId||this.isDisabled(ce))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(ce){const xe=this.disabledGestures.get(ce);return!!(xe&&xe.size>0)}newID(){return this.gestureId++,this.gestureId}}},6411:(Dn,At,O)=>{"use strict";O.r(At),O.d(At,{MENU_BACK_BUTTON_PRIORITY:()=>Qe,OVERLAY_BACK_BUTTON_PRIORITY:()=>xe,blockHardwareBackButton:()=>Be,shouldUseCloseWatcher:()=>de,startHardwareBackButton:()=>ce});var d=O(467),u=O(8476),N=O(3664);O(9672);const de=()=>N.c.get("experimentalCloseWatcher",!1)&&void 0!==u.w&&"CloseWatcher"in u.w,Be=()=>{document.addEventListener("backbutton",()=>{})},ce=()=>{const Pe=document;let ve=!1;const qe=()=>{if(ve)return;let Ke=0,We=[];const Ye=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(nt,Tt){We.push({priority:nt,handler:Tt,id:Ke++})}}});Pe.dispatchEvent(Ye);const ct=function(){var nt=(0,d.A)(function*(Tt){try{if(null!=Tt&&Tt.handler){const tt=Tt.handler(rt);null!=tt&&(yield tt)}}catch(tt){console.error(tt)}});return function(tt){return nt.apply(this,arguments)}}(),rt=()=>{if(We.length>0){let nt={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};We.forEach(Tt=>{Tt.priority>=nt.priority&&(nt=Tt)}),ve=!0,We=We.filter(Tt=>Tt.id!==nt.id),ct(nt).then(()=>ve=!1)}};rt()};if(de()){let Ke;const We=()=>{null==Ke||Ke.destroy(),Ke=new u.w.CloseWatcher,Ke.onclose=()=>{qe(),We()}};We()}else Pe.addEventListener("backbutton",qe)},xe=100,Qe=99},4920:(Dn,At,O)=>{"use strict";O.d(At,{a:()=>xe,b:()=>Qe,c:()=>N,d:()=>We,e:()=>Tt,f:()=>Ke,g:()=>Pe,h:()=>de,i:()=>ce,j:()=>Ye,k:()=>Te,l:()=>qe,m:()=>ct,n:()=>nt,o:()=>tt,p:()=>rt,r:()=>ve,s:()=>et,t:()=>d});const d=(we,Ge=0)=>new Promise(ze=>{u(we,Ge,ze)}),u=(we,Ge=0,ze)=>{let dt,St;const te={passive:!0},wt=()=>{dt&&dt()},an=zt=>{(void 0===zt||we===zt.target)&&(wt(),ze(zt))};return we&&(we.addEventListener("webkitTransitionEnd",an,te),we.addEventListener("transitionend",an,te),St=setTimeout(an,Ge+500),dt=()=>{void 0!==St&&(clearTimeout(St),St=void 0),we.removeEventListener("webkitTransitionEnd",an,te),we.removeEventListener("transitionend",an,te)}),wt},N=(we,Ge)=>{we.componentOnReady?we.componentOnReady().then(ze=>Ge(ze)):ve(()=>Ge(we))},Te=we=>void 0!==we.componentOnReady,de=(we,Ge=[])=>{const ze={};return Ge.forEach(dt=>{we.hasAttribute(dt)&&(null!==we.getAttribute(dt)&&(ze[dt]=we.getAttribute(dt)),we.removeAttribute(dt))}),ze},Be=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],ce=(we,Ge)=>{let ze=Be;return Ge&&Ge.length>0&&(ze=ze.filter(dt=>!Ge.includes(dt))),de(we,ze)},xe=(we,Ge,ze,dt)=>{var St;if(typeof window<"u"){const te=window,Dt=null===(St=null==te?void 0:te.Ionic)||void 0===St?void 0:St.config;if(Dt){const wt=Dt.get("_ael");if(wt)return wt(we,Ge,ze,dt);if(Dt._ael)return Dt._ael(we,Ge,ze,dt)}}return we.addEventListener(Ge,ze,dt)},Qe=(we,Ge,ze,dt)=>{var St;if(typeof window<"u"){const te=window,Dt=null===(St=null==te?void 0:te.Ionic)||void 0===St?void 0:St.config;if(Dt){const wt=Dt.get("_rel");if(wt)return wt(we,Ge,ze,dt);if(Dt._rel)return Dt._rel(we,Ge,ze,dt)}}return we.removeEventListener(Ge,ze,dt)},Pe=(we,Ge=we)=>we.shadowRoot||Ge,ve=we=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(we):"function"==typeof requestAnimationFrame?requestAnimationFrame(we):setTimeout(we),qe=we=>!!we.shadowRoot&&!!we.attachShadow,Ke=we=>{if(we.focus(),we.classList.contains("ion-focusable")){const Ge=we.closest("ion-app");Ge&&Ge.setFocus([we])}},We=(we,Ge,ze,dt,St)=>{if(we||qe(Ge)){let te=Ge.querySelector("input.aux-input");te||(te=Ge.ownerDocument.createElement("input"),te.type="hidden",te.classList.add("aux-input"),Ge.appendChild(te)),te.disabled=St,te.name=ze,te.value=dt||""}},Ye=(we,Ge,ze)=>Math.max(we,Math.min(Ge,ze)),ct=(we,Ge)=>{if(!we){const ze="ASSERT: "+Ge;throw console.error(ze),new Error(ze)}},rt=we=>{if(we){const Ge=we.changedTouches;if(Ge&&Ge.length>0){const ze=Ge[0];return{x:ze.clientX,y:ze.clientY}}if(void 0!==we.pageX)return{x:we.pageX,y:we.pageY}}return{x:0,y:0}},nt=we=>{const Ge="rtl"===document.dir;switch(we){case"start":return Ge;case"end":return!Ge;default:throw new Error(`"${we}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Tt=(we,Ge)=>{const ze=we._original||we;return{_original:we,emit:tt(ze.emit.bind(ze),Ge)}},tt=(we,Ge=0)=>{let ze;return(...dt)=>{clearTimeout(ze),ze=setTimeout(we,Ge,...dt)}},et=(we,Ge)=>{if(null!=we||(we={}),null!=Ge||(Ge={}),we===Ge)return!0;const ze=Object.keys(we);if(ze.length!==Object.keys(Ge).length)return!1;for(const dt of ze)if(!(dt in Ge)||we[dt]!==Ge[dt])return!1;return!0}},5465:(Dn,At,O)=>{"use strict";O.d(At,{m:()=>Ke});var d=O(467),u=O(8476),N=O(6411),Te=O(4929),de=O(4920),Be=O(3664),ce=O(9986);const xe=We=>(0,ce.c)().duration(We?400:300),Qe=We=>{let Ye,ct;const rt=We.width+8,nt=(0,ce.c)(),Tt=(0,ce.c)();We.isEndSide?(Ye=rt+"px",ct="0px"):(Ye=-rt+"px",ct="0px"),nt.addElement(We.menuInnerEl).fromTo("transform",`translateX(${Ye})`,`translateX(${ct})`);const et="ios"===(0,Be.b)(We),we=et?.2:.25;return Tt.addElement(We.backdropEl).fromTo("opacity",.01,we),xe(et).addAnimation([nt,Tt])},Pe=We=>{let Ye,ct;const rt=(0,Be.b)(We),nt=We.width;We.isEndSide?(Ye=-nt+"px",ct=nt+"px"):(Ye=nt+"px",ct=-nt+"px");const Tt=(0,ce.c)().addElement(We.menuInnerEl).fromTo("transform",`translateX(${ct})`,"translateX(0px)"),tt=(0,ce.c)().addElement(We.contentEl).fromTo("transform","translateX(0px)",`translateX(${Ye})`),et=(0,ce.c)().addElement(We.backdropEl).fromTo("opacity",.01,.32);return xe("ios"===rt).addAnimation([Tt,tt,et])},ve=We=>{const Ye=(0,Be.b)(We),ct=We.width*(We.isEndSide?-1:1)+"px",rt=(0,ce.c)().addElement(We.contentEl).fromTo("transform","translateX(0px)",`translateX(${ct})`);return xe("ios"===Ye).addAnimation(rt)},Ke=(()=>{const We=new Map,Ye=[],ct=function(){var R=(0,d.A)(function*(H){const Ee=yield Ge(H,!0);return!!Ee&&Ee.open()});return function(Ee){return R.apply(this,arguments)}}(),rt=function(){var R=(0,d.A)(function*(H){const Ee=yield void 0!==H?Ge(H,!0):ze();return void 0!==Ee&&Ee.close()});return function(Ee){return R.apply(this,arguments)}}(),nt=function(){var R=(0,d.A)(function*(H){const Ee=yield Ge(H,!0);return!!Ee&&Ee.toggle()});return function(Ee){return R.apply(this,arguments)}}(),Tt=function(){var R=(0,d.A)(function*(H,Ee){const Ve=yield Ge(Ee);return Ve&&(Ve.disabled=!H),Ve});return function(Ee,Ve){return R.apply(this,arguments)}}(),tt=function(){var R=(0,d.A)(function*(H,Ee){const Ve=yield Ge(Ee);return Ve&&(Ve.swipeGesture=H),Ve});return function(Ee,Ve){return R.apply(this,arguments)}}(),et=function(){var R=(0,d.A)(function*(H){if(null!=H){const Ee=yield Ge(H);return void 0!==Ee&&Ee.isOpen()}return void 0!==(yield ze())});return function(Ee){return R.apply(this,arguments)}}(),we=function(){var R=(0,d.A)(function*(H){const Ee=yield Ge(H);return!!Ee&&!Ee.disabled});return function(Ee){return R.apply(this,arguments)}}(),Ge=function(){var R=(0,d.A)(function*(H,Ee=!1){if(yield B(),"start"===H||"end"===H){const it=Ye.filter(Xe=>Xe.side===H&&!Xe.disabled);if(it.length>=1)return it.length>1&&Ee&&(0,Te.p)(`menuController queried for a menu on the "${H}" side, but ${it.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,it.map(Xe=>Xe.el)),it[0].el;const Me=Ye.filter(Xe=>Xe.side===H);if(Me.length>=1)return Me.length>1&&Ee&&(0,Te.p)(`menuController queried for a menu on the "${H}" side, but ${Me.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Me.map(Xe=>Xe.el)),Me[0].el}else if(null!=H)return J(it=>it.menuId===H);return J(it=>!it.disabled)||(Ye.length>0?Ye[0].el:void 0)});return function(Ee){return R.apply(this,arguments)}}(),ze=function(){var R=(0,d.A)(function*(){return yield B(),It()});return function(){return R.apply(this,arguments)}}(),dt=function(){var R=(0,d.A)(function*(){return yield B(),Tn()});return function(){return R.apply(this,arguments)}}(),St=function(){var R=(0,d.A)(function*(){return yield B(),$e()});return function(){return R.apply(this,arguments)}}(),te=(R,H)=>{We.set(R,H)},an=function(){var R=(0,d.A)(function*(H,Ee,Ve){if($e())return!1;if(Ee){const it=yield ze();it&&H.el!==it&&(yield it.setOpen(!1,!1))}return H._setOpen(Ee,Ve)});return function(Ee,Ve,it){return R.apply(this,arguments)}}(),It=()=>J(R=>R._isOpen),Tn=()=>Ye.map(R=>R.el),$e=()=>Ye.some(R=>R.isAnimating),J=R=>{const H=Ye.find(R);if(void 0!==H)return H.el},B=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(R=>new Promise(H=>(0,de.c)(R,H))));return te("reveal",ve),te("push",Pe),te("overlay",Qe),null==u.d||u.d.addEventListener("ionBackButton",R=>{const H=It();H&&R.detail.register(N.MENU_BACK_BUTTON_PRIORITY,()=>H.close())}),{registerAnimation:te,get:Ge,getMenus:dt,getOpen:ze,isEnabled:we,swipeGesture:tt,isAnimating:St,isOpen:et,enable:Tt,toggle:nt,close:rt,open:ct,_getOpenSync:It,_createAnimation:(R,H)=>{const Ee=We.get(R);if(!Ee)throw new Error("animation not registered");return Ee(H)},_register:R=>{Ye.indexOf(R)<0&&Ye.push(R)},_unregister:R=>{const H=Ye.indexOf(R);H>-1&&Ye.splice(H,1)},_setOpen:an}})()},8607:(Dn,At,O)=>{"use strict";O.r(At),O.d(At,{GESTURE_CONTROLLER:()=>d.G,createGesture:()=>Qe});var d=O(1970);const u=(Ke,We,Ye,ct)=>{const rt=N(Ke)?{capture:!!ct.capture,passive:!!ct.passive}:!!ct.capture;let nt,Tt;return Ke.__zone_symbol__addEventListener?(nt="__zone_symbol__addEventListener",Tt="__zone_symbol__removeEventListener"):(nt="addEventListener",Tt="removeEventListener"),Ke[nt](We,Ye,rt),()=>{Ke[Tt](We,Ye,rt)}},N=Ke=>{if(void 0===Te)try{const We=Object.defineProperty({},"passive",{get:()=>{Te=!0}});Ke.addEventListener("optsTest",()=>{},We)}catch{Te=!1}return!!Te};let Te;const ce=Ke=>Ke instanceof Document?Ke:Ke.ownerDocument,Qe=Ke=>{let We=!1,Ye=!1,ct=!0,rt=!1;const nt=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Ke),Tt=nt.canStart,tt=nt.onWillStart,et=nt.onStart,we=nt.onEnd,Ge=nt.notCaptured,ze=nt.onMove,dt=nt.threshold,St=nt.passive,te=nt.blurOnStart,Dt={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},wt=((Ke,We,Ye)=>{const ct=Ye*(Math.PI/180),rt="x"===Ke,nt=Math.cos(ct),Tt=We*We;let tt=0,et=0,we=!1,Ge=0;return{start(ze,dt){tt=ze,et=dt,Ge=0,we=!0},detect(ze,dt){if(!we)return!1;const St=ze-tt,te=dt-et,Dt=St*St+te*te;if(Dt<Tt)return!1;const wt=Math.sqrt(Dt),an=(rt?St:te)/wt;return Ge=an>nt?1:an<-nt?-1:0,we=!1,!0},isGesture:()=>0!==Ge,getDirection:()=>Ge}})(nt.direction,nt.threshold,nt.maxAngle),an=d.G.createGesture({name:Ke.gestureName,priority:Ke.gesturePriority,disableScroll:Ke.disableScroll}),Tn=()=>{We&&(rt=!1,ze&&ze(Dt))},$e=()=>!!an.capture()&&(We=!0,ct=!1,Dt.startX=Dt.currentX,Dt.startY=Dt.currentY,Dt.startTime=Dt.currentTime,tt?tt(Dt).then(B):B(),!0),B=()=>{te&&(()=>{if(typeof document<"u"){const it=document.activeElement;null!=it&&it.blur&&it.blur()}})(),et&&et(Dt),ct=!0},R=()=>{We=!1,Ye=!1,rt=!1,ct=!0,an.release()},H=it=>{const Me=We,Xe=ct;if(R(),Xe){if(Pe(Dt,it),Me)return void(we&&we(Dt));Ge&&Ge(Dt)}},Ee=((Ke,We,Ye,ct,rt)=>{let nt,Tt,tt,et,we,Ge,ze,dt=0;const St=J=>{dt=Date.now()+2e3,We(J)&&(!Tt&&Ye&&(Tt=u(Ke,"touchmove",Ye,rt)),tt||(tt=u(J.target,"touchend",Dt,rt)),et||(et=u(J.target,"touchcancel",Dt,rt)))},te=J=>{dt>Date.now()||We(J)&&(!Ge&&Ye&&(Ge=u(ce(Ke),"mousemove",Ye,rt)),ze||(ze=u(ce(Ke),"mouseup",wt,rt)))},Dt=J=>{an(),ct&&ct(J)},wt=J=>{zt(),ct&&ct(J)},an=()=>{Tt&&Tt(),tt&&tt(),et&&et(),Tt=tt=et=void 0},zt=()=>{Ge&&Ge(),ze&&ze(),Ge=ze=void 0},It=()=>{an(),zt()},Tn=(J=!0)=>{J?(nt||(nt=u(Ke,"touchstart",St,rt)),we||(we=u(Ke,"mousedown",te,rt))):(nt&&nt(),we&&we(),nt=we=void 0,It())};return{enable:Tn,stop:It,destroy:()=>{Tn(!1),ct=Ye=We=void 0}}})(nt.el,it=>{const Me=qe(it);return!(Ye||!ct||(ve(it,Dt),Dt.startX=Dt.currentX,Dt.startY=Dt.currentY,Dt.startTime=Dt.currentTime=Me,Dt.velocityX=Dt.velocityY=Dt.deltaX=Dt.deltaY=0,Dt.event=it,Tt&&!1===Tt(Dt))||(an.release(),!an.start()))&&(Ye=!0,0===dt?$e():(wt.start(Dt.startX,Dt.startY),!0))},it=>{We?!rt&&ct&&(rt=!0,Pe(Dt,it),requestAnimationFrame(Tn)):(Pe(Dt,it),wt.detect(Dt.currentX,Dt.currentY)&&(!wt.isGesture()||!$e())&&Ve())},H,{capture:!1,passive:St}),Ve=()=>{R(),Ee.stop(),Ge&&Ge(Dt)};return{enable(it=!0){it||(We&&H(void 0),R()),Ee.enable(it)},destroy(){an.destroy(),Ee.destroy()}}},Pe=(Ke,We)=>{if(!We)return;const Ye=Ke.currentX,ct=Ke.currentY,rt=Ke.currentTime;ve(We,Ke);const nt=Ke.currentX,Tt=Ke.currentY,et=(Ke.currentTime=qe(We))-rt;if(et>0&&et<100){const Ge=(Tt-ct)/et;Ke.velocityX=(nt-Ye)/et*.7+.3*Ke.velocityX,Ke.velocityY=.7*Ge+.3*Ke.velocityY}Ke.deltaX=nt-Ke.startX,Ke.deltaY=Tt-Ke.startY,Ke.event=We},ve=(Ke,We)=>{let Ye=0,ct=0;if(Ke){const rt=Ke.changedTouches;if(rt&&rt.length>0){const nt=rt[0];Ye=nt.clientX,ct=nt.clientY}else void 0!==Ke.pageX&&(Ye=Ke.pageX,ct=Ke.pageY)}We.currentX=Ye,We.currentY=ct},qe=Ke=>Ke.timeStamp||Date.now()},9672:(Dn,At,O)=>{"use strict";O.d(At,{B:()=>Be,a:()=>No,b:()=>jr,c:()=>Xe,d:()=>gn,e:()=>mr,f:()=>$e,g:()=>jt,h:()=>It,i:()=>Lt,j:()=>nr,k:()=>ce,r:()=>hr,w:()=>Ai});var d=O(467);var Te=Object.defineProperty,Be={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},ce=K=>{const he=new URL(K,ar.$resourcesUrl$);return he.origin!==lr.location.origin?he.href:he.pathname},xe={},qe=K=>"object"==(K=typeof K)||"function"===K;function Ke(K){var he,Se,He;return null!=(He=null==(Se=null==(he=K.head)?void 0:he.querySelector('meta[name="csp-nonce"]'))?void 0:Se.getAttribute("content"))?He:void 0}((K,he)=>{for(var Se in he)Te(K,Se,{get:he[Se],enumerable:!0})})({},{err:()=>ct,map:()=>rt,ok:()=>Ye,unwrap:()=>nt,unwrapErr:()=>Tt});var Ye=K=>({isOk:!0,isErr:!1,value:K}),ct=K=>({isOk:!1,isErr:!0,value:K});function rt(K,he){if(K.isOk){const Se=he(K.value);return Se instanceof Promise?Se.then(He=>Ye(He)):Ye(Se)}if(K.isErr)return ct(K.value);throw"should never get here"}var nt=K=>{if(K.isOk)return K.value;throw K.value},Tt=K=>{if(K.isErr)return K.value;throw K.value},St="s-id",te="sty-id",an="slot-fb{display:contents}slot-fb[hidden]{display:none}",zt="http://www.w3.org/1999/xlink",It=(K,he,...Se)=>{let He=null,bt=null,Et=null,Yt=!1,on=!1;const Zt=[],cn=kn=>{for(let zn=0;zn<kn.length;zn++)He=kn[zn],Array.isArray(He)?cn(He):null!=He&&"boolean"!=typeof He&&((Yt="function"!=typeof K&&!qe(He))&&(He=String(He)),Yt&&on?Zt[Zt.length-1].$text$+=He:Zt.push(Yt?Tn(null,He):He),on=Yt)};if(cn(Se),he){he.key&&(bt=he.key),he.name&&(Et=he.name);{const kn=he.className||he.class;kn&&(he.class="object"!=typeof kn?kn:Object.keys(kn).filter(zn=>kn[zn]).join(" "))}}if("function"==typeof K)return K(null===he?{}:he,Zt,B);const dn=Tn(K,null);return dn.$attrs$=he,Zt.length>0&&(dn.$children$=Zt),dn.$key$=bt,dn.$name$=Et,dn},Tn=(K,he)=>({$flags$:0,$tag$:K,$text$:he,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),$e={},B={forEach:(K,he)=>K.map(R).forEach(he),map:(K,he)=>K.map(R).map(he).map(H)},R=K=>({vattrs:K.$attrs$,vchildren:K.$children$,vkey:K.$key$,vname:K.$name$,vtag:K.$tag$,vtext:K.$text$}),H=K=>{if("function"==typeof K.vtag){const Se={...K.vattrs};return K.vkey&&(Se.key=K.vkey),K.vname&&(Se.name=K.vname),It(K.vtag,Se,...K.vchildren||[])}const he=Tn(K.vtag,K.vtext);return he.$attrs$=K.vattrs,he.$children$=K.vchildren,he.$key$=K.vkey,he.$name$=K.vname,he},Ve=(K,he,Se,He,bt,Et,Yt)=>{let on,Zt,cn,dn;if(1===Et.nodeType){for(on=Et.getAttribute("c-id"),on&&(Zt=on.split("."),(Zt[0]===Yt||"0"===Zt[0])&&(cn={$flags$:0,$hostId$:Zt[0],$nodeId$:Zt[1],$depth$:Zt[2],$index$:Zt[3],$tag$:Et.tagName.toLowerCase(),$elm$:Et,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},he.push(cn),Et.removeAttribute("c-id"),K.$children$||(K.$children$=[]),K.$children$[cn.$index$]=cn,K=cn,He&&"0"===cn.$depth$&&(He[cn.$index$]=cn.$elm$))),dn=Et.childNodes.length-1;dn>=0;dn--)Ve(K,he,Se,He,bt,Et.childNodes[dn],Yt);if(Et.shadowRoot)for(dn=Et.shadowRoot.childNodes.length-1;dn>=0;dn--)Ve(K,he,Se,He,bt,Et.shadowRoot.childNodes[dn],Yt)}else if(8===Et.nodeType)Zt=Et.nodeValue.split("."),(Zt[1]===Yt||"0"===Zt[1])&&(on=Zt[0],cn={$flags$:0,$hostId$:Zt[1],$nodeId$:Zt[2],$depth$:Zt[3],$index$:Zt[4],$elm$:Et,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===on?(cn.$elm$=Et.nextSibling,cn.$elm$&&3===cn.$elm$.nodeType&&(cn.$text$=cn.$elm$.textContent,he.push(cn),Et.remove(),K.$children$||(K.$children$=[]),K.$children$[cn.$index$]=cn,He&&"0"===cn.$depth$&&(He[cn.$index$]=cn.$elm$))):cn.$hostId$===Yt&&("s"===on?(cn.$tag$="slot",Et["s-sn"]=Zt[5]?cn.$name$=Zt[5]:"",Et["s-sr"]=!0,He&&(cn.$elm$=Vr.createElement(cn.$tag$),cn.$name$&&cn.$elm$.setAttribute("name",cn.$name$),Et.parentNode.insertBefore(cn.$elm$,Et),Et.remove(),"0"===cn.$depth$&&(He[cn.$index$]=cn.$elm$)),Se.push(cn),K.$children$||(K.$children$=[]),K.$children$[cn.$index$]=cn):"r"===on&&(He?Et.remove():(bt["s-cr"]=Et,Et["s-cn"]=!0))));else if(K&&"style"===K.$tag$){const kn=Tn(null,Et.textContent);kn.$elm$=Et,kn.$index$="0",K.$children$=[kn]}},it=(K,he)=>{if(1===K.nodeType){let Se=0;for(;Se<K.childNodes.length;Se++)it(K.childNodes[Se],he);if(K.shadowRoot)for(Se=0;Se<K.shadowRoot.childNodes.length;Se++)it(K.shadowRoot.childNodes[Se],he)}else if(8===K.nodeType){const Se=K.nodeValue.split(".");"o"===Se[0]&&(he.set(Se[1]+"."+Se[2],K),K.nodeValue="",K["s-en"]=Se[3])}},Xe=K=>zr.push(K),jt=K=>Qr(K).$modeName$,Lt=K=>Qr(K).$hostElement$,gn=(K,he,Se)=>{const He=Lt(K);return{emit:bt=>Sn(He,he,{bubbles:!!(4&Se),composed:!!(2&Se),cancelable:!!(1&Se),detail:bt})}},Sn=(K,he,Se)=>{const He=ar.ce(he,Se);return K.dispatchEvent(He),He},Jt=new WeakMap,Pn=(K,he,Se)=>{let He=Ur.get(K);wo&&Se?(He=He||new CSSStyleSheet,"string"==typeof He?He=he:He.replaceSync(he)):He=he,Ur.set(K,He)},Jn=(K,he,Se)=>{var He;const bt=nn(he,Se),Et=Ur.get(bt);if(K=11===K.nodeType?K:Vr,Et)if("string"==typeof Et){let on,Yt=Jt.get(K=K.head||K);if(Yt||Jt.set(K,Yt=new Set),!Yt.has(bt)){if(K.host&&(on=K.querySelector(`[${te}="${bt}"]`)))on.innerHTML=Et;else{on=Vr.createElement("style"),on.innerHTML=Et;const Zt=null!=(He=ar.$nonce$)?He:Ke(Vr);null!=Zt&&on.setAttribute("nonce",Zt),K.insertBefore(on,K.querySelector("link"))}4&he.$flags$&&(on.innerHTML+=an),Yt&&Yt.add(bt)}}else K.adoptedStyleSheets.includes(Et)||(K.adoptedStyleSheets=[...K.adoptedStyleSheets,Et]);return bt},nn=(K,he)=>"sc-"+(he&&32&K.$flags$?K.$tagName$+"-"+he:K.$tagName$),vt=K=>K.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),pt=(K,he,Se,He,bt,Et)=>{if(Se!==He){let Yt=Li(K,he),on=he.toLowerCase();if("class"===he){const Zt=K.classList,cn=rn(Se),dn=rn(He);Zt.remove(...cn.filter(kn=>kn&&!dn.includes(kn))),Zt.add(...dn.filter(kn=>kn&&!cn.includes(kn)))}else if("style"===he){for(const Zt in Se)(!He||null==He[Zt])&&(Zt.includes("-")?K.style.removeProperty(Zt):K.style[Zt]="");for(const Zt in He)(!Se||He[Zt]!==Se[Zt])&&(Zt.includes("-")?K.style.setProperty(Zt,He[Zt]):K.style[Zt]=He[Zt])}else if("key"!==he)if("ref"===he)He&&He(K);else if(Yt||"o"!==he[0]||"n"!==he[1]){const Zt=qe(He);if((Yt||Zt&&null!==He)&&!bt)try{if(K.tagName.includes("-"))K[he]=He;else{const dn=null==He?"":He;"list"===he?Yt=!1:(null==Se||K[he]!=dn)&&(K[he]=dn)}}catch{}let cn=!1;on!==(on=on.replace(/^xlink\:?/,""))&&(he=on,cn=!0),null==He||!1===He?(!1!==He||""===K.getAttribute(he))&&(cn?K.removeAttributeNS(zt,he):K.removeAttribute(he)):(!Yt||4&Et||bt)&&!Zt&&(He=!0===He?"":He,cn?K.setAttributeNS(zt,he,He):K.setAttribute(he,He))}else if(he="-"===he[2]?he.slice(3):Li(lr,on)?on.slice(2):on[2]+he.slice(3),Se||He){const Zt=he.endsWith(Qt);he=he.replace(or,""),Se&&ar.rel(K,he,Se,Zt),He&&ar.ael(K,he,He,Zt)}}},Ft=/\s/,rn=K=>K?K.split(Ft):[],Qt="Capture",or=new RegExp(Qt+"$"),Wn=(K,he,Se)=>{const He=11===he.$elm$.nodeType&&he.$elm$.host?he.$elm$.host:he.$elm$,bt=K&&K.$attrs$||xe,Et=he.$attrs$||xe;for(const Yt of wn(Object.keys(bt)))Yt in Et||pt(He,Yt,bt[Yt],void 0,Se,he.$flags$);for(const Yt of wn(Object.keys(Et)))pt(He,Yt,bt[Yt],Et[Yt],Se,he.$flags$)};function wn(K){return K.includes("ref")?[...K.filter(he=>"ref"!==he),"ref"]:K}var hn,Un,tr,ur=!1,Br=!1,Kn=!1,Ir=!1,qn=(K,he,Se,He)=>{var bt;const Et=he.$children$[Se];let on,Zt,cn,Yt=0;if(ur||(Kn=!0,"slot"===Et.$tag$&&(hn&&He.classList.add(hn+"-s"),Et.$flags$|=Et.$children$?2:1)),null!==Et.$text$)on=Et.$elm$=Vr.createTextNode(Et.$text$);else if(1&Et.$flags$)on=Et.$elm$=Vr.createTextNode("");else{if(Ir||(Ir="svg"===Et.$tag$),on=Et.$elm$=Vr.createElementNS(Ir?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Et.$flags$?"slot-fb":Et.$tag$),Ir&&"foreignObject"===Et.$tag$&&(Ir=!1),Wn(null,Et,Ir),(K=>null!=K)(hn)&&on["s-si"]!==hn&&on.classList.add(on["s-si"]=hn),Et.$children$)for(Yt=0;Yt<Et.$children$.length;++Yt)Zt=qn(K,Et,Yt,on),Zt&&on.appendChild(Zt);"svg"===Et.$tag$?Ir=!1:"foreignObject"===on.tagName&&(Ir=!0)}return on["s-hn"]=tr,3&Et.$flags$&&(on["s-sr"]=!0,on["s-cr"]=Un,on["s-sn"]=Et.$name$||"",on["s-rf"]=null==(bt=Et.$attrs$)?void 0:bt.ref,cn=K&&K.$children$&&K.$children$[Se],cn&&cn.$tag$===Et.$tag$&&K.$elm$&&ui(K.$elm$)),on},ui=K=>{ar.$flags$|=1;const he=K.closest(tr.toLowerCase());if(null!=he){const Se=Array.from(he.childNodes).find(bt=>bt["s-cr"]),He=Array.from(K.childNodes);for(const bt of Se?He.reverse():He)null!=bt["s-sh"]&&(ye(he,bt,null!=Se?Se:null),bt["s-sh"]=void 0,Kn=!0)}ar.$flags$&=-2},jn=(K,he)=>{ar.$flags$|=1;const Se=Array.from(K.childNodes);if(K["s-sr"]){let He=K;for(;He=He.nextSibling;)He&&He["s-sn"]===K["s-sn"]&&He["s-sh"]===tr&&Se.push(He)}for(let He=Se.length-1;He>=0;He--){const bt=Se[He];bt["s-hn"]!==tr&&bt["s-ol"]&&(ye(Oi(bt),bt,Mr(bt)),bt["s-ol"].remove(),bt["s-ol"]=void 0,bt["s-sh"]=void 0,Kn=!0),he&&jn(bt,he)}ar.$flags$&=-2},Qn=(K,he,Se,He,bt,Et)=>{let on,Yt=K["s-cr"]&&K["s-cr"].parentNode||K;for(Yt.shadowRoot&&Yt.tagName===tr&&(Yt=Yt.shadowRoot);bt<=Et;++bt)He[bt]&&(on=qn(null,Se,bt,K),on&&(He[bt].$elm$=on,ye(Yt,on,Mr(he))))},mi=(K,he,Se)=>{for(let He=he;He<=Se;++He){const bt=K[He];if(bt){const Et=bt.$elm$;fe(bt),Et&&(Br=!0,Et["s-ol"]?Et["s-ol"].remove():jn(Et,!0),Et.remove())}}},Dr=(K,he,Se=!1)=>K.$tag$===he.$tag$&&("slot"===K.$tag$?K.$name$===he.$name$:!!Se||K.$key$===he.$key$),Mr=K=>K&&K["s-ol"]||K,Oi=K=>(K["s-ol"]?K["s-ol"]:K).parentNode,ii=(K,he,Se=!1)=>{const He=he.$elm$=K.$elm$,bt=K.$children$,Et=he.$children$,Yt=he.$tag$,on=he.$text$;let Zt;null===on?(Ir="svg"===Yt||"foreignObject"!==Yt&&Ir,"slot"!==Yt||ur?Wn(K,he,Ir):K.$name$!==he.$name$&&(he.$elm$["s-sn"]=he.$name$||"",ui(he.$elm$.parentElement)),null!==bt&&null!==Et?((K,he,Se,He,bt=!1)=>{let qi,Ar,Et=0,Yt=0,on=0,Zt=0,cn=he.length-1,dn=he[0],kn=he[cn],zn=He.length-1,ir=He[0],vr=He[zn];for(;Et<=cn&&Yt<=zn;)if(null==dn)dn=he[++Et];else if(null==kn)kn=he[--cn];else if(null==ir)ir=He[++Yt];else if(null==vr)vr=He[--zn];else if(Dr(dn,ir,bt))ii(dn,ir,bt),dn=he[++Et],ir=He[++Yt];else if(Dr(kn,vr,bt))ii(kn,vr,bt),kn=he[--cn],vr=He[--zn];else if(Dr(dn,vr,bt))("slot"===dn.$tag$||"slot"===vr.$tag$)&&jn(dn.$elm$.parentNode,!1),ii(dn,vr,bt),ye(K,dn.$elm$,kn.$elm$.nextSibling),dn=he[++Et],vr=He[--zn];else if(Dr(kn,ir,bt))("slot"===dn.$tag$||"slot"===vr.$tag$)&&jn(kn.$elm$.parentNode,!1),ii(kn,ir,bt),ye(K,kn.$elm$,dn.$elm$),kn=he[--cn],ir=He[++Yt];else{for(on=-1,Zt=Et;Zt<=cn;++Zt)if(he[Zt]&&null!==he[Zt].$key$&&he[Zt].$key$===ir.$key$){on=Zt;break}on>=0?(Ar=he[on],Ar.$tag$!==ir.$tag$?qi=qn(he&&he[Yt],Se,on,K):(ii(Ar,ir,bt),he[on]=void 0,qi=Ar.$elm$),ir=He[++Yt]):(qi=qn(he&&he[Yt],Se,Yt,K),ir=He[++Yt]),qi&&ye(Oi(dn.$elm$),qi,Mr(dn.$elm$))}Et>cn?Qn(K,null==He[zn+1]?null:He[zn+1].$elm$,Se,He,Yt,zn):Yt>zn&&mi(he,Et,cn)})(He,bt,he,Et,Se):null!==Et?(null!==K.$text$&&(He.textContent=""),Qn(He,null,he,Et,0,Et.length-1)):null!==bt&&mi(bt,0,bt.length-1),Ir&&"svg"===Yt&&(Ir=!1)):(Zt=He["s-cr"])?Zt.parentNode.textContent=on:K.$text$!==on&&(He.data=on)},mt=K=>{const he=K.childNodes;for(const Se of he)if(1===Se.nodeType){if(Se["s-sr"]){const He=Se["s-sn"];Se.hidden=!1;for(const bt of he)if(bt!==Se)if(bt["s-hn"]!==Se["s-hn"]||""!==He){if(1===bt.nodeType&&(He===bt.getAttribute("slot")||He===bt["s-sn"])||3===bt.nodeType&&He===bt["s-sn"]){Se.hidden=!0;break}}else if(1===bt.nodeType||3===bt.nodeType&&""!==bt.textContent.trim()){Se.hidden=!0;break}}mt(Se)}},Je=[],kt=K=>{let he,Se,He;for(const bt of K.childNodes){if(bt["s-sr"]&&(he=bt["s-cr"])&&he.parentNode){Se=he.parentNode.childNodes;const Et=bt["s-sn"];for(He=Se.length-1;He>=0;He--)if(he=Se[He],!(he["s-cn"]||he["s-nr"]||he["s-hn"]===bt["s-hn"]||he["s-sh"]&&he["s-sh"]===bt["s-hn"]))if(ot(he,Et)){let Yt=Je.find(on=>on.$nodeToRelocate$===he);Br=!0,he["s-sn"]=he["s-sn"]||Et,Yt?(Yt.$nodeToRelocate$["s-sh"]=bt["s-hn"],Yt.$slotRefNode$=bt):(he["s-sh"]=bt["s-hn"],Je.push({$slotRefNode$:bt,$nodeToRelocate$:he})),he["s-sr"]&&Je.map(on=>{ot(on.$nodeToRelocate$,he["s-sn"])&&(Yt=Je.find(Zt=>Zt.$nodeToRelocate$===he),Yt&&!on.$slotRefNode$&&(on.$slotRefNode$=Yt.$slotRefNode$))})}else Je.some(Yt=>Yt.$nodeToRelocate$===he)||Je.push({$nodeToRelocate$:he})}1===bt.nodeType&&kt(bt)}},ot=(K,he)=>1===K.nodeType?null===K.getAttribute("slot")&&""===he||K.getAttribute("slot")===he:K["s-sn"]===he||""===he,fe=K=>{K.$attrs$&&K.$attrs$.ref&&K.$attrs$.ref(null),K.$children$&&K.$children$.map(fe)},ye=(K,he,Se)=>{const He=null==K?void 0:K.insertBefore(he,Se);return pe(he,K),He},se=K=>K?K["s-rsc"]||K["s-si"]||K["s-sc"]||se(K.parentElement):void 0,pe=(K,he)=>{var Se,He,bt;if(K&&he){const Et=K["s-rsc"],Yt=se(he);Et&&null!=(Se=K.classList)&&Se.contains(Et)&&K.classList.remove(Et),Yt&&(K["s-rsc"]=Yt,(null==(He=K.classList)||!He.contains(Yt))&&(null==(bt=K.classList)||bt.add(Yt)))}},lt=(K,he)=>{he&&!K.$onRenderResolve$&&he["s-p"]&&he["s-p"].push(new Promise(Se=>K.$onRenderResolve$=Se))},qt=(K,he)=>{if(K.$flags$|=16,!(4&K.$flags$))return lt(K,K.$ancestorComponent$),Ai(()=>yn(K,he));K.$flags$|=512},yn=(K,he)=>{const He=K.$lazyInstance$;let bt;return he&&(K.$flags$|=256,K.$queuedListeners$&&(K.$queuedListeners$.map(([Et,Yt])=>oi(He,Et,Yt)),K.$queuedListeners$=void 0),bt=oi(He,"componentWillLoad")),bt=Nn(bt,()=>oi(He,"componentWillRender")),Nn(bt,()=>Sr(K,He,he))},Nn=(K,he)=>dr(K)?K.then(he):he(),dr=K=>K instanceof Promise||K&&K.then&&"function"==typeof K.then,Sr=function(){var K=(0,d.A)(function*(he,Se,He){var bt;const Et=he.$hostElement$,on=Et["s-rc"];He&&(K=>{const he=K.$cmpMeta$,Se=K.$hostElement$,He=he.$flags$,Et=Jn(Se.shadowRoot?Se.shadowRoot:Se.getRootNode(),he,K.$modeName$);10&He&&(Se["s-sc"]=Et,Se.classList.add(Et+"-h"),2&He&&Se.classList.add(Et+"-s"))})(he);On(he,Se,Et,He),on&&(on.map(cn=>cn()),Et["s-rc"]=void 0);{const cn=null!=(bt=Et["s-p"])?bt:[],dn=()=>Mn(he);0===cn.length?dn():(Promise.all(cn).then(dn),he.$flags$|=4,cn.length=0)}});return function(Se,He,bt){return K.apply(this,arguments)}}(),On=(K,he,Se,He)=>{try{he=he.render&&he.render(),K.$flags$&=-17,K.$flags$|=2,((K,he,Se=!1)=>{var He,bt,Et,Yt,on;const Zt=K.$hostElement$,cn=K.$cmpMeta$,dn=K.$vnode$||Tn(null,null),kn=(K=>K&&K.$tag$===$e)(he)?he:It(null,null,he);if(tr=Zt.tagName,cn.$attrsToReflect$&&(kn.$attrs$=kn.$attrs$||{},cn.$attrsToReflect$.map(([zn,ir])=>kn.$attrs$[ir]=Zt[zn])),Se&&kn.$attrs$)for(const zn of Object.keys(kn.$attrs$))Zt.hasAttribute(zn)&&!["key","ref","style","class"].includes(zn)&&(kn.$attrs$[zn]=Zt[zn]);if(kn.$tag$=null,kn.$flags$|=4,K.$vnode$=kn,kn.$elm$=dn.$elm$=Zt.shadowRoot||Zt,hn=Zt["s-sc"],ur=!!(1&cn.$flags$),Un=Zt["s-cr"],Br=!1,ii(dn,kn,Se),ar.$flags$|=1,Kn){kt(kn.$elm$);for(const zn of Je){const ir=zn.$nodeToRelocate$;if(!ir["s-ol"]){const vr=Vr.createTextNode("");vr["s-nr"]=ir,ye(ir.parentNode,ir["s-ol"]=vr,ir)}}for(const zn of Je){const ir=zn.$nodeToRelocate$,vr=zn.$slotRefNode$;if(vr){const qi=vr.parentNode;let Ar=vr.nextSibling;if(Ar&&1===Ar.nodeType){let er=null==(He=ir["s-ol"])?void 0:He.previousSibling;for(;er;){let pr=null!=(bt=er["s-nr"])?bt:null;if(pr&&pr["s-sn"]===ir["s-sn"]&&qi===pr.parentNode){for(pr=pr.nextSibling;pr===ir||null!=pr&&pr["s-sr"];)pr=null==pr?void 0:pr.nextSibling;if(!pr||!pr["s-nr"]){Ar=pr;break}}er=er.previousSibling}}(!Ar&&qi!==ir.parentNode||ir.nextSibling!==Ar)&&ir!==Ar&&(ye(qi,ir,Ar),1===ir.nodeType&&(ir.hidden=null!=(Et=ir["s-ih"])&&Et)),ir&&"function"==typeof vr["s-rf"]&&vr["s-rf"](ir)}else 1===ir.nodeType&&(Se&&(ir["s-ih"]=null!=(Yt=ir.hidden)&&Yt),ir.hidden=!0)}}if(Br&&mt(kn.$elm$),ar.$flags$&=-2,Je.length=0,2&cn.$flags$)for(const zn of kn.$elm$.childNodes)zn["s-hn"]!==tr&&!zn["s-sh"]&&(Se&&null==zn["s-ih"]&&(zn["s-ih"]=null!=(on=zn.hidden)&&on),zn.hidden=!0);Un=void 0})(K,he,He)}catch(bt){Hi(bt,K.$hostElement$)}return null},Mn=K=>{const Se=K.$hostElement$,bt=K.$lazyInstance$,Et=K.$ancestorComponent$;oi(bt,"componentDidRender"),64&K.$flags$?oi(bt,"componentDidUpdate"):(K.$flags$|=64,Do(Se),oi(bt,"componentDidLoad"),K.$onReadyResolve$(Se),Et||Xr()),K.$onInstanceResolve$(Se),K.$onRenderResolve$&&(K.$onRenderResolve$(),K.$onRenderResolve$=void 0),512&K.$flags$&&ht(()=>qt(K,!1)),K.$flags$&=-517},nr=K=>{{const he=Qr(K),Se=he.$hostElement$.isConnected;return Se&&2==(18&he.$flags$)&&qt(he,!1),Se}},Xr=K=>{Do(Vr.documentElement),ht(()=>Sn(lr,"appload",{detail:{namespace:"ionic"}}))},oi=(K,he,Se)=>{if(K&&K[he])try{return K[he](Se)}catch(He){Hi(He)}},Do=K=>K.classList.add("hydrated"),eo=(K,he,Se)=>{var He;const bt=K.prototype;if(he.$members$){K.watchers&&(he.$watchers$=K.watchers);const Et=Object.entries(he.$members$);if(Et.map(([Yt,[on]])=>{31&on||2&Se&&32&on?Object.defineProperty(bt,Yt,{get(){return((K,he)=>Qr(this).$instanceValues$.get(he))(0,Yt)},set(Zt){((K,he,Se,He)=>{const bt=Qr(K);if(!bt)throw new Error(`Couldn't find host element for "${He.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const Et=bt.$hostElement$,Yt=bt.$instanceValues$.get(he),on=bt.$flags$,Zt=bt.$lazyInstance$;Se=((K,he)=>null==K||qe(K)?K:4&he?"false"!==K&&(""===K||!!K):2&he?parseFloat(K):1&he?String(K):K)(Se,He.$members$[he][0]);const cn=Number.isNaN(Yt)&&Number.isNaN(Se);if((!(8&on)||void 0===Yt)&&Se!==Yt&&!cn&&(bt.$instanceValues$.set(he,Se),Zt)){if(He.$watchers$&&128&on){const kn=He.$watchers$[he];kn&&kn.map(zn=>{try{Zt[zn](Se,Yt,he)}catch(ir){Hi(ir,Et)}})}2==(18&on)&&qt(bt,!1)}})(this,Yt,Zt,he)},configurable:!0,enumerable:!0}):1&Se&&64&on&&Object.defineProperty(bt,Yt,{value(...Zt){var cn;const dn=Qr(this);return null==(cn=null==dn?void 0:dn.$onInstancePromise$)?void 0:cn.then(()=>{var kn;return null==(kn=dn.$lazyInstance$)?void 0:kn[Yt](...Zt)})}})}),1&Se){const Yt=new Map;bt.attributeChangedCallback=function(on,Zt,cn){ar.jmp(()=>{var dn;const kn=Yt.get(on);if(this.hasOwnProperty(kn))cn=this[kn],delete this[kn];else{if(bt.hasOwnProperty(kn)&&"number"==typeof this[kn]&&this[kn]==cn)return;if(null==kn){const zn=Qr(this),ir=null==zn?void 0:zn.$flags$;if(ir&&!(8&ir)&&128&ir&&cn!==Zt){const vr=zn.$lazyInstance$,qi=null==(dn=he.$watchers$)?void 0:dn[on];null==qi||qi.forEach(Ar=>{null!=vr[Ar]&&vr[Ar].call(vr,cn,Zt,on)})}return}}this[kn]=(null!==cn||"boolean"!=typeof this[kn])&&cn})},K.observedAttributes=Array.from(new Set([...Object.keys(null!=(He=he.$watchers$)?He:{}),...Et.filter(([on,Zt])=>15&Zt[0]).map(([on,Zt])=>{var cn;const dn=Zt[1]||on;return Yt.set(dn,on),512&Zt[0]&&(null==(cn=he.$attrsToReflect$)||cn.push([on,dn])),dn})]))}}return K},ki=function(){var K=(0,d.A)(function*(he,Se,He,bt){let Et;if(!(32&Se.$flags$)){if(Se.$flags$|=32,He.$lazyBundleId$){if(Et=vi(He),Et.then){const dn=()=>{};Et=yield Et,dn()}Et.isProxied||(He.$watchers$=Et.watchers,eo(Et,He,2),Et.isProxied=!0);const cn=()=>{};Se.$flags$|=8;try{new Et(Se)}catch(dn){Hi(dn)}Se.$flags$&=-9,Se.$flags$|=128,cn(),to(Se.$lazyInstance$)}else Et=he.constructor,customElements.whenDefined(He.$tagName$).then(()=>Se.$flags$|=128);if(Et.style){let cn=Et.style;"string"!=typeof cn&&(cn=cn[Se.$modeName$=(K=>zr.map(he=>he(K)).find(he=>!!he))(he)]);const dn=nn(He,Se.$modeName$);if(!Ur.has(dn)){const kn=()=>{};Pn(dn,cn,!!(1&He.$flags$)),kn()}}}const Yt=Se.$ancestorComponent$,on=()=>qt(Se,!0);Yt&&Yt["s-rc"]?Yt["s-rc"].push(on):on()});return function(Se,He,bt,Et){return K.apply(this,arguments)}}(),to=K=>{oi(K,"connectedCallback")},ne=K=>{const he=K["s-cr"]=Vr.createComment("");he["s-cn"]=!0,ye(K,he,K.firstChild)},ee=K=>{oi(K,"disconnectedCallback")},ke=function(){var K=(0,d.A)(function*(he){if(!(1&ar.$flags$)){const Se=Qr(he);Se.$rmListeners$&&(Se.$rmListeners$.map(He=>He()),Se.$rmListeners$=void 0),null!=Se&&Se.$lazyInstance$?ee(Se.$lazyInstance$):null!=Se&&Se.$onReadyPromise$&&Se.$onReadyPromise$.then(()=>ee(Se.$lazyInstance$))}});return function(Se){return K.apply(this,arguments)}}(),re=K=>{const he=K.cloneNode;K.cloneNode=function(Se){const He=this,bt=He.shadowRoot&&Oo,Et=he.call(He,!!bt&&Se);if(!bt&&Se){let on,Zt,Yt=0;const cn=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-rsc"];for(;Yt<He.childNodes.length;Yt++)on=He.childNodes[Yt]["s-nr"],Zt=cn.every(dn=>!He.childNodes[Yt][dn]),on&&(Et.__appendChild?Et.__appendChild(on.cloneNode(!0)):Et.appendChild(on.cloneNode(!0))),Zt&&Et.appendChild(He.childNodes[Yt].cloneNode(!0))}return Et}},Le=K=>{K.__appendChild=K.appendChild,K.appendChild=function(he){const Se=he["s-sn"]=gi(he),He=Ki(this.childNodes,Se,this.tagName);if(He){const bt=Ei(He,Se),Et=bt[bt.length-1],Yt=ye(Et.parentNode,he,Et.nextSibling);return mt(this),Yt}return this.__appendChild(he)}},Mt=K=>{K.__removeChild=K.removeChild,K.removeChild=function(he){if(he&&typeof he["s-sn"]<"u"){const Se=Ki(this.childNodes,he["s-sn"],this.tagName);if(Se){const bt=Ei(Se,he["s-sn"]).find(Et=>Et===he);if(bt)return bt.remove(),void mt(this)}}return this.__removeChild(he)}},Nt=K=>{const he=K.prepend;K.prepend=function(...Se){Se.forEach(He=>{"string"==typeof He&&(He=this.ownerDocument.createTextNode(He));const bt=He["s-sn"]=gi(He),Et=Ki(this.childNodes,bt,this.tagName);if(Et){const Yt=document.createTextNode("");Yt["s-nr"]=He,Et["s-cr"].parentNode.__appendChild(Yt),He["s-ol"]=Yt;const Zt=Ei(Et,bt)[0];return ye(Zt.parentNode,He,Zt.nextSibling)}return 1===He.nodeType&&He.getAttribute("slot")&&(He.hidden=!0),he.call(this,He)})}},An=K=>{K.append=function(...he){he.forEach(Se=>{"string"==typeof Se&&(Se=this.ownerDocument.createTextNode(Se)),this.appendChild(Se)})}},rr=K=>{const he=K.insertAdjacentHTML;K.insertAdjacentHTML=function(Se,He){if("afterbegin"!==Se&&"beforeend"!==Se)return he.call(this,Se,He);const bt=this.ownerDocument.createElement("_");let Et;if(bt.innerHTML=He,"afterbegin"===Se)for(;Et=bt.firstChild;)this.prepend(Et);else if("beforeend"===Se)for(;Et=bt.firstChild;)this.append(Et)}},Yn=K=>{K.insertAdjacentText=function(he,Se){this.insertAdjacentHTML(he,Se)}},yi=K=>{const he=K.insertAdjacentElement;K.insertAdjacentElement=function(Se,He){return"afterbegin"!==Se&&"beforeend"!==Se?he.call(this,Se,He):"afterbegin"===Se?(this.prepend(He),He):("beforeend"===Se&&this.append(He),He)}},zi=K=>{const he=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(K,"__textContent",he),Object.defineProperty(K,"textContent",{get(){return" "+Ln(this.childNodes).map(bt=>{var Et,Yt;const on=[];let Zt=bt.nextSibling;for(;Zt&&Zt["s-sn"]===bt["s-sn"];)(3===Zt.nodeType||1===Zt.nodeType)&&on.push(null!=(Yt=null==(Et=Zt.textContent)?void 0:Et.trim())?Yt:""),Zt=Zt.nextSibling;return on.filter(cn=>""!==cn).join(" ")}).filter(bt=>""!==bt).join(" ")+" "},set(Se){Ln(this.childNodes).forEach(bt=>{let Et=bt.nextSibling;for(;Et&&Et["s-sn"]===bt["s-sn"];){const Yt=Et;Et=Et.nextSibling,Yt.remove()}if(""===bt["s-sn"]){const Yt=this.ownerDocument.createTextNode(Se);Yt["s-sn"]="",ye(bt.parentElement,Yt,bt.nextSibling)}else bt.remove()})}})},Ii=(K,he)=>{class Se extends Array{item(bt){return this[bt]}}if(8&he.$flags$){const He=K.__lookupGetter__("childNodes");Object.defineProperty(K,"children",{get(){return this.childNodes.map(bt=>1===bt.nodeType)}}),Object.defineProperty(K,"childElementCount",{get:()=>K.children.length}),Object.defineProperty(K,"childNodes",{get(){const bt=He.call(this);if(!(1&ar.$flags$)&&2&Qr(this).$flags$){const Et=new Se;for(let Yt=0;Yt<bt.length;Yt++){const on=bt[Yt]["s-nr"];on&&Et.push(on)}return Et}return Se.from(bt)}})}},Ln=K=>{const he=[];for(const Se of Array.from(K))Se["s-sr"]&&he.push(Se),he.push(...Ln(Se.childNodes));return he},gi=K=>K["s-sn"]||1===K.nodeType&&K.getAttribute("slot")||"",Ki=(K,he,Se)=>{let bt,He=0;for(;He<K.length;He++)if(bt=K[He],bt["s-sr"]&&bt["s-sn"]===he&&bt["s-hn"]===Se||(bt=Ki(bt.childNodes,he,Se),bt))return bt;return null},Ei=(K,he)=>{const Se=[K];for(;(K=K.nextSibling)&&K["s-sn"]===he;)Se.push(K);return Se},jr=(K,he={})=>{var Se;const bt=[],Et=he.exclude||[],Yt=lr.customElements,on=Vr.head,Zt=on.querySelector("meta[charset]"),cn=Vr.createElement("style"),dn=[],kn=Vr.querySelectorAll(`[${te}]`);let zn,ir=!0,vr=0;for(Object.assign(ar,he),ar.$resourcesUrl$=new URL(he.resourcesUrl||"./",Vr.baseURI).href,ar.$flags$|=2;vr<kn.length;vr++)Pn(kn[vr].getAttribute(te),vt(kn[vr].innerHTML),!0);let qi=!1;if(K.map(Ar=>{Ar[1].map(er=>{var pr;const fi={$flags$:er[0],$tagName$:er[1],$members$:er[2],$listeners$:er[3]};4&fi.$flags$&&(qi=!0),fi.$members$=er[2],fi.$listeners$=er[3],fi.$attrsToReflect$=[],fi.$watchers$=null!=(pr=er[4])?pr:{};const ko=fi.$tagName$,rs=class extends HTMLElement{constructor(So){super(So),Fr(So=this,fi),1&fi.$flags$&&So.attachShadow({mode:"open",delegatesFocus:!!(16&fi.$flags$)})}connectedCallback(){zn&&(clearTimeout(zn),zn=null),ir?dn.push(this):ar.jmp(()=>(K=>{if(!(1&ar.$flags$)){const he=Qr(K),Se=he.$cmpMeta$,He=()=>{};if(1&he.$flags$)Er(K,he,Se.$listeners$),null!=he&&he.$lazyInstance$?to(he.$lazyInstance$):null!=he&&he.$onReadyPromise$&&he.$onReadyPromise$.then(()=>to(he.$lazyInstance$));else{let bt;if(he.$flags$|=1,bt=K.getAttribute(St),bt){if(1&Se.$flags$){const Et=Jn(K.shadowRoot,Se,K.getAttribute("s-mode"));K.classList.remove(Et+"-h",Et+"-s")}((K,he,Se,He)=>{const Et=K.shadowRoot,Yt=[],Zt=Et?[]:null,cn=He.$vnode$=Tn(he,null);ar.$orgLocNodes$||it(Vr.body,ar.$orgLocNodes$=new Map),K[St]=Se,K.removeAttribute(St),Ve(cn,Yt,[],Zt,K,K,Se),Yt.map(dn=>{const kn=dn.$hostId$+"."+dn.$nodeId$,zn=ar.$orgLocNodes$.get(kn),ir=dn.$elm$;zn&&Oo&&""===zn["s-en"]&&zn.parentNode.insertBefore(ir,zn.nextSibling),Et||(ir["s-hn"]=he,zn&&(ir["s-ol"]=zn,ir["s-ol"]["s-nr"]=ir)),ar.$orgLocNodes$.delete(kn)}),Et&&Zt.map(dn=>{dn&&Et.appendChild(dn)})})(K,Se.$tagName$,bt,he)}bt||12&Se.$flags$&&ne(K);{let Et=K;for(;Et=Et.parentNode||Et.host;)if(1===Et.nodeType&&Et.hasAttribute("s-id")&&Et["s-p"]||Et["s-p"]){lt(he,he.$ancestorComponent$=Et);break}}Se.$members$&&Object.entries(Se.$members$).map(([Et,[Yt]])=>{if(31&Yt&&K.hasOwnProperty(Et)){const on=K[Et];delete K[Et],K[Et]=on}}),ki(K,he,Se)}He()}})(this))}disconnectedCallback(){ar.jmp(()=>ke(this))}componentOnReady(){return Qr(this).$onReadyPromise$}};2&fi.$flags$&&((K,he)=>{re(K),Le(K),An(K),Nt(K),yi(K),rr(K),Yn(K),zi(K),Ii(K,he),Mt(K)})(rs.prototype,fi),fi.$lazyBundleId$=Ar[0],!Et.includes(ko)&&!Yt.get(ko)&&(bt.push(ko),Yt.define(ko,eo(rs,fi,1)))})}),bt.length>0&&(qi&&(cn.textContent+=an),cn.textContent+=bt+"{visibility:hidden}.hydrated{visibility:inherit}",cn.innerHTML.length)){cn.setAttribute("data-styles","");const Ar=null!=(Se=ar.$nonce$)?Se:Ke(Vr);null!=Ar&&cn.setAttribute("nonce",Ar),on.insertBefore(cn,Zt?Zt.nextSibling:on.firstChild)}ir=!1,dn.length?dn.map(Ar=>Ar.connectedCallback()):ar.jmp(()=>zn=setTimeout(Xr,30))},Er=(K,he,Se,He)=>{Se&&Se.map(([bt,Et,Yt])=>{const on=si(K,bt),Zt=no(he,Yt),cn=Nr(bt);ar.ael(on,Et,Zt,cn),(he.$rmListeners$=he.$rmListeners$||[]).push(()=>ar.rel(on,Et,Zt,cn))})},no=(K,he)=>Se=>{try{256&K.$flags$?K.$lazyInstance$[he](Se):(K.$queuedListeners$=K.$queuedListeners$||[]).push([he,Se])}catch(He){Hi(He)}},si=(K,he)=>4&he?Vr:8&he?lr:16&he?Vr.body:K,Nr=K=>Go?{passive:!!(1&K),capture:!!(2&K)}:!!(2&K),Fi=new WeakMap,Qr=K=>Fi.get(K),hr=(K,he)=>Fi.set(he.$lazyInstance$=K,he),Fr=(K,he)=>{const Se={$flags$:0,$hostElement$:K,$cmpMeta$:he,$instanceValues$:new Map};return Se.$onInstancePromise$=new Promise(He=>Se.$onInstanceResolve$=He),Se.$onReadyPromise$=new Promise(He=>Se.$onReadyResolve$=He),K["s-p"]=[],K["s-rc"]=[],Er(K,Se,he.$listeners$),Fi.set(K,Se)},Li=(K,he)=>he in K,Hi=(K,he)=>(0,console.error)(K,he),Io=new Map,vi=(K,he,Se)=>{const He=K.$tagName$.replace(/-/g,"_"),bt=K.$lazyBundleId$,Et=Io.get(bt);return Et?Et[He]:O(8996)(`./${bt}.entry.js`).then(Yt=>(Io.set(bt,Yt),Yt[He]),Hi)},Ur=new Map,zr=[],lr=typeof window<"u"?window:{},Vr=lr.document||{head:{}},ar={$flags$:0,$resourcesUrl$:"",jmp:K=>K(),raf:K=>requestAnimationFrame(K),ael:(K,he,Se,He)=>K.addEventListener(he,Se,He),rel:(K,he,Se,He)=>K.removeEventListener(he,Se,He),ce:(K,he)=>new CustomEvent(K,he)},No=K=>{Object.assign(ar,K)},Oo=!0,Go=(()=>{let K=!1;try{Vr.addEventListener("e",null,Object.defineProperty({},"passive",{get(){K=!0}}))}catch{}return K})(),wo=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),ai=!1,S=[],Q=[],_e=(K,he)=>Se=>{K.push(Se),ai||(ai=!0,he&&4&ar.$flags$?ht(Ce):ar.raf(Ce))},x=K=>{for(let he=0;he<K.length;he++)try{K[he](performance.now())}catch(Se){Hi(Se)}K.length=0},Ce=()=>{x(S),x(Q),(ai=S.length>0)&&ar.raf(Ce)},ht=K=>Promise.resolve(void 0).then(K),mr=_e(S,!1),Ai=_e(Q,!0)},2725:(Dn,At,O)=>{"use strict";O.d(At,{b:()=>xe,c:()=>Qe,d:()=>Pe,e:()=>It,g:()=>J,l:()=>an,s:()=>Tn,t:()=>nt,w:()=>zt});var d=O(467),u=O(3664),N=O(9672),Te=O(4929),de=O(4920);const xe="ionViewWillLeave",Qe="ionViewDidLeave",Pe="ionViewWillUnload",ve=B=>{B.tabIndex=-1,B.focus()},qe=B=>null!==B.offsetParent,We="ion-last-focus",rt_saveViewFocus=H=>{if(u.c.get("focusManagerPriority",!1)){const Ve=document.activeElement;null!==Ve&&null!=H&&H.contains(Ve)&&Ve.setAttribute(We,"true")}},rt_setViewFocus=H=>{const Ee=u.c.get("focusManagerPriority",!1);if(Array.isArray(Ee)&&!H.contains(document.activeElement)){const Ve=H.querySelector(`[${We}]`);if(Ve&&qe(Ve))return void ve(Ve);for(const it of Ee)switch(it){case"content":const Me=H.querySelector('main, [role="main"]');if(Me&&qe(Me))return void ve(Me);break;case"heading":const Xe=H.querySelector('h1, [role="heading"][aria-level="1"]');if(Xe&&qe(Xe))return void ve(Xe);break;case"banner":const jt=H.querySelector('header, [role="banner"]');if(jt&&qe(jt))return void ve(jt);break;default:(0,Te.p)(`Unrecognized focus manager priority value ${it}`)}ve(H)}},nt=B=>new Promise((R,H)=>{(0,N.w)(()=>{Tt(B),tt(B).then(Ee=>{Ee.animation&&Ee.animation.destroy(),et(B),R(Ee)},Ee=>{et(B),H(Ee)})})}),Tt=B=>{const R=B.enteringEl,H=B.leavingEl;rt_saveViewFocus(H),$e(R,H,B.direction),B.showGoBack?R.classList.add("can-go-back"):R.classList.remove("can-go-back"),Tn(R,!1),R.style.setProperty("pointer-events","none"),H&&(Tn(H,!1),H.style.setProperty("pointer-events","none"))},tt=function(){var B=(0,d.A)(function*(R){const H=yield we(R);return H&&N.B.isBrowser?Ge(H,R):ze(R)});return function(H){return B.apply(this,arguments)}}(),et=B=>{const R=B.enteringEl,H=B.leavingEl;R.classList.remove("ion-page-invisible"),R.style.removeProperty("pointer-events"),void 0!==H&&(H.classList.remove("ion-page-invisible"),H.style.removeProperty("pointer-events")),rt_setViewFocus(R)},we=function(){var B=(0,d.A)(function*(R){return R.leavingEl&&R.animated&&0!==R.duration?R.animationBuilder?R.animationBuilder:"ios"===R.mode?(yield Promise.resolve().then(O.bind(O,8454))).iosTransitionAnimation:(yield Promise.resolve().then(O.bind(O,3314))).mdTransitionAnimation:void 0});return function(H){return B.apply(this,arguments)}}(),Ge=function(){var B=(0,d.A)(function*(R,H){yield dt(H,!0);const Ee=R(H.baseEl,H);Dt(H.enteringEl,H.leavingEl);const Ve=yield te(Ee,H);return H.progressCallback&&H.progressCallback(void 0),Ve&&wt(H.enteringEl,H.leavingEl),{hasCompleted:Ve,animation:Ee}});return function(H,Ee){return B.apply(this,arguments)}}(),ze=function(){var B=(0,d.A)(function*(R){const H=R.enteringEl,Ee=R.leavingEl,Ve=u.c.get("focusManagerPriority",!1);return yield dt(R,Ve),Dt(H,Ee),wt(H,Ee),{hasCompleted:!0}});return function(H){return B.apply(this,arguments)}}(),dt=function(){var B=(0,d.A)(function*(R,H){(void 0!==R.deepWait?R.deepWait:H)&&(yield Promise.all([It(R.enteringEl),It(R.leavingEl)])),yield St(R.viewIsReady,R.enteringEl)});return function(H,Ee){return B.apply(this,arguments)}}(),St=function(){var B=(0,d.A)(function*(R,H){R&&(yield R(H))});return function(H,Ee){return B.apply(this,arguments)}}(),te=(B,R)=>{const H=R.progressCallback,Ee=new Promise(Ve=>{B.onFinish(it=>Ve(1===it))});return H?(B.progressStart(!0),H(B)):B.play(),Ee},Dt=(B,R)=>{an(R,xe),an(B,"ionViewWillEnter")},wt=(B,R)=>{an(B,"ionViewDidEnter"),an(R,Qe)},an=(B,R)=>{if(B){const H=new CustomEvent(R,{bubbles:!1,cancelable:!1});B.dispatchEvent(H)}},zt=()=>new Promise(B=>(0,de.r)(()=>(0,de.r)(()=>B()))),It=function(){var B=(0,d.A)(function*(R){const H=R;if(H){if(null!=H.componentOnReady){if(null!=(yield H.componentOnReady()))return}else if(null!=H.__registerHost)return void(yield new Promise(Ve=>(0,de.r)(Ve)));yield Promise.all(Array.from(H.children).map(It))}});return function(H){return B.apply(this,arguments)}}(),Tn=(B,R)=>{R?(B.setAttribute("aria-hidden","true"),B.classList.add("ion-page-hidden")):(B.hidden=!1,B.removeAttribute("aria-hidden"),B.classList.remove("ion-page-hidden"))},$e=(B,R,H)=>{void 0!==B&&(B.style.zIndex="back"===H?"99":"101"),void 0!==R&&(R.style.zIndex="100")},J=B=>B.classList.contains("ion-page")?B:B.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||B},4929:(Dn,At,O)=>{"use strict";O.d(At,{a:()=>u,b:()=>N,p:()=>d});const d=(Te,...de)=>console.warn(`[Ionic Warning]: ${Te}`,...de),u=(Te,...de)=>console.error(`[Ionic Error]: ${Te}`,...de),N=(Te,...de)=>console.error(`<${Te.tagName.toLowerCase()}> must be used inside ${de.join(" or ")}.`)},8476:(Dn,At,O)=>{"use strict";O.d(At,{d:()=>u,w:()=>d});const d=typeof window<"u"?window:void 0,u=typeof document<"u"?document:void 0},3664:(Dn,At,O)=>{"use strict";O.d(At,{a:()=>ve,b:()=>Tn,c:()=>N,i:()=>$e});var d=O(9672);class u{constructor(){this.m=new Map}reset(B){this.m=new Map(Object.entries(B))}get(B,R){const H=this.m.get(B);return void 0!==H?H:R}getBoolean(B,R=!1){const H=this.m.get(B);return void 0===H?R:"string"==typeof H?"true"===H:!!H}getNumber(B,R){const H=parseFloat(this.m.get(B));return isNaN(H)?void 0!==R?R:NaN:H}set(B,R){this.m.set(B,R)}}const N=new u,Qe="ionic-persist-config",ve=(J,B)=>("string"==typeof J&&(B=J,J=void 0),(J=>qe(J))(J).includes(B)),qe=(J=window)=>{if(typeof J>"u")return[];J.Ionic=J.Ionic||{};let B=J.Ionic.platforms;return null==B&&(B=J.Ionic.platforms=Ke(J),B.forEach(R=>J.document.documentElement.classList.add(`plt-${R}`))),B},Ke=J=>{const B=N.get("platform");return Object.keys(zt).filter(R=>{const H=null==B?void 0:B[R];return"function"==typeof H?H(J):zt[R](J)})},Ye=J=>!!(wt(J,/iPad/i)||wt(J,/Macintosh/i)&&we(J)),nt=J=>wt(J,/android|sink/i),we=J=>an(J,"(any-pointer:coarse)"),ze=J=>dt(J)||St(J),dt=J=>!!(J.cordova||J.phonegap||J.PhoneGap),St=J=>{const B=J.Capacitor;return!(null==B||!B.isNative)},wt=(J,B)=>B.test(J.navigator.userAgent),an=(J,B)=>{var R;return null===(R=J.matchMedia)||void 0===R?void 0:R.call(J,B).matches},zt={ipad:Ye,iphone:J=>wt(J,/iPhone/i),ios:J=>wt(J,/iPhone|iPod/i)||Ye(J),android:nt,phablet:J=>{const B=J.innerWidth,R=J.innerHeight,H=Math.min(B,R),Ee=Math.max(B,R);return H>390&&H<520&&Ee>620&&Ee<800},tablet:J=>{const B=J.innerWidth,R=J.innerHeight,H=Math.min(B,R),Ee=Math.max(B,R);return Ye(J)||(J=>nt(J)&&!wt(J,/mobile/i))(J)||H>460&&H<820&&Ee>780&&Ee<1400},cordova:dt,capacitor:St,electron:J=>wt(J,/electron/i),pwa:J=>{var B;return!!(null!==(B=J.matchMedia)&&void 0!==B&&B.call(J,"(display-mode: standalone)").matches||J.navigator.standalone)},mobile:we,mobileweb:J=>we(J)&&!ze(J),desktop:J=>!we(J),hybrid:ze};let It;const Tn=J=>J&&(0,d.g)(J)||It,$e=(J={})=>{if(typeof window>"u")return;const B=window.document,R=window,H=R.Ionic=R.Ionic||{},Ee={};J._ael&&(Ee.ael=J._ael),J._rel&&(Ee.rel=J._rel),J._ce&&(Ee.ce=J._ce),(0,d.a)(Ee);const Ve=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(J=>{try{const B=J.sessionStorage.getItem(Qe);return null!==B?JSON.parse(B):{}}catch{return{}}})(R)),{persistConfig:!1}),H.config),(J=>{const B={};return J.location.search.slice(1).split("&").map(R=>R.split("=")).map(([R,H])=>{try{return[decodeURIComponent(R),decodeURIComponent(H)]}catch{return["",""]}}).filter(([R])=>((J,B)=>J.substr(0,B.length)===B)(R,"ionic:")).map(([R,H])=>[R.slice(6),H]).forEach(([R,H])=>{B[R]=H}),B})(R)),J);N.reset(Ve),N.getBoolean("persistConfig")&&((J,B)=>{try{J.sessionStorage.setItem(Qe,JSON.stringify(B))}catch{return}})(R,Ve),qe(R),H.config=N,H.mode=It=N.get("mode",B.documentElement.getAttribute("mode")||(ve(R,"ios")?"ios":"md")),N.set("mode",It),B.documentElement.setAttribute("mode",It),B.documentElement.classList.add(It),N.getBoolean("_testing")&&N.set("animated",!1);const it=Xe=>{var jt;return null===(jt=Xe.tagName)||void 0===jt?void 0:jt.startsWith("ION-")},Me=Xe=>["ios","md"].includes(Xe);(0,d.c)(Xe=>{for(;Xe;){const jt=Xe.mode||Xe.getAttribute("mode");if(jt){if(Me(jt))return jt;it(Xe)&&console.warn('Invalid ionic mode: "'+jt+'", expected: "ios" or "md"')}Xe=Xe.parentElement}return It})}},8454:(Dn,At,O)=>{"use strict";O.r(At),O.d(At,{iosTransitionAnimation:()=>We,shadow:()=>xe});var d=O(9986),u=O(2725);O(8476),O(3664),O(9672);const ce=ct=>document.querySelector(`${ct}.ion-cloned-element`),xe=ct=>ct.shadowRoot||ct,Qe=ct=>{const rt="ION-TABS"===ct.tagName?ct:ct.querySelector("ion-tabs"),nt="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=rt){const Tt=rt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Tt?Tt.querySelector(nt):null}return ct.querySelector(nt)},Pe=(ct,rt)=>{const nt="ION-TABS"===ct.tagName?ct:ct.querySelector("ion-tabs");let Tt=[];if(null!=nt){const tt=nt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=tt&&(Tt=tt.querySelectorAll("ion-buttons"))}else Tt=ct.querySelectorAll("ion-buttons");for(const tt of Tt){const et=tt.closest("ion-header"),we=et&&!et.classList.contains("header-collapse-condense-inactive"),Ge=tt.querySelector("ion-back-button"),ze=tt.classList.contains("buttons-collapse");if(null!==Ge&&("start"===tt.slot||""===tt.slot)&&(ze&&we&&rt||!ze))return Ge}return null},qe=(ct,rt,nt,Tt,tt,et,we,Ge,ze)=>{var dt,St;const te=rt?`calc(100% - ${tt.right+4}px)`:tt.left-4+"px",Dt=rt?"right":"left",wt=rt?"left":"right",an=rt?"right":"left";let zt=1,It=1,Tn=`scale(${It})`;const $e="scale(1)";if(et&&we){const Ft=(null===(dt=et.textContent)||void 0===dt?void 0:dt.trim())===(null===(St=Ge.textContent)||void 0===St?void 0:St.trim());zt=ze.width/we.width,It=(ze.height-Ye)/we.height,Tn=Ft?`scale(${zt}, ${It})`:`scale(${It})`}const B=xe(Tt).querySelector("ion-icon").getBoundingClientRect(),R=rt?B.width/2-(B.right-tt.right)+"px":tt.left-B.width/2+"px",H=rt?`-${window.innerWidth-tt.right}px`:`${tt.left}px`,Ee=`${ze.top}px`,Ve=`${tt.top}px`,Xe=nt?[{offset:0,transform:`translate3d(${H}, ${Ve}, 0)`},{offset:1,transform:`translate3d(${R}, ${Ee}, 0)`}]:[{offset:0,transform:`translate3d(${R}, ${Ee}, 0)`},{offset:1,transform:`translate3d(${H}, ${Ve}, 0)`}],Lt=nt?[{offset:0,opacity:1,transform:$e},{offset:1,opacity:0,transform:Tn}]:[{offset:0,opacity:0,transform:Tn},{offset:1,opacity:1,transform:$e}],Jt=nt?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],Pn=(0,d.c)(),Jn=(0,d.c)(),bn=(0,d.c)(),nn=ce("ion-back-button"),vt=xe(nn).querySelector(".button-text"),pt=xe(nn).querySelector("ion-icon");nn.text=Tt.text,nn.mode=Tt.mode,nn.icon=Tt.icon,nn.color=Tt.color,nn.disabled=Tt.disabled,nn.style.setProperty("display","block"),nn.style.setProperty("position","fixed"),Jn.addElement(pt),Pn.addElement(vt),bn.addElement(nn),bn.beforeStyles({position:"absolute",top:"0px",[an]:"0px"}).beforeAddWrite(()=>{Tt.style.setProperty("display","none"),nn.style.setProperty(Dt,te)}).afterAddWrite(()=>{Tt.style.setProperty("display",""),nn.style.setProperty("display","none"),nn.style.removeProperty(Dt)}).keyframes(Xe),Pn.beforeStyles({"transform-origin":`${Dt} top`}).keyframes(Lt),Jn.beforeStyles({"transform-origin":`${wt} center`}).keyframes(Jt),ct.addAnimation([Pn,Jn,bn])},Ke=(ct,rt,nt,Tt,tt,et,we,Ge,ze)=>{var dt,St;const te=rt?"right":"left",Dt=rt?`calc(100% - ${tt.right}px)`:`${tt.left}px`,an=`${tt.top}px`;let It=rt?`-${window.innerWidth-we.right-8}px`:`${we.x+8}px`,Tn=.5;const $e="scale(1)";let J=`scale(${Tn})`;if(Ge&&ze){It=rt?`-${window.innerWidth-ze.right-8}px`:ze.x-8+"px";const jt=(null===(dt=Ge.textContent)||void 0===dt?void 0:dt.trim())===(null===(St=Tt.textContent)||void 0===St?void 0:St.trim());Tn=ze.height/(et.height-Ye),J=jt?`scale(${ze.width/et.width}, ${Tn})`:`scale(${Tn})`}const H=we.top+we.height/2-tt.height*Tn/2+"px",it=nt?[{offset:0,opacity:0,transform:`translate3d(${It}, ${H}, 0) ${J}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${an}, 0) ${$e}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${an}, 0) ${$e}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${It}, ${H}, 0) ${J}`}],Me=ce("ion-title"),Xe=(0,d.c)();Me.innerText=Tt.innerText,Me.size=Tt.size,Me.color=Tt.color,Xe.addElement(Me),Xe.beforeStyles({"transform-origin":`${te} top`,height:`${tt.height}px`,display:"",position:"relative",[te]:Dt}).beforeAddWrite(()=>{Tt.style.setProperty("opacity","0")}).afterAddWrite(()=>{Tt.style.setProperty("opacity",""),Me.style.setProperty("display","none")}).keyframes(it),ct.addAnimation(Xe)},We=(ct,rt)=>{var nt;try{const Tt="cubic-bezier(0.32,0.72,0,1)",tt="opacity",et="transform",we="0%",ze="rtl"===ct.ownerDocument.dir,dt=ze?"-99.5%":"99.5%",St=ze?"33%":"-33%",te=rt.enteringEl,Dt=rt.leavingEl,wt="back"===rt.direction,an=te.querySelector(":scope > ion-content"),zt=te.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),It=te.querySelectorAll(":scope > ion-header > ion-toolbar"),Tn=(0,d.c)(),$e=(0,d.c)();if(Tn.addElement(te).duration((null!==(nt=rt.duration)&&void 0!==nt?nt:0)||540).easing(rt.easing||Tt).fill("both").beforeRemoveClass("ion-page-invisible"),Dt&&null!=ct){const H=(0,d.c)();H.addElement(ct),Tn.addAnimation(H)}if(an||0!==It.length||0!==zt.length?($e.addElement(an),$e.addElement(zt)):$e.addElement(te.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Tn.addAnimation($e),wt?$e.beforeClearStyles([tt]).fromTo("transform",`translateX(${St})`,`translateX(${we})`).fromTo(tt,.8,1):$e.beforeClearStyles([tt]).fromTo("transform",`translateX(${dt})`,`translateX(${we})`),an){const H=xe(an).querySelector(".transition-effect");if(H){const Ee=H.querySelector(".transition-cover"),Ve=H.querySelector(".transition-shadow"),it=(0,d.c)(),Me=(0,d.c)(),Xe=(0,d.c)();it.addElement(H).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Me.addElement(Ee).beforeClearStyles([tt]).fromTo(tt,0,.1),Xe.addElement(Ve).beforeClearStyles([tt]).fromTo(tt,.03,.7),it.addAnimation([Me,Xe]),$e.addAnimation([it])}}const J=te.querySelector("ion-header.header-collapse-condense"),{forward:B,backward:R}=((ct,rt,nt,Tt,tt)=>{const et=Pe(Tt,nt),we=Qe(tt),Ge=Qe(Tt),ze=Pe(tt,nt),dt=null!==et&&null!==we&&!nt,St=null!==Ge&&null!==ze&&nt;if(dt){const te=we.getBoundingClientRect(),Dt=et.getBoundingClientRect(),wt=xe(et).querySelector(".button-text"),an=null==wt?void 0:wt.getBoundingClientRect(),It=xe(we).querySelector(".toolbar-title").getBoundingClientRect();Ke(ct,rt,nt,we,te,It,Dt,wt,an),qe(ct,rt,nt,et,Dt,wt,an,we,It)}else if(St){const te=Ge.getBoundingClientRect(),Dt=ze.getBoundingClientRect(),wt=xe(ze).querySelector(".button-text"),an=null==wt?void 0:wt.getBoundingClientRect(),It=xe(Ge).querySelector(".toolbar-title").getBoundingClientRect();Ke(ct,rt,nt,Ge,te,It,Dt,wt,an),qe(ct,rt,nt,ze,Dt,wt,an,Ge,It)}return{forward:dt,backward:St}})(Tn,ze,wt,te,Dt);if(It.forEach(H=>{const Ee=(0,d.c)();Ee.addElement(H),Tn.addAnimation(Ee);const Ve=(0,d.c)();Ve.addElement(H.querySelector("ion-title"));const it=(0,d.c)(),Me=Array.from(H.querySelectorAll("ion-buttons,[menuToggle]")),Xe=H.closest("ion-header"),jt=null==Xe?void 0:Xe.classList.contains("header-collapse-condense-inactive");let ft;ft=Me.filter(wt?Pn=>{const Jn=Pn.classList.contains("buttons-collapse");return Jn&&!jt||!Jn}:Pn=>!Pn.classList.contains("buttons-collapse")),it.addElement(ft);const Lt=(0,d.c)();Lt.addElement(H.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const gn=(0,d.c)();gn.addElement(xe(H).querySelector(".toolbar-background"));const Sn=(0,d.c)(),Jt=H.querySelector("ion-back-button");if(Jt&&Sn.addElement(Jt),Ee.addAnimation([Ve,it,Lt,gn,Sn]),it.fromTo(tt,.01,1),Lt.fromTo(tt,.01,1),wt)jt||Ve.fromTo("transform",`translateX(${St})`,`translateX(${we})`).fromTo(tt,.01,1),Lt.fromTo("transform",`translateX(${St})`,`translateX(${we})`),Sn.fromTo(tt,.01,1);else if(J||Ve.fromTo("transform",`translateX(${dt})`,`translateX(${we})`).fromTo(tt,.01,1),Lt.fromTo("transform",`translateX(${dt})`,`translateX(${we})`),gn.beforeClearStyles([tt,"transform"]),(null==Xe?void 0:Xe.translucent)?gn.fromTo("transform",ze?"translateX(-100%)":"translateX(100%)","translateX(0px)"):gn.fromTo(tt,.01,"var(--opacity)"),B||Sn.fromTo(tt,.01,1),Jt&&!B){const Jn=(0,d.c)();Jn.addElement(xe(Jt).querySelector(".button-text")).fromTo("transform",ze?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Ee.addAnimation(Jn)}}),Dt){const H=(0,d.c)(),Ee=Dt.querySelector(":scope > ion-content"),Ve=Dt.querySelectorAll(":scope > ion-header > ion-toolbar"),it=Dt.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Ee||0!==Ve.length||0!==it.length?(H.addElement(Ee),H.addElement(it)):H.addElement(Dt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Tn.addAnimation(H),wt){H.beforeClearStyles([tt]).fromTo("transform",`translateX(${we})`,ze?"translateX(-100%)":"translateX(100%)");const Me=(0,u.g)(Dt);Tn.afterAddWrite(()=>{"normal"===Tn.getDirection()&&Me.style.setProperty("display","none")})}else H.fromTo("transform",`translateX(${we})`,`translateX(${St})`).fromTo(tt,1,.8);if(Ee){const Me=xe(Ee).querySelector(".transition-effect");if(Me){const Xe=Me.querySelector(".transition-cover"),jt=Me.querySelector(".transition-shadow"),ft=(0,d.c)(),Lt=(0,d.c)(),gn=(0,d.c)();ft.addElement(Me).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Lt.addElement(Xe).beforeClearStyles([tt]).fromTo(tt,.1,0),gn.addElement(jt).beforeClearStyles([tt]).fromTo(tt,.7,.03),ft.addAnimation([Lt,gn]),H.addAnimation([ft])}}Ve.forEach(Me=>{const Xe=(0,d.c)();Xe.addElement(Me);const jt=(0,d.c)();jt.addElement(Me.querySelector("ion-title"));const ft=(0,d.c)(),Lt=Me.querySelectorAll("ion-buttons,[menuToggle]"),gn=Me.closest("ion-header"),Sn=null==gn?void 0:gn.classList.contains("header-collapse-condense-inactive"),Jt=Array.from(Lt).filter(pt=>{const Ft=pt.classList.contains("buttons-collapse");return Ft&&!Sn||!Ft});ft.addElement(Jt);const Pn=(0,d.c)(),Jn=Me.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Jn.length>0&&Pn.addElement(Jn);const bn=(0,d.c)();bn.addElement(xe(Me).querySelector(".toolbar-background"));const nn=(0,d.c)(),vt=Me.querySelector("ion-back-button");if(vt&&nn.addElement(vt),Xe.addAnimation([jt,ft,Pn,nn,bn]),Tn.addAnimation(Xe),nn.fromTo(tt,.99,0),ft.fromTo(tt,.99,0),Pn.fromTo(tt,.99,0),wt){if(Sn||jt.fromTo("transform",`translateX(${we})`,ze?"translateX(-100%)":"translateX(100%)").fromTo(tt,.99,0),Pn.fromTo("transform",`translateX(${we})`,ze?"translateX(-100%)":"translateX(100%)"),bn.beforeClearStyles([tt,"transform"]),(null==gn?void 0:gn.translucent)?bn.fromTo("transform","translateX(0px)",ze?"translateX(-100%)":"translateX(100%)"):bn.fromTo(tt,"var(--opacity)",0),vt&&!R){const Ft=(0,d.c)();Ft.addElement(xe(vt).querySelector(".button-text")).fromTo("transform",`translateX(${we})`,`translateX(${(ze?-124:124)+"px"})`),Xe.addAnimation(Ft)}}else Sn||jt.fromTo("transform",`translateX(${we})`,`translateX(${St})`).fromTo(tt,.99,0).afterClearStyles([et,tt]),Pn.fromTo("transform",`translateX(${we})`,`translateX(${St})`).afterClearStyles([et,tt]),nn.afterClearStyles([tt]),jt.afterClearStyles([tt]),ft.afterClearStyles([tt])})}return Tn}catch(Tt){throw Tt}},Ye=10},3314:(Dn,At,O)=>{"use strict";O.r(At),O.d(At,{mdTransitionAnimation:()=>Be});var d=O(9986),u=O(2725);O(8476),O(3664),O(9672);const Be=(ce,xe)=>{var Qe,Pe,ve;const We="back"===xe.direction,ct=xe.leavingEl,rt=(0,u.g)(xe.enteringEl),nt=rt.querySelector("ion-toolbar"),Tt=(0,d.c)();if(Tt.addElement(rt).fill("both").beforeRemoveClass("ion-page-invisible"),We?Tt.duration((null!==(Qe=xe.duration)&&void 0!==Qe?Qe:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Tt.duration((null!==(Pe=xe.duration)&&void 0!==Pe?Pe:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),nt){const tt=(0,d.c)();tt.addElement(nt),Tt.addAnimation(tt)}if(ct&&We){Tt.duration((null!==(ve=xe.duration)&&void 0!==ve?ve:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const tt=(0,d.c)();tt.addElement((0,u.g)(ct)).onFinish(et=>{1===et&&tt.elements.length>0&&tt.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Tt.addAnimation(tt)}return Tt}},6002:(Dn,At,O)=>{"use strict";O.d(At,{B:()=>Lt,F:()=>nn,G:()=>gn,O:()=>Sn,a:()=>rt,b:()=>nt,c:()=>we,d:()=>Jt,e:()=>Pn,f:()=>B,g:()=>H,h:()=>it,i:()=>Xe,j:()=>ze,k:()=>dt,l:()=>Tt,m:()=>tt,n:()=>Pe,o:()=>$e,q:()=>ve,s:()=>ft});var d=O(467),u=O(8476),N=O(4920),Te=O(6411),de=O(3664),Be=O(8621),ce=O(1970),xe=O(4929);const Qe='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Pe=(vt,pt)=>{const Ft=vt.querySelector(Qe);qe(Ft,null!=pt?pt:vt)},ve=(vt,pt)=>{const Ft=Array.from(vt.querySelectorAll(Qe));qe(Ft.length>0?Ft[Ft.length-1]:null,null!=pt?pt:vt)},qe=(vt,pt)=>{let Ft=vt;const rn=null==vt?void 0:vt.shadowRoot;rn&&(Ft=rn.querySelector(Qe)||vt),Ft?(0,N.f)(Ft):pt.focus()};let Ke=0,We=0;const Ye=new WeakMap,ct=vt=>({create:pt=>St(vt,pt),dismiss:(pt,Ft,rn)=>zt(document,pt,Ft,vt,rn),getTop:()=>(0,d.A)(function*(){return $e(document,vt)})()}),rt=ct("ion-alert"),nt=ct("ion-action-sheet"),Tt=ct("ion-loading"),tt=ct("ion-modal"),we=ct("ion-popover"),ze=vt=>{typeof document<"u"&&an(document);const pt=Ke++;vt.overlayIndex=pt},dt=vt=>(vt.hasAttribute("id")||(vt.id="ion-overlay-"+ ++We),vt.id),St=(vt,pt)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(vt).then(()=>{const Ft=document.createElement(vt);return Ft.classList.add("overlay-hidden"),Object.assign(Ft,Object.assign(Object.assign({},pt),{hasController:!0})),Ee(document).appendChild(Ft),new Promise(rn=>(0,N.c)(Ft,rn))}):Promise.resolve(),Dt=(vt,pt)=>{let Ft=vt;const rn=null==vt?void 0:vt.shadowRoot;rn&&(Ft=rn.querySelector(Qe)||vt),Ft?(0,N.f)(Ft):pt.focus()},an=vt=>{0===Ke&&(Ke=1,vt.addEventListener("focus",pt=>{((vt,pt)=>{const Ft=$e(pt,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),rn=vt.target;Ft&&rn&&!Ft.classList.contains(nn)&&(Ft.shadowRoot?(()=>{if(Ft.contains(rn))Ft.lastFocus=rn;else if("ION-TOAST"===rn.tagName)Dt(Ft.lastFocus,Ft);else{const Wn=Ft.lastFocus;Pe(Ft),Wn===pt.activeElement&&ve(Ft),Ft.lastFocus=pt.activeElement}})():(()=>{if(Ft===rn)Ft.lastFocus=void 0;else if("ION-TOAST"===rn.tagName)Dt(Ft.lastFocus,Ft);else{const Wn=(0,N.g)(Ft);if(!Wn.contains(rn))return;const wn=Wn.querySelector(".ion-overlay-wrapper");if(!wn)return;if(wn.contains(rn)||rn===Wn.querySelector("ion-backdrop"))Ft.lastFocus=rn;else{const hn=Ft.lastFocus;Pe(wn,Ft),hn===pt.activeElement&&ve(wn,Ft),Ft.lastFocus=pt.activeElement}}})())})(pt,vt)},!0),vt.addEventListener("ionBackButton",pt=>{const Ft=$e(vt);null!=Ft&&Ft.backdropDismiss&&pt.detail.register(Te.OVERLAY_BACK_BUTTON_PRIORITY,()=>{Ft.dismiss(void 0,Lt)})}),(0,Te.shouldUseCloseWatcher)()||vt.addEventListener("keydown",pt=>{if("Escape"===pt.key){const Ft=$e(vt);null!=Ft&&Ft.backdropDismiss&&Ft.dismiss(void 0,Lt)}}))},zt=(vt,pt,Ft,rn,Qt)=>{const or=$e(vt,rn,Qt);return or?or.dismiss(pt,Ft):Promise.reject("overlay does not exist")},Tn=(vt,pt)=>((vt,pt)=>(void 0===pt&&(pt="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(vt.querySelectorAll(pt)).filter(Ft=>Ft.overlayIndex>0)))(vt,pt).filter(Ft=>!(vt=>vt.classList.contains("overlay-hidden"))(Ft)),$e=(vt,pt,Ft)=>{const rn=Tn(vt,pt);return void 0===Ft?rn[rn.length-1]:rn.find(Qt=>Qt.id===Ft)},J=(vt=!1)=>{const Ft=Ee(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Ft&&(vt?Ft.setAttribute("aria-hidden","true"):Ft.removeAttribute("aria-hidden"))},B=function(){var vt=(0,d.A)(function*(pt,Ft,rn,Qt,or){var Wn,wn;if(pt.presented)return;J(!0),document.body.classList.add(ce.B),Jn(pt.el),pt.presented=!0,pt.willPresent.emit(),null===(Wn=pt.willPresentShorthand)||void 0===Wn||Wn.emit();const hn=(0,de.b)(pt),Un=pt.enterAnimation?pt.enterAnimation:de.c.get(Ft,"ios"===hn?rn:Qt);(yield Ve(pt,Un,pt.el,or))&&(pt.didPresent.emit(),null===(wn=pt.didPresentShorthand)||void 0===wn||wn.emit()),"ION-TOAST"!==pt.el.tagName&&R(pt.el),pt.keyboardClose&&(null===document.activeElement||!pt.el.contains(document.activeElement))&&pt.el.focus(),pt.el.removeAttribute("aria-hidden")});return function(Ft,rn,Qt,or,Wn){return vt.apply(this,arguments)}}(),R=function(){var vt=(0,d.A)(function*(pt){let Ft=document.activeElement;if(!Ft)return;const rn=null==Ft?void 0:Ft.shadowRoot;rn&&(Ft=rn.querySelector(Qe)||Ft),yield pt.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&Ft.focus()});return function(Ft){return vt.apply(this,arguments)}}(),H=function(){var vt=(0,d.A)(function*(pt,Ft,rn,Qt,or,Wn,wn){var hn,Un;if(!pt.presented)return!1;void 0!==u.d&&1===Tn(u.d).length&&(J(!1),document.body.classList.remove(ce.B)),pt.presented=!1;try{pt.el.style.setProperty("pointer-events","none"),pt.willDismiss.emit({data:Ft,role:rn}),null===(hn=pt.willDismissShorthand)||void 0===hn||hn.emit({data:Ft,role:rn});const ur=(0,de.b)(pt),Br=pt.leaveAnimation?pt.leaveAnimation:de.c.get(Qt,"ios"===ur?or:Wn);rn!==gn&&(yield Ve(pt,Br,pt.el,wn)),pt.didDismiss.emit({data:Ft,role:rn}),null===(Un=pt.didDismissShorthand)||void 0===Un||Un.emit({data:Ft,role:rn}),(Ye.get(pt)||[]).forEach(Ir=>Ir.destroy()),Ye.delete(pt),pt.el.classList.add("overlay-hidden"),pt.el.style.removeProperty("pointer-events"),void 0!==pt.el.lastFocus&&(pt.el.lastFocus=void 0)}catch(ur){console.error(ur)}return pt.el.remove(),bn(),!0});return function(Ft,rn,Qt,or,Wn,wn,hn){return vt.apply(this,arguments)}}(),Ee=vt=>vt.querySelector("ion-app")||vt.body,Ve=function(){var vt=(0,d.A)(function*(pt,Ft,rn,Qt){rn.classList.remove("overlay-hidden");const Wn=Ft(pt.el,Qt);(!pt.animated||!de.c.getBoolean("animated",!0))&&Wn.duration(0),pt.keyboardClose&&Wn.beforeAddWrite(()=>{const hn=rn.ownerDocument.activeElement;null!=hn&&hn.matches("input,ion-input, ion-textarea")&&hn.blur()});const wn=Ye.get(pt)||[];return Ye.set(pt,[...wn,Wn]),yield Wn.play(),!0});return function(Ft,rn,Qt,or){return vt.apply(this,arguments)}}(),it=(vt,pt)=>{let Ft;const rn=new Promise(Qt=>Ft=Qt);return Me(vt,pt,Qt=>{Ft(Qt.detail)}),rn},Me=(vt,pt,Ft)=>{const rn=Qt=>{(0,N.b)(vt,pt,rn),Ft(Qt)};(0,N.a)(vt,pt,rn)},Xe=vt=>"cancel"===vt||vt===Lt,jt=vt=>vt(),ft=(vt,pt)=>{if("function"==typeof vt)return de.c.get("_zoneGate",jt)(()=>{try{return vt(pt)}catch(rn){throw rn}})},Lt="backdrop",gn="gesture",Sn=39,Jt=vt=>{let Ft,pt=!1;const rn=(0,Be.C)(),Qt=(wn=!1)=>{if(Ft&&!wn)return{delegate:Ft,inline:pt};const{el:hn,hasController:Un,delegate:tr}=vt;return pt=null!==hn.parentNode&&!Un,Ft=pt?tr||rn:tr,{inline:pt,delegate:Ft}};return{attachViewToDom:function(){var wn=(0,d.A)(function*(hn){const{delegate:Un}=Qt(!0);if(Un)return yield Un.attachViewToDom(vt.el,hn);const{hasController:tr}=vt;if(tr&&void 0!==hn)throw new Error("framework delegate is missing");return null});return function(Un){return wn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:wn}=Qt();wn&&void 0!==vt.el&&wn.removeViewFromDom(vt.el.parentElement,vt.el)}}},Pn=()=>{let vt;const pt=()=>{vt&&(vt(),vt=void 0)};return{addClickListener:(rn,Qt)=>{pt();const or=void 0!==Qt?document.getElementById(Qt):null;or?vt=((wn,hn)=>{const Un=()=>{hn.present()};return wn.addEventListener("click",Un),()=>{wn.removeEventListener("click",Un)}})(or,rn):(0,xe.p)(`A trigger element with the ID "${Qt}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,rn)},removeClickListener:pt}},Jn=vt=>{var pt;if(void 0===u.d)return;const Ft=Tn(u.d);for(let rn=Ft.length-1;rn>=0;rn--){const Qt=Ft[rn],or=null!==(pt=Ft[rn+1])&&void 0!==pt?pt:vt;(or.hasAttribute("aria-hidden")||"ION-TOAST"!==or.tagName)&&Qt.setAttribute("aria-hidden","true")}},bn=()=>{if(void 0===u.d)return;const vt=Tn(u.d);for(let pt=vt.length-1;pt>=0;pt--){const Ft=vt[pt];if(Ft.removeAttribute("aria-hidden"),"ION-TOAST"!==Ft.tagName)break}},nn="ion-disable-focus-trap"},9457:(Dn,At,O)=>{"use strict";var d=O(345),u=O(4438),N=O(4964),Te=O(2872),de=O(7863);let Be=(()=>{var j;class U{constructor(){}}return(j=U).\u0275fac=function(Oe){return new(Oe||j)},j.\u0275cmp=u.VBU({type:j,selectors:[["app-root"]],decls:2,vars:0,template:function(Oe,gt){1&Oe&&(u.j41(0,"ion-app"),u.nrm(1,"ion-router-outlet"),u.k0s())},dependencies:[de.U1,de.Rg]}),U})();var ce=O(9842),xe=O(5407),Qe=O(2214);class Pe{constructor(U){return U}}class ve{constructor(){return(0,Qe.Dk)()}}const We=new u.nKC("angularfire2._apps"),Ye={provide:Pe,useFactory:function Ke(j){return j&&1===j.length?j[0]:new Pe((0,Qe.Sx)())},deps:[[new u.Xx1,We]]},ct={provide:ve,deps:[[new u.Xx1,We]]};function rt(j){return(U,me)=>{const Oe=me.get(u.Agw);(0,Qe.KO)("angularfire",xe.xv.full,"core"),(0,Qe.KO)("angularfire",xe.xv.full,"app"),(0,Qe.KO)("angular",u.xvI.full,Oe.toString());const gt=U.runOutsideAngular(()=>j(me));return new Pe(gt)}}function Tt(j,...U){return(0,u.EmA)([Ye,ct,{provide:We,useFactory:rt(j),multi:!0,deps:[u.SKi,u.zZn,xe.u0,...U]}])}const Ge=(0,xe.S3)(Qe.Wp,!0);var Dt=O(4033),wt=O(7852),an=O(1076),It=(O(8041),O(1362)),Tn=O(1985);function J(j){return new Tn.c(function(U){return{unsubscribe:(0,Dt.w)(j,U.next.bind(U),U.error.bind(U),U.complete.bind(U))}})}const R="auth";class H{constructor(U){return U}}class Ee{constructor(){return(0,xe.CA)(R)}}const it=new u.nKC("angularfire2.auth-instances");function Xe(j){return(U,me)=>{const Oe=U.runOutsideAngular(()=>j(me));return new H(Oe)}}const jt={provide:Ee,deps:[[new u.Xx1,it]]},ft={provide:H,useFactory:function Me(j,U){const me=(0,xe.lR)(R,j,U);return me&&new H(me)},deps:[[new u.Xx1,it],Pe]};function gn(j,...U){return(0,Qe.KO)("angularfire",xe.xv.full,"auth"),(0,u.EmA)([ft,jt,{provide:it,useFactory:Xe(j),multi:!0,deps:[u.SKi,u.zZn,xe.u0,ve,[new u.Xx1,xe.Jv],...U]}])}const Jt=(0,xe.S3)(J,!0),Wn=(0,xe.S3)(Dt.o,!0);var $t=O(1203),ne=O(6354),ee=O(6697);const ke=(0,ne.T)(j=>!!j);let oe=(()=>{var j;class U{constructor(Oe,gt){(0,ce.A)(this,"router",void 0),(0,ce.A)(this,"auth",void 0),(0,ce.A)(this,"canActivate",(Wt,mn)=>{const Gn=Wt.data.authGuardPipe||(()=>ke);return Jt(this.auth).pipe((0,ee.s)(1),Gn(Wt,mn),(0,ne.T)(Hn=>"boolean"==typeof Hn?Hn:Array.isArray(Hn)?this.router.createUrlTree(Hn):this.router.parseUrl(Hn)))}),this.router=Oe,this.auth=gt}}return j=U,(0,ce.A)(U,"\u0275fac",function(Oe){return new(Oe||j)(u.KVO(N.Ix),u.KVO(H))}),(0,ce.A)(U,"\u0275prov",u.jDH({token:j,factory:j.\u0275fac,providedIn:"any"})),U})();const re=j=>({canActivate:[oe],data:{authGuardPipe:j}}),gi=[{path:"",loadChildren:()=>Promise.all([O.e(2076),O.e(6688)]).then(O.bind(O,6688)).then(j=>j.LoginPageModule),...re(()=>{return j=["/chat"],(0,$t.F)(ke,(0,ne.T)(U=>U&&j||!0));var j})},{path:"chat",...re(()=>{return j=["/"],(0,$t.F)(ke,(0,ne.T)(U=>U||j));var j}),loadChildren:()=>Promise.all([O.e(2076),O.e(6903)]).then(O.bind(O,6903)).then(j=>j.ChatPageModule)}];let Ki=(()=>{var j;class U{}return(j=U).\u0275fac=function(Oe){return new(Oe||j)},j.\u0275mod=u.$C({type:j}),j.\u0275inj=u.G2t({imports:[N.iI.forRoot(gi,{preloadingStrategy:N.Kp}),N.iI]}),U})();var Ei=O(9253),jr=O(7673),Er=O(8455),no=O(3236),si=O(9974),Nr=O(4360),Fi=O(5558),Qr=O(3345),hr=O(467);const Fr="firebasestorage.googleapis.com",Li="storageBucket";class Ur extends an.g{constructor(U,me,Oe=0){super(lr(U),`Firebase Storage: ${me} (${lr(U)})`),this.status_=Oe,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ur.prototype)}get status(){return this.status_}set status(U){this.status_=U}_codeEquals(U){return lr(U)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(U){this.customData.serverResponse=U,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var zr=function(j){return j.UNKNOWN="unknown",j.OBJECT_NOT_FOUND="object-not-found",j.BUCKET_NOT_FOUND="bucket-not-found",j.PROJECT_NOT_FOUND="project-not-found",j.QUOTA_EXCEEDED="quota-exceeded",j.UNAUTHENTICATED="unauthenticated",j.UNAUTHORIZED="unauthorized",j.UNAUTHORIZED_APP="unauthorized-app",j.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",j.INVALID_CHECKSUM="invalid-checksum",j.CANCELED="canceled",j.INVALID_EVENT_NAME="invalid-event-name",j.INVALID_URL="invalid-url",j.INVALID_DEFAULT_BUCKET="invalid-default-bucket",j.NO_DEFAULT_BUCKET="no-default-bucket",j.CANNOT_SLICE_BLOB="cannot-slice-blob",j.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",j.NO_DOWNLOAD_URL="no-download-url",j.INVALID_ARGUMENT="invalid-argument",j.INVALID_ARGUMENT_COUNT="invalid-argument-count",j.APP_DELETED="app-deleted",j.INVALID_ROOT_OPERATION="invalid-root-operation",j.INVALID_FORMAT="invalid-format",j.INTERNAL_ERROR="internal-error",j.UNSUPPORTED_ENVIRONMENT="unsupported-environment",j}(zr||{});function lr(j){return"storage/"+j}function Vr(){return new Ur(zr.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Ri(){return new Ur(zr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function wo(){return new Ur(zr.CANCELED,"User canceled the upload/download.")}function _e(){return new Ur(zr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function mr(j){return new Ur(zr.INVALID_ARGUMENT,j)}function Ai(){return new Ur(zr.APP_DELETED,"The Firebase app was deleted.")}function K(j){return new Ur(zr.INVALID_ROOT_OPERATION,"The operation '"+j+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function he(j,U){return new Ur(zr.INVALID_FORMAT,"String does not match format '"+j+"': "+U)}function Se(j){throw new Ur(zr.INTERNAL_ERROR,"Internal error: "+j)}class He{constructor(U,me){this.bucket=U,this.path_=me}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const U=encodeURIComponent;return"/b/"+U(this.bucket)+"/o/"+U(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(U,me){let Oe;try{Oe=He.makeFromUrl(U,me)}catch{return new He(U,"")}if(""===Oe.path)return Oe;throw function S(j){return new Ur(zr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+j+"'.")}(U)}static makeFromUrl(U,me){let Oe=null;const gt="([A-Za-z0-9.\\-_]+)",Gn=new RegExp("^gs://"+gt+"(/(.*))?$","i");function yr(Co){Co.path_=decodeURIComponent(Co.path)}const Bi=me.replace(/[.]/g,"\\."),ns=[{regex:Gn,indices:{bucket:1,path:3},postModify:function Wt(Co){"/"===Co.path.charAt(Co.path.length-1)&&(Co.path_=Co.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Bi}/v[A-Za-z0-9_]+/b/${gt}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:yr},{regex:new RegExp(`^https?://${me===Fr?"(?:storage.googleapis.com|storage.cloud.google.com)":me}/${gt}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:yr}];for(let Co=0;Co<ns.length;Co++){const fa=ns[Co],Al=fa.regex.exec(U);if(Al){let ba=Al[fa.indices.path];ba||(ba=""),Oe=new He(Al[fa.indices.bucket],ba),fa.postModify(Oe);break}}if(null==Oe)throw function ai(j){return new Ur(zr.INVALID_URL,"Invalid URL '"+j+"'.")}(U);return Oe}}class bt{constructor(U){this.promise_=Promise.reject(U)}getPromise(){return this.promise_}cancel(U=!1){}}function dn(j){return"string"==typeof j||j instanceof String}function kn(j){return zn()&&j instanceof Blob}function zn(){return typeof Blob<"u"}function ir(j,U,me,Oe){if(Oe<U)throw mr(`Invalid value for '${j}'. Expected ${U} or greater.`);if(Oe>me)throw mr(`Invalid value for '${j}'. Expected ${me} or less.`)}function vr(j,U,me){let Oe=U;return null==me&&(Oe=`https://${U}`),`${me}://${Oe}/v0${j}`}function qi(j){const U=encodeURIComponent;let me="?";for(const Oe in j)j.hasOwnProperty(Oe)&&(me=me+(U(Oe)+"=")+U(j[Oe])+"&");return me=me.slice(0,-1),me}var Ar=function(j){return j[j.NO_ERROR=0]="NO_ERROR",j[j.NETWORK_ERROR=1]="NETWORK_ERROR",j[j.ABORT=2]="ABORT",j}(Ar||{});function er(j,U){const me=j>=500&&j<600,gt=-1!==[408,429].indexOf(j),Wt=-1!==U.indexOf(j);return me||gt||Wt}class pr{constructor(U,me,Oe,gt,Wt,mn,Gn,Hn,yr,Kr,Bi,Gi=!0){this.url_=U,this.method_=me,this.headers_=Oe,this.body_=gt,this.successCodes_=Wt,this.additionalRetryCodes_=mn,this.callback_=Gn,this.errorCallback_=Hn,this.timeout_=yr,this.progressCallback_=Kr,this.connectionFactory_=Bi,this.retry=Gi,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((co,bi)=>{this.resolve_=co,this.reject_=bi,this.start_()})}start_(){const me=(Oe,gt)=>{const Wt=this.resolve_,mn=this.reject_,Gn=gt.connection;if(gt.wasSuccessCode)try{const Hn=this.callback_(Gn,Gn.getResponse());!function on(j){return void 0!==j}(Hn)?Wt():Wt(Hn)}catch(Hn){mn(Hn)}else if(null!==Gn){const Hn=Vr();Hn.serverResponse=Gn.getErrorText(),mn(this.errorCallback_?this.errorCallback_(Gn,Hn):Hn)}else mn(gt.canceled?this.appDelete_?Ai():wo():Ri())};this.canceled_?me(0,new fi(!1,null,!0)):this.backoffId_=function Et(j,U,me){let Oe=1,gt=null,Wt=null,mn=!1,Gn=0;function Hn(){return 2===Gn}let yr=!1;function Kr(...oo){yr||(yr=!0,U.apply(null,oo))}function Bi(oo){gt=setTimeout(()=>{gt=null,j(co,Hn())},oo)}function Gi(){Wt&&clearTimeout(Wt)}function co(oo,...ia){if(yr)return void Gi();if(oo)return Gi(),void Kr.call(null,oo,...ia);if(Hn()||mn)return Gi(),void Kr.call(null,oo,...ia);let ns;Oe<64&&(Oe*=2),1===Gn?(Gn=2,ns=0):ns=1e3*(Oe+Math.random()),Bi(ns)}let bi=!1;function Ho(oo){bi||(bi=!0,Gi(),!yr&&(null!==gt?(oo||(Gn=2),clearTimeout(gt),Bi(0)):oo||(Gn=1)))}return Bi(0),Wt=setTimeout(()=>{mn=!0,Ho(!0)},me),Ho}((Oe,gt)=>{if(gt)return void Oe(!1,new fi(!1,null,!0));const Wt=this.connectionFactory_();this.pendingConnection_=Wt;const mn=Gn=>{null!==this.progressCallback_&&this.progressCallback_(Gn.loaded,Gn.lengthComputable?Gn.total:-1)};null!==this.progressCallback_&&Wt.addUploadProgressListener(mn),Wt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Wt.removeUploadProgressListener(mn),this.pendingConnection_=null;const Gn=Wt.getErrorCode()===Ar.NO_ERROR,Hn=Wt.getStatus();if(!Gn||er(Hn,this.additionalRetryCodes_)&&this.retry){const Kr=Wt.getErrorCode()===Ar.ABORT;return void Oe(!1,new fi(!1,null,Kr))}const yr=-1!==this.successCodes_.indexOf(Hn);Oe(!0,new fi(yr,Wt))})},me,this.timeout_)}getPromise(){return this.promise_}cancel(U){this.canceled_=!0,this.appDelete_=U||!1,null!==this.backoffId_&&function Yt(j){j(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class fi{constructor(U,me,Oe){this.wasSuccessCode=U,this.connection=me,this.canceled=!!Oe}}function Sa(...j){const U=function ao(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==U){const me=new U;for(let Oe=0;Oe<j.length;Oe++)me.append(j[Oe]);return me.getBlob()}if(zn())return new Blob(j);throw new Ur(zr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const pi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class fo{constructor(U,me){this.data=U,this.contentType=me||null}}function Or(j,U){switch(j){case pi.RAW:return new fo(Ns(U));case pi.BASE64:case pi.BASE64URL:return new fo(Ra(j,U));case pi.DATA_URL:return new fo(function _s(j){const U=new is(j);return U.base64?Ra(pi.BASE64,U.rest):function $a(j){let U;try{U=decodeURIComponent(j)}catch{throw he(pi.DATA_URL,"Malformed data URL.")}return Ns(U)}(U.rest)}(U),function po(j){return new is(j).contentType}(U))}throw Vr()}function Ns(j){const U=[];for(let me=0;me<j.length;me++){let Oe=j.charCodeAt(me);Oe<=127?U.push(Oe):Oe<=2047?U.push(192|Oe>>6,128|63&Oe):55296==(64512&Oe)?me<j.length-1&&56320==(64512&j.charCodeAt(me+1))?(Oe=65536|(1023&Oe)<<10|1023&j.charCodeAt(++me),U.push(240|Oe>>18,128|Oe>>12&63,128|Oe>>6&63,128|63&Oe)):U.push(239,191,189):56320==(64512&Oe)?U.push(239,191,189):U.push(224|Oe>>12,128|Oe>>6&63,128|63&Oe)}return new Uint8Array(U)}function Ra(j,U){switch(j){case pi.BASE64:{const gt=-1!==U.indexOf("-"),Wt=-1!==U.indexOf("_");if(gt||Wt)throw he(j,"Invalid character '"+(gt?"-":"_")+"' found: is it base64url encoded?");break}case pi.BASE64URL:{const gt=-1!==U.indexOf("+"),Wt=-1!==U.indexOf("/");if(gt||Wt)throw he(j,"Invalid character '"+(gt?"+":"/")+"' found: is it base64 encoded?");U=U.replace(/-/g,"+").replace(/_/g,"/");break}}let me;try{me=function Jo(j){if(typeof atob>"u")throw function ht(j){return new Ur(zr.UNSUPPORTED_ENVIRONMENT,`${j} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(j)}(U)}catch(gt){throw gt.message.includes("polyfill")?gt:he(j,"Invalid character found")}const Oe=new Uint8Array(me.length);for(let gt=0;gt<me.length;gt++)Oe[gt]=me.charCodeAt(gt);return Oe}class is{constructor(U){this.base64=!1,this.contentType=null;const me=U.match(/^data:([^,]+)?,/);if(null===me)throw he(pi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Oe=me[1]||null;null!=Oe&&(this.base64=function Ko(j,U){return j.length>=U.length&&j.substring(j.length-U.length)===U}(Oe,";base64"),this.contentType=this.base64?Oe.substring(0,Oe.length-7):Oe),this.rest=U.substring(U.indexOf(",")+1)}}class lo{constructor(U,me){let Oe=0,gt="";kn(U)?(this.data_=U,Oe=U.size,gt=U.type):U instanceof ArrayBuffer?(me?this.data_=new Uint8Array(U):(this.data_=new Uint8Array(U.byteLength),this.data_.set(new Uint8Array(U))),Oe=this.data_.length):U instanceof Uint8Array&&(me?this.data_=U:(this.data_=new Uint8Array(U.length),this.data_.set(U)),Oe=U.length),this.size_=Oe,this.type_=gt}size(){return this.size_}type(){return this.type_}slice(U,me){if(kn(this.data_)){const gt=function Fo(j,U,me){return j.webkitSlice?j.webkitSlice(U,me):j.mozSlice?j.mozSlice(U,me):j.slice?j.slice(U,me):null}(this.data_,U,me);return null===gt?null:new lo(gt)}{const Oe=new Uint8Array(this.data_.buffer,U,me-U);return new lo(Oe,!0)}}static getBlob(...U){if(zn()){const me=U.map(Oe=>Oe instanceof lo?Oe.data_:Oe);return new lo(Sa.apply(null,me))}{const me=U.map(mn=>dn(mn)?Or(pi.RAW,mn).data:mn.data_);let Oe=0;me.forEach(mn=>{Oe+=mn.byteLength});const gt=new Uint8Array(Oe);let Wt=0;return me.forEach(mn=>{for(let Gn=0;Gn<mn.length;Gn++)gt[Wt++]=mn[Gn]}),new lo(gt,!0)}}uploadData(){return this.data_}}function Lo(j){let U;try{U=JSON.parse(j)}catch{return null}return function cn(j){return"object"==typeof j&&!Array.isArray(j)}(U)?U:null}function yo(j){const U=j.lastIndexOf("/",j.length-2);return-1===U?j:j.slice(U+1)}function ys(j,U){return U}class Pi{constructor(U,me,Oe,gt){this.server=U,this.local=me||U,this.writable=!!Oe,this.xform=gt||ys}}let qs=null;function G(){if(qs)return qs;const j=[];j.push(new Pi("bucket")),j.push(new Pi("generation")),j.push(new Pi("metageneration")),j.push(new Pi("name","fullPath",!0));const me=new Pi("name");me.xform=function U(Wt,mn){return function aa(j){return!dn(j)||j.length<2?j:yo(j)}(mn)},j.push(me);const gt=new Pi("size");return gt.xform=function Oe(Wt,mn){return void 0!==mn?Number(mn):mn},j.push(gt),j.push(new Pi("timeCreated")),j.push(new Pi("updated")),j.push(new Pi("md5Hash",null,!0)),j.push(new Pi("cacheControl",null,!0)),j.push(new Pi("contentDisposition",null,!0)),j.push(new Pi("contentEncoding",null,!0)),j.push(new Pi("contentLanguage",null,!0)),j.push(new Pi("contentType",null,!0)),j.push(new Pi("metadata","customMetadata",!0)),qs=j,qs}function W(j,U,me){const Oe=Lo(U);return null===Oe?null:function Ie(j,U,me){const Oe={type:"file"},gt=me.length;for(let Wt=0;Wt<gt;Wt++){const mn=me[Wt];Oe[mn.local]=mn.xform(Oe,U[mn.server])}return function M(j,U){Object.defineProperty(j,"ref",{get:function me(){const Wt=new He(j.bucket,j.fullPath);return U._makeStorageReference(Wt)}})}(Oe,j),Oe}(j,Oe,me)}function sn(j,U){const me={},Oe=U.length;for(let gt=0;gt<Oe;gt++){const Wt=U[gt];Wt.writable&&(me[Wt.server]=j[Wt.local])}return JSON.stringify(me)}const Bn="prefixes",fr="items";class Xi{constructor(U,me,Oe,gt){this.url=U,this.method=me,this.handler=Oe,this.timeout=gt,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ro(j){if(!j)throw Vr()}function va(j,U){return function me(Oe,gt){const Wt=W(j,gt,U);return Ro(null!==Wt),Wt}}function Qi(j){return function U(me,Oe){let gt;return gt=401===me.getStatus()?me.getErrorText().includes("Firebase App Check token is invalid")?function Oo(){return new Ur(zr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function No(){return new Ur(zr.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===me.getStatus()?function ar(j){return new Ur(zr.QUOTA_EXCEEDED,"Quota for bucket '"+j+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(j.bucket):403===me.getStatus()?function Go(j){return new Ur(zr.UNAUTHORIZED,"User does not have permission to access '"+j+"'.")}(j.path):Oe,gt.status=me.getStatus(),gt.serverResponse=Oe.serverResponse,gt}}function la(j){const U=Qi(j);return function me(Oe,gt){let Wt=U(Oe,gt);return 404===Oe.getStatus()&&(Wt=function vs(j){return new Ur(zr.OBJECT_NOT_FOUND,"Object '"+j+"' does not exist.")}(j.path)),Wt.serverResponse=gt.serverResponse,Wt}}function Is(j,U,me){const gt=vr(U.fullServerUrl(),j.host,j._protocol),mn=j.maxOperationRetryTime,Gn=new Xi(gt,"GET",va(j,me),mn);return Gn.errorHandler=la(U),Gn}function Ba(j,U,me,Oe,gt){const Wt={};Wt.prefix=U.isRoot?"":U.path+"/",me&&me.length>0&&(Wt.delimiter=me),Oe&&(Wt.pageToken=Oe),gt&&(Wt.maxResults=gt);const Gn=vr(U.bucketOnlyServerUrl(),j.host,j._protocol),yr=j.maxOperationRetryTime,Kr=new Xi(Gn,"GET",function ds(j,U){return function me(Oe,gt){const Wt=function Vo(j,U,me){const Oe=Lo(me);return null===Oe?null:function go(j,U,me){const Oe={prefixes:[],items:[],nextPageToken:me.nextPageToken};if(me[Bn])for(const gt of me[Bn]){const Wt=gt.replace(/\/$/,""),mn=j._makeStorageReference(new He(U,Wt));Oe.prefixes.push(mn)}if(me[fr])for(const gt of me[fr]){const Wt=j._makeStorageReference(new He(U,gt.name));Oe.items.push(Wt)}return Oe}(j,U,Oe)}(j,U,gt);return Ro(null!==Wt),Wt}}(j,U.bucket),yr);return Kr.urlParams=Wt,Kr.errorHandler=Qi(U),Kr}function sr(j,U,me){const Oe=Object.assign({},me);return Oe.fullPath=j.path,Oe.size=U.size(),Oe.contentType||(Oe.contentType=function Uo(j,U){return j&&j.contentType||U&&U.type()||"application/octet-stream"}(null,U)),Oe}class Es{constructor(U,me,Oe,gt){this.current=U,this.total=me,this.finalized=!!Oe,this.metadata=gt||null}}function As(j,U){let me=null;try{me=j.getResponseHeader("X-Goog-Upload-Status")}catch{Ro(!1)}return Ro(!!me&&-1!==(U||["active"]).indexOf(me)),me}const Ma={STATE_CHANGED:"state_changed"},Yi={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Cs(j){switch(j){case"running":case"pausing":case"canceling":return Yi.RUNNING;case"paused":return Yi.PAUSED;case"success":return Yi.SUCCESS;case"canceled":return Yi.CANCELED;default:return Yi.ERROR}}class ua{constructor(U,me,Oe){if(function Zt(j){return"function"==typeof j}(U)||null!=me||null!=Oe)this.next=U,this.error=null!=me?me:void 0,this.complete=null!=Oe?Oe:void 0;else{const Wt=U;this.next=Wt.next,this.error=Wt.error,this.complete=Wt.complete}}}function Qs(j){return(...U)=>{Promise.resolve().then(()=>j(...U))}}let Os=null;class il{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ar.NO_ERROR,this.sendPromise_=new Promise(U=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ar.ABORT,U()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ar.NETWORK_ERROR,U()}),this.xhr_.addEventListener("load",()=>{U()})})}send(U,me,Oe,gt){if(this.sent_)throw Se("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(me,U,!0),void 0!==gt)for(const Wt in gt)gt.hasOwnProperty(Wt)&&this.xhr_.setRequestHeader(Wt,gt[Wt].toString());return void 0!==Oe?this.xhr_.send(Oe):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Se("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Se("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Se("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Se("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(U){return this.xhr_.getResponseHeader(U)}addUploadProgressListener(U){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",U)}removeUploadProgressListener(U){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",U)}}class _a extends il{initXhr(){this.xhr_.responseType="text"}}function qo(){return Os?Os():new _a}class Ci{constructor(U,me,Oe=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=U,this._blob=me,this._metadata=Oe,this._mappings=G(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=gt=>{if(this._request=void 0,this._chunkMultiplier=1,gt._codeEquals(zr.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const Wt=this.isExponentialBackoffExpired();if(er(gt.status,[])){if(!Wt)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();gt=Ri()}this._error=gt,this._transition("error")}},this._metadataErrorHandler=gt=>{this._request=void 0,gt._codeEquals(zr.CANCELED)?this.completeTransitions_():(this._error=gt,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((gt,Wt)=>{this._resolve=gt,this._reject=Wt,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const U=this._transferred;return me=>this._updateProgress(U+me)}_shouldDoResumable(U){return U.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(U){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([me,Oe])=>{switch(this._state){case"running":U(me,Oe);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((U,me)=>{const Oe=function xl(j,U,me,Oe,gt){const Wt=U.bucketOnlyServerUrl(),mn=sr(U,Oe,gt),Gn={name:mn.fullPath},Hn=vr(Wt,j.host,j._protocol),Kr={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${Oe.size()}`,"X-Goog-Upload-Header-Content-Type":mn.contentType,"Content-Type":"application/json; charset=utf-8"},Bi=sn(mn,me),bi=new Xi(Hn,"POST",function co(Ho){let oo;As(Ho);try{oo=Ho.getResponseHeader("X-Goog-Upload-URL")}catch{Ro(!1)}return Ro(dn(oo)),oo},j.maxUploadRetryTime);return bi.urlParams=Gn,bi.headers=Kr,bi.body=Bi,bi.errorHandler=Qi(U),bi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),gt=this._ref.storage._makeRequest(Oe,qo,U,me);this._request=gt,gt.getPromise().then(Wt=>{this._request=void 0,this._uploadUrl=Wt,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const U=this._uploadUrl;this._resolveToken((me,Oe)=>{const gt=function rl(j,U,me,Oe){const Hn=new Xi(me,"POST",function Wt(yr){const Kr=As(yr,["active","final"]);let Bi=null;try{Bi=yr.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ro(!1)}Bi||Ro(!1);const Gi=Number(Bi);return Ro(!isNaN(Gi)),new Es(Gi,Oe.size(),"final"===Kr)},j.maxUploadRetryTime);return Hn.headers={"X-Goog-Upload-Command":"query"},Hn.errorHandler=Qi(U),Hn}(this._ref.storage,this._ref._location,U,this._blob),Wt=this._ref.storage._makeRequest(gt,qo,me,Oe);this._request=Wt,Wt.getPromise().then(mn=>{this._request=void 0,this._updateProgress(mn.current),this._needToFetchStatus=!1,mn.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const U=262144*this._chunkMultiplier,me=new Es(this._transferred,this._blob.size()),Oe=this._uploadUrl;this._resolveToken((gt,Wt)=>{let mn;try{mn=function za(j,U,me,Oe,gt,Wt,mn,Gn){const Hn=new Es(0,0);if(mn?(Hn.current=mn.current,Hn.total=mn.total):(Hn.current=0,Hn.total=Oe.size()),Oe.size()!==Hn.total)throw function x(){return new Ur(zr.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const yr=Hn.total-Hn.current;let Kr=yr;gt>0&&(Kr=Math.min(Kr,gt));const Bi=Hn.current;let co="";co=0===Kr?"finalize":yr===Kr?"upload, finalize":"upload";const bi={"X-Goog-Upload-Command":co,"X-Goog-Upload-Offset":`${Hn.current}`},Ho=Oe.slice(Bi,Bi+Kr);if(null===Ho)throw _e();const ns=new Xi(me,"POST",function oo(Co,fa){const Al=As(Co,["active","final"]),Ya=Hn.current+Kr,ba=Oe.size();let Za;return Za="final"===Al?va(U,Wt)(Co,fa):null,new Es(Ya,ba,"final"===Al,Za)},U.maxUploadRetryTime);return ns.headers=bi,ns.body=Ho.uploadData(),ns.progressCallback=Gn||null,ns.errorHandler=Qi(j),ns}(this._ref._location,this._ref.storage,Oe,this._blob,U,this._mappings,me,this._makeProgressCallback())}catch(Hn){return this._error=Hn,void this._transition("error")}const Gn=this._ref.storage._makeRequest(mn,qo,gt,Wt,!1);this._request=Gn,Gn.getPromise().then(Hn=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Hn.current),Hn.finalized?(this._metadata=Hn.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((U,me)=>{const Oe=Is(this._ref.storage,this._ref._location,this._mappings),gt=this._ref.storage._makeRequest(Oe,qo,U,me);this._request=gt,gt.getPromise().then(Wt=>{this._request=void 0,this._metadata=Wt,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((U,me)=>{const Oe=function ja(j,U,me,Oe,gt){const Wt=U.bucketOnlyServerUrl(),mn={"X-Goog-Upload-Protocol":"multipart"},Hn=function Gn(){let ns="";for(let Co=0;Co<2;Co++)ns+=Math.random().toString().slice(2);return ns}();mn["Content-Type"]="multipart/related; boundary="+Hn;const yr=sr(U,Oe,gt),Kr=sn(yr,me),co=lo.getBlob("--"+Hn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Kr+"\r\n--"+Hn+"\r\nContent-Type: "+yr.contentType+"\r\n\r\n",Oe,"\r\n--"+Hn+"--");if(null===co)throw _e();const bi={name:yr.fullPath},Ho=vr(Wt,j.host,j._protocol),ia=j.maxUploadRetryTime,Da=new Xi(Ho,"POST",va(j,me),ia);return Da.urlParams=bi,Da.headers=mn,Da.body=co.uploadData(),Da.errorHandler=Qi(U),Da}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),gt=this._ref.storage._makeRequest(Oe,qo,U,me);this._request=gt,gt.getPromise().then(Wt=>{this._request=void 0,this._metadata=Wt,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(U){const me=this._transferred;this._transferred=U,this._transferred!==me&&this._notifyObservers()}_transition(U){if(this._state!==U)switch(U){case"canceling":case"pausing":this._state=U,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const me="paused"===this._state;this._state=U,me&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=U,this._notifyObservers();break;case"canceled":this._error=wo(),this._state=U,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const U=Cs(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:U,metadata:this._metadata,task:this,ref:this._ref}}on(U,me,Oe,gt){const Wt=new ua(me||void 0,Oe||void 0,gt||void 0);return this._addObserver(Wt),()=>{this._removeObserver(Wt)}}then(U,me){return this._promise.then(U,me)}catch(U){return this.then(null,U)}_addObserver(U){this._observers.push(U),this._notifyObserver(U)}_removeObserver(U){const me=this._observers.indexOf(U);-1!==me&&this._observers.splice(me,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(me=>{this._notifyObserver(me)})}_finishPromise(){if(void 0!==this._resolve){let U=!0;switch(Cs(this._state)){case Yi.SUCCESS:Qs(this._resolve.bind(null,this.snapshot))();break;case Yi.CANCELED:case Yi.ERROR:Qs(this._reject.bind(null,this._error))();break;default:U=!1}U&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(U){switch(Cs(this._state)){case Yi.RUNNING:case Yi.PAUSED:U.next&&Qs(U.next.bind(U,this.snapshot))();break;case Yi.SUCCESS:U.complete&&Qs(U.complete.bind(U))();break;default:U.error&&Qs(U.error.bind(U,this._error))()}}resume(){const U="paused"===this._state||"pausing"===this._state;return U&&this._transition("running"),U}pause(){const U="running"===this._state;return U&&this._transition("pausing"),U}cancel(){const U="running"===this._state||"pausing"===this._state;return U&&this._transition("canceling"),U}}class hs{constructor(U,me){this._service=U,this._location=me instanceof He?me:He.makeFromUrl(me,U.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(U,me){return new hs(U,me)}get root(){const U=new He(this._location.bucket,"");return this._newRef(this._service,U)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return yo(this._location.path)}get storage(){return this._service}get parent(){const U=function Eo(j){if(0===j.length)return null;const U=j.lastIndexOf("/");return-1===U?"":j.slice(0,U)}(this._location.path);if(null===U)return null;const me=new He(this._location.bucket,U);return new hs(this._service,me)}_throwIfRoot(U){if(""===this._location.path)throw K(U)}}function Ts(j,U,me){return $o.apply(this,arguments)}function $o(){return($o=(0,hr.A)(function*(j,U,me){const gt=yield Fs(j,{pageToken:me});U.prefixes.push(...gt.prefixes),U.items.push(...gt.items),null!=gt.nextPageToken&&(yield Ts(j,U,gt.nextPageToken))})).apply(this,arguments)}function Fs(j,U){null!=U&&"number"==typeof U.maxResults&&ir("options.maxResults",1,1e3,U.maxResults);const me=U||{},Oe=Ba(j.storage,j._location,"/",me.pageToken,me.maxResults);return j.storage.makeRequestWithTokens(Oe,qo)}function Js(j){j._throwIfRoot("getDownloadURL");const U=function xr(j,U,me){const gt=vr(U.fullServerUrl(),j.host,j._protocol),mn=j.maxOperationRetryTime,Gn=new Xi(gt,"GET",function lu(j,U){return function me(Oe,gt){const Wt=W(j,gt,U);return Ro(null!==Wt),function be(j,U,me,Oe){const gt=Lo(U);if(null===gt||!dn(gt.downloadTokens))return null;const Wt=gt.downloadTokens;if(0===Wt.length)return null;const mn=encodeURIComponent;return Wt.split(",").map(yr=>{const Bi=j.fullPath;return vr("/b/"+mn(j.bucket)+"/o/"+mn(Bi),me,Oe)+qi({alt:"media",token:yr})})[0]}(Wt,gt,j.host,j._protocol)}}(j,me),mn);return Gn.errorHandler=la(U),Gn}(j.storage,j._location,G());return j.storage.makeRequestWithTokens(U,qo).then(me=>{if(null===me)throw function Ce(){return new Ur(zr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return me})}function xa(j,U){const me=function Pa(j,U){const me=U.split("/").filter(Oe=>Oe.length>0).join("/");return 0===j.length?me:j+"/"+me}(j._location.path,U),Oe=new He(j._location.bucket,me);return new hs(j.storage,Oe)}function z(j,U){if(j instanceof je){const me=j;if(null==me._bucket)throw function Q(){return new Ur(zr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Li+"' property when initializing the app?")}();const Oe=new hs(me,me._bucket);return null!=U?z(Oe,U):Oe}return void 0!==U?xa(j,U):j}function Ne(j,U){if(U&&function os(j){return/^[A-Za-z]+:\/\//.test(j)}(U)){if(j instanceof je)return function C(j,U){return new hs(j,U)}(j,U);throw mr("To use ref(service, url), the first argument must be a Storage instance.")}return z(j,U)}function k(j,U){const me=null==U?void 0:U[Li];return null==me?null:He.makeFromBucketSpec(me,j)}class je{constructor(U,me,Oe,gt,Wt){this.app=U,this._authProvider=me,this._appCheckProvider=Oe,this._url=gt,this._firebaseVersion=Wt,this._bucket=null,this._host=Fr,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=gt?He.makeFromBucketSpec(gt,this._host):k(this._host,this.app.options)}get host(){return this._host}set host(U){this._host=U,this._bucket=null!=this._url?He.makeFromBucketSpec(this._url,U):k(U,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(U){ir("time",0,Number.POSITIVE_INFINITY,U),this._maxUploadRetryTime=U}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(U){ir("time",0,Number.POSITIVE_INFINITY,U),this._maxOperationRetryTime=U}_getAuthToken(){var U=this;return(0,hr.A)(function*(){if(U._overrideAuthToken)return U._overrideAuthToken;const me=U._authProvider.getImmediate({optional:!0});if(me){const Oe=yield me.getToken();if(null!==Oe)return Oe.accessToken}return null})()}_getAppCheckToken(){var U=this;return(0,hr.A)(function*(){const me=U._appCheckProvider.getImmediate({optional:!0});return me?(yield me.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(U=>U.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(U){return new hs(this,U)}_makeRequest(U,me,Oe,gt,Wt=!0){if(this._deleted)return new bt(Ai());{const mn=function ma(j,U,me,Oe,gt,Wt,mn=!0){const Gn=qi(j.urlParams),Hn=j.url+Gn,yr=Object.assign({},j.headers);return function So(j,U){U&&(j["X-Firebase-GMPID"]=U)}(yr,U),function ko(j,U){null!==U&&U.length>0&&(j.Authorization="Firebase "+U)}(yr,me),function rs(j,U){j["X-Firebase-Storage-Version"]="webjs/"+(null!=U?U:"AppManager")}(yr,Wt),function Ua(j,U){null!==U&&(j["X-Firebase-AppCheck"]=U)}(yr,Oe),new pr(Hn,j.method,yr,j.body,j.successCodes,j.additionalRetryCodes,j.handler,j.errorHandler,j.timeout,j.progressCallback,gt,mn)}(U,this._appId,Oe,gt,me,this._firebaseVersion,Wt);return this._requests.add(mn),mn.getPromise().then(()=>this._requests.delete(mn),()=>this._requests.delete(mn)),mn}}makeRequestWithTokens(U,me){var Oe=this;return(0,hr.A)(function*(){const[gt,Wt]=yield Promise.all([Oe._getAuthToken(),Oe._getAppCheckToken()]);return Oe._makeRequest(U,me,gt,Wt).getPromise()})()}}const Xt="@firebase/storage",br="storage";function xi(j,U){return Ne(j=(0,an.Ku)(j),U)}function mo(j=(0,wt.getApp)(),U){j=(0,an.Ku)(j);const Oe=(0,wt._getProvider)(j,br).getImmediate({identifier:U}),gt=(0,an.yU)("storage");return gt&&bs(Oe,...gt),Oe}function bs(j,U,me,Oe={}){!function ae(j,U,me,Oe={}){j.host=`${U}:${me}`,j._protocol="http";const{mockUserToken:gt}=Oe;gt&&(j._overrideAuthToken="string"==typeof gt?gt:(0,an.Fy)(gt,j.app.options.projectId))}(j,U,me,Oe)}function ea(j,{instanceIdentifier:U}){const me=j.getProvider("app").getImmediate(),Oe=j.getProvider("auth-internal"),gt=j.getProvider("app-check-internal");return new je(me,Oe,gt,U,wt.SDK_VERSION)}!function Tr(){(0,wt._registerComponent)(new It.uA(br,ea,"PUBLIC").setMultipleInstances(!0)),(0,wt.registerVersion)(Xt,"0.12.5",""),(0,wt.registerVersion)(Xt,"0.12.5","esm2017")}();class ss{constructor(U,me,Oe){this._delegate=U,this.task=me,this.ref=Oe}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Ls{constructor(U,me){this._delegate=U,this._ref=me,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new ss(this._delegate.snapshot,this,this._ref)}then(U,me){return this._delegate.then(Oe=>{if(U)return U(new ss(Oe,this,this._ref))},me)}on(U,me,Oe,gt){let Wt;return me&&(Wt="function"==typeof me?mn=>me(new ss(mn,this,this._ref)):{next:me.next?mn=>me.next(new ss(mn,this,this._ref)):void 0,complete:me.complete||void 0,error:me.error||void 0}),this._delegate.on(U,Wt,Oe||void 0,gt||void 0)}}class Na{constructor(U,me){this._delegate=U,this._service=me}get prefixes(){return this._delegate.prefixes.map(U=>new ti(U,this._service))}get items(){return this._delegate.items.map(U=>new ti(U,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ti{constructor(U,me){this._delegate=U,this.storage=me}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(U){const me=function _i(j,U){return xa(j,U)}(this._delegate,U);return new ti(me,this.storage)}get root(){return new ti(this._delegate.root,this.storage)}get parent(){const U=this._delegate.parent;return null==U?null:new ti(U,this.storage)}put(U,me){return this._throwIfRoot("put"),new Ls(function ei(j,U,me){return function Ia(j,U,me){return j._throwIfRoot("uploadBytesResumable"),new Ci(j,new lo(U),me)}(j=(0,an.Ku)(j),U,me)}(this._delegate,U,me),this)}putString(U,me=pi.RAW,Oe){this._throwIfRoot("putString");const gt=Or(me,U),Wt=Object.assign({},Oe);return null==Wt.contentType&&null!=gt.contentType&&(Wt.contentType=gt.contentType),new Ls(new Ci(this._delegate,new lo(gt.data,!0),Wt),this)}listAll(){return function En(j){return function sl(j){const U={prefixes:[],items:[]};return Ts(j,U).then(()=>U)}(j=(0,an.Ku)(j))}(this._delegate).then(U=>new Na(U,this.storage))}list(U){return function Zr(j,U){return Fs(j=(0,an.Ku)(j),U)}(this._delegate,U||void 0).then(me=>new Na(me,this.storage))}getMetadata(){return function Wr(j){return function Ea(j){j._throwIfRoot("getMetadata");const U=Is(j.storage,j._location,G());return j.storage.makeRequestWithTokens(U,qo)}(j=(0,an.Ku)(j))}(this._delegate)}updateMetadata(U){return function Vi(j,U){return function al(j,U){j._throwIfRoot("updateMetadata");const me=function Mi(j,U,me,Oe){const Wt=vr(U.fullServerUrl(),j.host,j._protocol),Gn=sn(me,Oe),yr=j.maxOperationRetryTime,Kr=new Xi(Wt,"PATCH",va(j,Oe),yr);return Kr.headers={"Content-Type":"application/json; charset=utf-8"},Kr.body=Gn,Kr.errorHandler=la(U),Kr}(j.storage,j._location,U,G());return j.storage.makeRequestWithTokens(me,qo)}(j=(0,an.Ku)(j),U)}(this._delegate,U)}getDownloadURL(){return function $n(j){return Js(j=(0,an.Ku)(j))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function ci(j){return function Ds(j){j._throwIfRoot("deleteObject");const U=function ro(j,U){const Oe=vr(U.fullServerUrl(),j.host,j._protocol),Gn=new Xi(Oe,"DELETE",function mn(Hn,yr){},j.maxOperationRetryTime);return Gn.successCodes=[200,204],Gn.errorHandler=la(U),Gn}(j.storage,j._location);return j.storage.makeRequestWithTokens(U,qo)}(j=(0,an.Ku)(j))}(this._delegate)}_throwIfRoot(U){if(""===this._delegate._location.path)throw K(U)}}class Jr{constructor(U,me){this.app=U,this._delegate=me}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(U){if(ca(U))throw mr("ref() expected a child path but got a URL, use refFromURL instead.");return new ti(xi(this._delegate,U),this)}refFromURL(U){if(!ca(U))throw mr("refFromURL() expected a full URL but got a child path, use ref() instead.");try{He.makeFromUrl(U,this._delegate.host)}catch{throw mr("refFromUrl() expected a valid full URL but got an invalid one.")}return new ti(xi(this._delegate,U),this)}setMaxUploadRetryTime(U){this._delegate.maxUploadRetryTime=U}setMaxOperationRetryTime(U){this._delegate.maxOperationRetryTime=U}useEmulator(U,me,Oe={}){bs(this._delegate,U,me,Oe)}}function ca(j){return/^[A-Za-z]+:\/\//.test(j)}function Ao(j,{instanceIdentifier:U}){const me=j.getProvider("app-compat").getImmediate(),Oe=j.getProvider("storage").getImmediate({identifier:U});return new Jr(me,Oe)}!function Wa(j){const U={TaskState:Yi,TaskEvent:Ma,StringFormat:pi,Storage:Jr,Reference:ti};j.INTERNAL.registerComponent(new It.uA("storage-compat",Ao,"PUBLIC").setServiceProps(U).setMultipleInstances(!0)),j.registerVersion("@firebase/storage-compat","0.3.8")}(Qr.A);var ws=O(7935);function ul(j){const U=function wr(j){return new Tn.c(U=>{const me=mn=>U.next(mn);me(j.snapshot);const Wt=j.on("state_changed",me);return j.then(mn=>{me(mn),U.complete()},mn=>{me(j.snapshot),(mn=>{U.error(mn)})(mn)}),function(){Wt()}}).pipe(function bo(j,U=no.E){return(0,si.N)((me,Oe)=>{let gt=null,Wt=null,mn=null;const Gn=()=>{if(gt){gt.unsubscribe(),gt=null;const yr=Wt;Wt=null,Oe.next(yr)}};function Hn(){const yr=mn+j,Kr=U.now();if(Kr<yr)return gt=this.schedule(void 0,yr-Kr),void Oe.add(gt);Gn()}me.subscribe((0,Nr._)(Oe,yr=>{Wt=yr,mn=U.now(),gt||(gt=U.schedule(Hn,j),Oe.add(gt))},()=>{Gn(),Oe.complete()},void 0,()=>{Wt=gt=null}))})}(0))}(j);return{task:j,then:j.then.bind(j),catch:j.catch.bind(j),pause:j.pause.bind(j),cancel:j.cancel.bind(j),resume:j.resume.bind(j),snapshotChanges:()=>U,percentageChanges:()=>U.pipe((0,ne.T)(me=>me.bytesTransferred/me.totalBytes*100))}}function Ss(j){return{getDownloadURL:()=>(0,jr.of)(void 0).pipe(xe.Oe,(0,Fi.n)(()=>j.getDownloadURL()),xe.U0),getMetadata:()=>(0,jr.of)(void 0).pipe(xe.Oe,(0,Fi.n)(()=>j.getMetadata()),xe.U0),delete:()=>(0,Er.H)(j.delete()),child:U=>Ss(j.child(U)),updateMetadata:U=>(0,Er.H)(j.updateMetadata(U)),put:(U,me)=>ul(j.put(U,me)),putString:(U,me,Oe)=>ul(j.putString(U,me,Oe)),list:U=>(0,Er.H)(j.list(U)),listAll:()=>(0,Er.H)(j.listAll())}}const Rs=new u.nKC("angularfire2.storageBucket"),io=new u.nKC("angularfire2.storage.maxUploadRetryTime"),cl=new u.nKC("angularfire2.storage.maxOperationRetryTime"),$i=new u.nKC("angularfire2.storage.use-emulator");let kl=(()=>{var j;class U{constructor(Oe,gt,Wt,mn,Gn,Hn,yr,Kr,Bi,Gi){(0,ce.A)(this,"storage",void 0);const co=(0,Ei.iB)(Oe,Gn,gt);this.storage=(0,Ei.BM)(`${co.name}.storage.${Wt}`,"AngularFireStorage",co.name,()=>{const bi=Gn.runOutsideAngular(()=>co.storage(Wt||void 0)),Ho=Bi;return Ho&&bi.useEmulator(...Ho),yr&&bi.setMaxUploadRetryTime(yr),Kr&&bi.setMaxOperationRetryTime(Kr),bi},[yr,Kr])}ref(Oe){return Ss(this.storage.ref(Oe))}refFromURL(Oe){return Ss(this.storage.refFromURL(Oe))}upload(Oe,gt,Wt){return Ss(this.storage.ref(Oe)).put(gt,Wt)}}return j=U,(0,ce.A)(U,"\u0275fac",function(Oe){return new(Oe||j)(u.KVO(Ei.rx),u.KVO(Ei.uP,8),u.KVO(Rs,8),u.KVO(u.Agw),u.KVO(u.SKi),u.KVO(xe.u0),u.KVO(io,8),u.KVO(cl,8),u.KVO($i,8),u.KVO(xe.Jv,8))}),(0,ce.A)(U,"\u0275prov",u.jDH({token:j,factory:j.\u0275fac,providedIn:"any"})),U})(),jo=(()=>{var j;class U{}return j=U,(0,ce.A)(U,"\u0275fac",function(Oe){return new(Oe||j)}),(0,ce.A)(U,"\u0275mod",u.$C({type:j})),(0,ce.A)(U,"\u0275inj",u.G2t({})),U})(),dl=(()=>{var j;class U{constructor(){ws.A.registerVersion("angularfire",xe.xv.full,"gcs-compat")}}return j=U,(0,ce.A)(U,"\u0275fac",function(Oe){return new(Oe||j)}),(0,ce.A)(U,"\u0275mod",u.$C({type:j})),(0,ce.A)(U,"\u0275inj",u.G2t({providers:[kl],imports:[jo]})),U})();var ta=O(3510),hl=O(2784);class Xo{constructor(U){return U}}const Ga="firestore",pl=new u.nKC("angularfire2.firestore-instances");function Aa(j){return(U,me)=>{const Oe=U.runOutsideAngular(()=>j(me));return new Xo(Oe)}}const Ka={provide:class fl{constructor(){return(0,xe.CA)(Ga)}},deps:[[new u.Xx1,pl]]},kd={provide:Xo,useFactory:function Us(j,U){const me=(0,xe.lR)(Ga,j,U);return me&&new Xo(me)},deps:[[new u.Xx1,pl],Pe]};function Ca(j,...U){return(0,Qe.KO)("angularfire",xe.xv.full,"fst"),(0,u.EmA)([kd,Ka,{provide:pl,useFactory:Aa(j),multi:!0,deps:[u.SKi,u.zZn,xe.u0,ve,[new u.Xx1,Ee],[new u.Xx1,xe.Jv],...U]}])}const Vl=(0,xe.S3)(hl.aU,!0);class ts{constructor(U){return U}}const da="storage",ha=new u.nKC("angularfire2.storage-instances");function Nu(j){return(U,me)=>{const Oe=U.runOutsideAngular(()=>j(me));return new ts(Oe)}}const Wd={provide:class Bl{constructor(){return(0,xe.CA)(da)}},deps:[[new u.Xx1,ha]]},cc={provide:ts,useFactory:function Hd(j,U){const me=(0,xe.lR)(da,j,U);return me&&new ts(me)},deps:[[new u.Xx1,ha],Pe]};function jl(j,...U){return(0,Qe.KO)("angularfire",xe.xv.full,"gcs"),(0,u.EmA)([cc,Wd,{provide:ha,useFactory:Nu(j),multi:!0,deps:[u.SKi,u.zZn,xe.u0,ve,[new u.Xx1,Ee],[new u.Xx1,xe.Jv],...U]}])}const Fu=(0,xe.S3)(mo,!0),gc_firebaseConfig={apiKey:"",authDomain:"",databaseURL:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""};let mc=(()=>{var j;class U{}return(j=U).\u0275fac=function(Oe){return new(Oe||j)},j.\u0275mod=u.$C({type:j,bootstrap:[Be]}),j.\u0275inj=u.G2t({providers:[{provide:N.b,useClass:Te.jM},Tt(()=>Ge(gc_firebaseConfig)),gn(()=>Wn()),Ca(()=>Vl()),jl(()=>Fu())],imports:[d.Bb,de.bv.forRoot(),Ki,Ei.bf.initializeApp(gc_firebaseConfig),ta.cM,dl]}),U})();(0,u.SmG)(),d.sG().bootstrapModule(mc).catch(j=>console.log(j))},4412:(Dn,At,O)=>{"use strict";O.d(At,{t:()=>u});var d=O(1413);class u extends d.B{constructor(Te){super(),this._value=Te}get value(){return this.getValue()}_subscribe(Te){const de=super._subscribe(Te);return!de.closed&&Te.next(this._value),de}getValue(){const{hasError:Te,thrownError:de,_value:Be}=this;if(Te)throw de;return this._throwIfClosed(),Be}next(Te){super.next(this._value=Te)}}},1985:(Dn,At,O)=>{"use strict";O.d(At,{c:()=>xe});var d=O(7707),u=O(8359),N=O(3494),Te=O(1203),de=O(1026),Be=O(8071),ce=O(9786);let xe=(()=>{class qe{constructor(We){We&&(this._subscribe=We)}lift(We){const Ye=new qe;return Ye.source=this,Ye.operator=We,Ye}subscribe(We,Ye,ct){const rt=function ve(qe){return qe&&qe instanceof d.vU||function Pe(qe){return qe&&(0,Be.T)(qe.next)&&(0,Be.T)(qe.error)&&(0,Be.T)(qe.complete)}(qe)&&(0,u.Uv)(qe)}(We)?We:new d.Ms(We,Ye,ct);return(0,ce.Y)(()=>{const{operator:nt,source:Tt}=this;rt.add(nt?nt.call(rt,Tt):Tt?this._subscribe(rt):this._trySubscribe(rt))}),rt}_trySubscribe(We){try{return this._subscribe(We)}catch(Ye){We.error(Ye)}}forEach(We,Ye){return new(Ye=Qe(Ye))((ct,rt)=>{const nt=new d.Ms({next:Tt=>{try{We(Tt)}catch(tt){rt(tt),nt.unsubscribe()}},error:rt,complete:ct});this.subscribe(nt)})}_subscribe(We){var Ye;return null===(Ye=this.source)||void 0===Ye?void 0:Ye.subscribe(We)}[N.s](){return this}pipe(...We){return(0,Te.m)(We)(this)}toPromise(We){return new(We=Qe(We))((Ye,ct)=>{let rt;this.subscribe(nt=>rt=nt,nt=>ct(nt),()=>Ye(rt))})}}return qe.create=Ke=>new qe(Ke),qe})();function Qe(qe){var Ke;return null!==(Ke=null!=qe?qe:de.$.Promise)&&void 0!==Ke?Ke:Promise}},1413:(Dn,At,O)=>{"use strict";O.d(At,{B:()=>ce});var d=O(1985),u=O(8359);const Te=(0,O(1853).L)(Qe=>function(){Qe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=O(7908),Be=O(9786);let ce=(()=>{class Qe extends d.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ve){const qe=new xe(this,this);return qe.operator=ve,qe}_throwIfClosed(){if(this.closed)throw new Te}next(ve){(0,Be.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const qe of this.currentObservers)qe.next(ve)}})}error(ve){(0,Be.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ve;const{observers:qe}=this;for(;qe.length;)qe.shift().error(ve)}})}complete(){(0,Be.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ve}=this;for(;ve.length;)ve.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ve;return(null===(ve=this.observers)||void 0===ve?void 0:ve.length)>0}_trySubscribe(ve){return this._throwIfClosed(),super._trySubscribe(ve)}_subscribe(ve){return this._throwIfClosed(),this._checkFinalizedStatuses(ve),this._innerSubscribe(ve)}_innerSubscribe(ve){const{hasError:qe,isStopped:Ke,observers:We}=this;return qe||Ke?u.Kn:(this.currentObservers=null,We.push(ve),new u.yU(()=>{this.currentObservers=null,(0,de.o)(We,ve)}))}_checkFinalizedStatuses(ve){const{hasError:qe,thrownError:Ke,isStopped:We}=this;qe?ve.error(Ke):We&&ve.complete()}asObservable(){const ve=new d.c;return ve.source=this,ve}}return Qe.create=(Pe,ve)=>new xe(Pe,ve),Qe})();class xe extends ce{constructor(Pe,ve){super(),this.destination=Pe,this.source=ve}next(Pe){var ve,qe;null===(qe=null===(ve=this.destination)||void 0===ve?void 0:ve.next)||void 0===qe||qe.call(ve,Pe)}error(Pe){var ve,qe;null===(qe=null===(ve=this.destination)||void 0===ve?void 0:ve.error)||void 0===qe||qe.call(ve,Pe)}complete(){var Pe,ve;null===(ve=null===(Pe=this.destination)||void 0===Pe?void 0:Pe.complete)||void 0===ve||ve.call(Pe)}_subscribe(Pe){var ve,qe;return null!==(qe=null===(ve=this.source)||void 0===ve?void 0:ve.subscribe(Pe))&&void 0!==qe?qe:u.Kn}}},7707:(Dn,At,O)=>{"use strict";O.d(At,{Ms:()=>ct,vU:()=>qe});var d=O(8071),u=O(8359),N=O(1026),Te=O(5334),de=O(5343);const Be=Qe("C",void 0,void 0);function Qe(et,we,Ge){return{kind:et,value:we,error:Ge}}var Pe=O(9270),ve=O(9786);class qe extends u.yU{constructor(we){super(),this.isStopped=!1,we?(this.destination=we,(0,u.Uv)(we)&&we.add(this)):this.destination=tt}static create(we,Ge,ze){return new ct(we,Ge,ze)}next(we){this.isStopped?Tt(function xe(et){return Qe("N",et,void 0)}(we),this):this._next(we)}error(we){this.isStopped?Tt(function ce(et){return Qe("E",void 0,et)}(we),this):(this.isStopped=!0,this._error(we))}complete(){this.isStopped?Tt(Be,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(we){this.destination.next(we)}_error(we){try{this.destination.error(we)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ke=Function.prototype.bind;function We(et,we){return Ke.call(et,we)}class Ye{constructor(we){this.partialObserver=we}next(we){const{partialObserver:Ge}=this;if(Ge.next)try{Ge.next(we)}catch(ze){rt(ze)}}error(we){const{partialObserver:Ge}=this;if(Ge.error)try{Ge.error(we)}catch(ze){rt(ze)}else rt(we)}complete(){const{partialObserver:we}=this;if(we.complete)try{we.complete()}catch(Ge){rt(Ge)}}}class ct extends qe{constructor(we,Ge,ze){let dt;if(super(),(0,d.T)(we)||!we)dt={next:null!=we?we:void 0,error:null!=Ge?Ge:void 0,complete:null!=ze?ze:void 0};else{let St;this&&N.$.useDeprecatedNextContext?(St=Object.create(we),St.unsubscribe=()=>this.unsubscribe(),dt={next:we.next&&We(we.next,St),error:we.error&&We(we.error,St),complete:we.complete&&We(we.complete,St)}):dt=we}this.destination=new Ye(dt)}}function rt(et){N.$.useDeprecatedSynchronousErrorHandling?(0,ve.l)(et):(0,Te.m)(et)}function Tt(et,we){const{onStoppedNotification:Ge}=N.$;Ge&&Pe.f.setTimeout(()=>Ge(et,we))}const tt={closed:!0,next:de.l,error:function nt(et){throw et},complete:de.l}},8359:(Dn,At,O)=>{"use strict";O.d(At,{Kn:()=>Be,yU:()=>de,Uv:()=>ce});var d=O(8071);const N=(0,O(1853).L)(Qe=>function(ve){Qe(this),this.message=ve?`${ve.length} errors occurred during unsubscription:\n${ve.map((qe,Ke)=>`${Ke+1}) ${qe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ve});var Te=O(7908);class de{constructor(Pe){this.initialTeardown=Pe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Pe;if(!this.closed){this.closed=!0;const{_parentage:ve}=this;if(ve)if(this._parentage=null,Array.isArray(ve))for(const We of ve)We.remove(this);else ve.remove(this);const{initialTeardown:qe}=this;if((0,d.T)(qe))try{qe()}catch(We){Pe=We instanceof N?We.errors:[We]}const{_finalizers:Ke}=this;if(Ke){this._finalizers=null;for(const We of Ke)try{xe(We)}catch(Ye){Pe=null!=Pe?Pe:[],Ye instanceof N?Pe=[...Pe,...Ye.errors]:Pe.push(Ye)}}if(Pe)throw new N(Pe)}}add(Pe){var ve;if(Pe&&Pe!==this)if(this.closed)xe(Pe);else{if(Pe instanceof de){if(Pe.closed||Pe._hasParent(this))return;Pe._addParent(this)}(this._finalizers=null!==(ve=this._finalizers)&&void 0!==ve?ve:[]).push(Pe)}}_hasParent(Pe){const{_parentage:ve}=this;return ve===Pe||Array.isArray(ve)&&ve.includes(Pe)}_addParent(Pe){const{_parentage:ve}=this;this._parentage=Array.isArray(ve)?(ve.push(Pe),ve):ve?[ve,Pe]:Pe}_removeParent(Pe){const{_parentage:ve}=this;ve===Pe?this._parentage=null:Array.isArray(ve)&&(0,Te.o)(ve,Pe)}remove(Pe){const{_finalizers:ve}=this;ve&&(0,Te.o)(ve,Pe),Pe instanceof de&&Pe._removeParent(this)}}de.EMPTY=(()=>{const Qe=new de;return Qe.closed=!0,Qe})();const Be=de.EMPTY;function ce(Qe){return Qe instanceof de||Qe&&"closed"in Qe&&(0,d.T)(Qe.remove)&&(0,d.T)(Qe.add)&&(0,d.T)(Qe.unsubscribe)}function xe(Qe){(0,d.T)(Qe)?Qe():Qe.unsubscribe()}},1026:(Dn,At,O)=>{"use strict";O.d(At,{$:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(Dn,At,O)=>{"use strict";O.d(At,{z:()=>Pe});var d=O(1985),u=O(3073),N=O(8455),Te=O(3669),de=O(6450),Be=O(3794),ce=O(8496),xe=O(4360),Qe=O(5225);function Pe(...Ke){const We=(0,Be.lI)(Ke),Ye=(0,Be.ms)(Ke),{args:ct,keys:rt}=(0,u.D)(Ke);if(0===ct.length)return(0,N.H)([],We);const nt=new d.c(function ve(Ke,We,Ye=Te.D){return ct=>{qe(We,()=>{const{length:rt}=Ke,nt=new Array(rt);let Tt=rt,tt=rt;for(let et=0;et<rt;et++)qe(We,()=>{const we=(0,N.H)(Ke[et],We);let Ge=!1;we.subscribe((0,xe._)(ct,ze=>{nt[et]=ze,Ge||(Ge=!0,tt--),tt||ct.next(Ye(nt.slice()))},()=>{--Tt||ct.complete()}))},ct)},ct)}}(ct,We,rt?Tt=>(0,ce.e)(rt,Tt):Te.D));return Ye?nt.pipe((0,de.I)(Ye)):nt}function qe(Ke,We,Ye){Ke?(0,Qe.N)(Ye,Ke,We):We()}},8793:(Dn,At,O)=>{"use strict";O.d(At,{x:()=>de});var d=O(6365),N=O(3794),Te=O(8455);function de(...Be){return function u(){return(0,d.U)(1)}()((0,Te.H)(Be,(0,N.lI)(Be)))}},983:(Dn,At,O)=>{"use strict";O.d(At,{w:()=>u});const u=new(O(1985).c)(de=>de.complete())},8455:(Dn,At,O)=>{"use strict";O.d(At,{H:()=>we});var d=O(8750),u=O(941),N=O(6745),Be=O(1985),xe=O(4761),Qe=O(8071),Pe=O(5225);function qe(Ge,ze){if(!Ge)throw new Error("Iterable cannot be null");return new Be.c(dt=>{(0,Pe.N)(dt,ze,()=>{const St=Ge[Symbol.asyncIterator]();(0,Pe.N)(dt,ze,()=>{St.next().then(te=>{te.done?dt.complete():dt.next(te.value)})},0,!0)})})}var Ke=O(5055),We=O(9858),Ye=O(7441),ct=O(5397),rt=O(7953),nt=O(591),Tt=O(5196);function we(Ge,ze){return ze?function et(Ge,ze){if(null!=Ge){if((0,Ke.l)(Ge))return function Te(Ge,ze){return(0,d.Tg)(Ge).pipe((0,N._)(ze),(0,u.Q)(ze))}(Ge,ze);if((0,Ye.X)(Ge))return function ce(Ge,ze){return new Be.c(dt=>{let St=0;return ze.schedule(function(){St===Ge.length?dt.complete():(dt.next(Ge[St++]),dt.closed||this.schedule())})})}(Ge,ze);if((0,We.y)(Ge))return function de(Ge,ze){return(0,d.Tg)(Ge).pipe((0,N._)(ze),(0,u.Q)(ze))}(Ge,ze);if((0,rt.T)(Ge))return qe(Ge,ze);if((0,ct.x)(Ge))return function ve(Ge,ze){return new Be.c(dt=>{let St;return(0,Pe.N)(dt,ze,()=>{St=Ge[xe.l](),(0,Pe.N)(dt,ze,()=>{let te,Dt;try{({value:te,done:Dt}=St.next())}catch(wt){return void dt.error(wt)}Dt?dt.complete():dt.next(te)},0,!0)}),()=>(0,Qe.T)(null==St?void 0:St.return)&&St.return()})}(Ge,ze);if((0,Tt.U)(Ge))return function tt(Ge,ze){return qe((0,Tt.C)(Ge),ze)}(Ge,ze)}throw(0,nt.L)(Ge)}(Ge,ze):(0,d.Tg)(Ge)}},3726:(Dn,At,O)=>{"use strict";O.d(At,{R:()=>Pe});var d=O(8750),u=O(1985),N=O(1397),Te=O(7441),de=O(8071),Be=O(6450);const ce=["addListener","removeListener"],xe=["addEventListener","removeEventListener"],Qe=["on","off"];function Pe(Ye,ct,rt,nt){if((0,de.T)(rt)&&(nt=rt,rt=void 0),nt)return Pe(Ye,ct,rt).pipe((0,Be.I)(nt));const[Tt,tt]=function We(Ye){return(0,de.T)(Ye.addEventListener)&&(0,de.T)(Ye.removeEventListener)}(Ye)?xe.map(et=>we=>Ye[et](ct,we,rt)):function qe(Ye){return(0,de.T)(Ye.addListener)&&(0,de.T)(Ye.removeListener)}(Ye)?ce.map(ve(Ye,ct)):function Ke(Ye){return(0,de.T)(Ye.on)&&(0,de.T)(Ye.off)}(Ye)?Qe.map(ve(Ye,ct)):[];if(!Tt&&(0,Te.X)(Ye))return(0,N.Z)(et=>Pe(et,ct,rt))((0,d.Tg)(Ye));if(!Tt)throw new TypeError("Invalid event target");return new u.c(et=>{const we=(...Ge)=>et.next(1<Ge.length?Ge:Ge[0]);return Tt(we),()=>tt(we)})}function ve(Ye,ct){return rt=>nt=>Ye[rt](ct,nt)}},8750:(Dn,At,O)=>{"use strict";O.d(At,{Tg:()=>Ke});var d=O(1635),u=O(7441),N=O(9858),Te=O(1985),de=O(5055),Be=O(7953),ce=O(591),xe=O(5397),Qe=O(5196),Pe=O(8071),ve=O(5334),qe=O(3494);function Ke(et){if(et instanceof Te.c)return et;if(null!=et){if((0,de.l)(et))return function We(et){return new Te.c(we=>{const Ge=et[qe.s]();if((0,Pe.T)(Ge.subscribe))return Ge.subscribe(we);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(et);if((0,u.X)(et))return function Ye(et){return new Te.c(we=>{for(let Ge=0;Ge<et.length&&!we.closed;Ge++)we.next(et[Ge]);we.complete()})}(et);if((0,N.y)(et))return function ct(et){return new Te.c(we=>{et.then(Ge=>{we.closed||(we.next(Ge),we.complete())},Ge=>we.error(Ge)).then(null,ve.m)})}(et);if((0,Be.T)(et))return nt(et);if((0,xe.x)(et))return function rt(et){return new Te.c(we=>{for(const Ge of et)if(we.next(Ge),we.closed)return;we.complete()})}(et);if((0,Qe.U)(et))return function Tt(et){return nt((0,Qe.C)(et))}(et)}throw(0,ce.L)(et)}function nt(et){return new Te.c(we=>{(function tt(et,we){var Ge,ze,dt,St;return(0,d.sH)(this,void 0,void 0,function*(){try{for(Ge=(0,d.xN)(et);!(ze=yield Ge.next()).done;)if(we.next(ze.value),we.closed)return}catch(te){dt={error:te}}finally{try{ze&&!ze.done&&(St=Ge.return)&&(yield St.call(Ge))}finally{if(dt)throw dt.error}}we.complete()})})(et,we).catch(Ge=>we.error(Ge))})}},7673:(Dn,At,O)=>{"use strict";O.d(At,{of:()=>N});var d=O(3794),u=O(8455);function N(...Te){const de=(0,d.lI)(Te);return(0,u.H)(Te,de)}},4360:(Dn,At,O)=>{"use strict";O.d(At,{_:()=>u});var d=O(7707);function u(Te,de,Be,ce,xe){return new N(Te,de,Be,ce,xe)}class N extends d.vU{constructor(de,Be,ce,xe,Qe,Pe){super(de),this.onFinalize=Qe,this.shouldUnsubscribe=Pe,this._next=Be?function(ve){try{Be(ve)}catch(qe){de.error(qe)}}:super._next,this._error=xe?function(ve){try{xe(ve)}catch(qe){de.error(qe)}finally{this.unsubscribe()}}:super._error,this._complete=ce?function(){try{ce()}catch(ve){de.error(ve)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var de;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Be}=this;super.unsubscribe(),!Be&&(null===(de=this.onFinalize)||void 0===de||de.call(this))}}}},9901:(Dn,At,O)=>{"use strict";O.d(At,{U:()=>N});var d=O(9974),u=O(4360);function N(Te){return(0,d.N)((de,Be)=>{let ce=!1;de.subscribe((0,u._)(Be,xe=>{ce=!0,Be.next(xe)},()=>{ce||Be.next(Te),Be.complete()}))})}},3294:(Dn,At,O)=>{"use strict";O.d(At,{F:()=>Te});var d=O(3669),u=O(9974),N=O(4360);function Te(Be,ce=d.D){return Be=null!=Be?Be:de,(0,u.N)((xe,Qe)=>{let Pe,ve=!0;xe.subscribe((0,N._)(Qe,qe=>{const Ke=ce(qe);(ve||!Be(Pe,Ke))&&(ve=!1,Pe=Ke,Qe.next(qe))}))})}function de(Be,ce){return Be===ce}},5964:(Dn,At,O)=>{"use strict";O.d(At,{p:()=>N});var d=O(9974),u=O(4360);function N(Te,de){return(0,d.N)((Be,ce)=>{let xe=0;Be.subscribe((0,u._)(ce,Qe=>Te.call(de,Qe,xe++)&&ce.next(Qe)))})}},1594:(Dn,At,O)=>{"use strict";O.d(At,{$:()=>ce});var d=O(9350),u=O(5964),N=O(6697),Te=O(9901),de=O(3774),Be=O(3669);function ce(xe,Qe){const Pe=arguments.length>=2;return ve=>ve.pipe(xe?(0,u.p)((qe,Ke)=>xe(qe,Ke,ve)):Be.D,(0,N.s)(1),Pe?(0,Te.U)(Qe):(0,de.v)(()=>new d.G))}},6354:(Dn,At,O)=>{"use strict";O.d(At,{T:()=>N});var d=O(9974),u=O(4360);function N(Te,de){return(0,d.N)((Be,ce)=>{let xe=0;Be.subscribe((0,u._)(ce,Qe=>{ce.next(Te.call(de,Qe,xe++))}))})}},6365:(Dn,At,O)=>{"use strict";O.d(At,{U:()=>N});var d=O(1397),u=O(3669);function N(Te=1/0){return(0,d.Z)(u.D,Te)}},1397:(Dn,At,O)=>{"use strict";O.d(At,{Z:()=>xe});var d=O(6354),u=O(8750),N=O(9974),Te=O(5225),de=O(4360),ce=O(8071);function xe(Qe,Pe,ve=1/0){return(0,ce.T)(Pe)?xe((qe,Ke)=>(0,d.T)((We,Ye)=>Pe(qe,We,Ke,Ye))((0,u.Tg)(Qe(qe,Ke))),ve):("number"==typeof Pe&&(ve=Pe),(0,N.N)((qe,Ke)=>function Be(Qe,Pe,ve,qe,Ke,We,Ye,ct){const rt=[];let nt=0,Tt=0,tt=!1;const et=()=>{tt&&!rt.length&&!nt&&Pe.complete()},we=ze=>nt<qe?Ge(ze):rt.push(ze),Ge=ze=>{We&&Pe.next(ze),nt++;let dt=!1;(0,u.Tg)(ve(ze,Tt++)).subscribe((0,de._)(Pe,St=>{null==Ke||Ke(St),We?we(St):Pe.next(St)},()=>{dt=!0},void 0,()=>{if(dt)try{for(nt--;rt.length&&nt<qe;){const St=rt.shift();Ye?(0,Te.N)(Pe,Ye,()=>Ge(St)):Ge(St)}et()}catch(St){Pe.error(St)}}))};return Qe.subscribe((0,de._)(Pe,we,()=>{tt=!0,et()})),()=>{null==ct||ct()}}(qe,Ke,Qe,ve)))}},941:(Dn,At,O)=>{"use strict";O.d(At,{Q:()=>Te});var d=O(5225),u=O(9974),N=O(4360);function Te(de,Be=0){return(0,u.N)((ce,xe)=>{ce.subscribe((0,N._)(xe,Qe=>(0,d.N)(xe,de,()=>xe.next(Qe),Be),()=>(0,d.N)(xe,de,()=>xe.complete(),Be),Qe=>(0,d.N)(xe,de,()=>xe.error(Qe),Be)))})}},2816:(Dn,At,O)=>{"use strict";O.d(At,{S:()=>Te});var d=O(9974),u=O(4360);function Te(de,Be){return(0,d.N)(function N(de,Be,ce,xe,Qe){return(Pe,ve)=>{let qe=ce,Ke=Be,We=0;Pe.subscribe((0,u._)(ve,Ye=>{const ct=We++;Ke=qe?de(Ke,Ye,ct):(qe=!0,Ye),xe&&ve.next(Ke)},Qe&&(()=>{qe&&ve.next(Ke),ve.complete()})))}}(de,Be,arguments.length>=2,!0))}},9172:(Dn,At,O)=>{"use strict";O.d(At,{Z:()=>Te});var d=O(8793),u=O(3794),N=O(9974);function Te(...de){const Be=(0,u.lI)(de);return(0,N.N)((ce,xe)=>{(Be?(0,d.x)(de,ce,Be):(0,d.x)(de,ce)).subscribe(xe)})}},6745:(Dn,At,O)=>{"use strict";O.d(At,{_:()=>u});var d=O(9974);function u(N,Te=0){return(0,d.N)((de,Be)=>{Be.add(N.schedule(()=>de.subscribe(Be),Te))})}},5558:(Dn,At,O)=>{"use strict";O.d(At,{n:()=>Te});var d=O(8750),u=O(9974),N=O(4360);function Te(de,Be){return(0,u.N)((ce,xe)=>{let Qe=null,Pe=0,ve=!1;const qe=()=>ve&&!Qe&&xe.complete();ce.subscribe((0,N._)(xe,Ke=>{null==Qe||Qe.unsubscribe();let We=0;const Ye=Pe++;(0,d.Tg)(de(Ke,Ye)).subscribe(Qe=(0,N._)(xe,ct=>xe.next(Be?Be(Ke,ct,Ye,We++):ct),()=>{Qe=null,qe()}))},()=>{ve=!0,qe()}))})}},6697:(Dn,At,O)=>{"use strict";O.d(At,{s:()=>Te});var d=O(983),u=O(9974),N=O(4360);function Te(de){return de<=0?()=>d.w:(0,u.N)((Be,ce)=>{let xe=0;Be.subscribe((0,N._)(ce,Qe=>{++xe<=de&&(ce.next(Qe),de<=xe&&ce.complete())}))})}},8141:(Dn,At,O)=>{"use strict";O.d(At,{M:()=>de});var d=O(8071),u=O(9974),N=O(4360),Te=O(3669);function de(Be,ce,xe){const Qe=(0,d.T)(Be)||ce||xe?{next:Be,error:ce,complete:xe}:Be;return Qe?(0,u.N)((Pe,ve)=>{var qe;null===(qe=Qe.subscribe)||void 0===qe||qe.call(Qe);let Ke=!0;Pe.subscribe((0,N._)(ve,We=>{var Ye;null===(Ye=Qe.next)||void 0===Ye||Ye.call(Qe,We),ve.next(We)},()=>{var We;Ke=!1,null===(We=Qe.complete)||void 0===We||We.call(Qe),ve.complete()},We=>{var Ye;Ke=!1,null===(Ye=Qe.error)||void 0===Ye||Ye.call(Qe,We),ve.error(We)},()=>{var We,Ye;Ke&&(null===(We=Qe.unsubscribe)||void 0===We||We.call(Qe)),null===(Ye=Qe.finalize)||void 0===Ye||Ye.call(Qe)}))}):Te.D}},3774:(Dn,At,O)=>{"use strict";O.d(At,{v:()=>Te});var d=O(9350),u=O(9974),N=O(4360);function Te(Be=de){return(0,u.N)((ce,xe)=>{let Qe=!1;ce.subscribe((0,N._)(xe,Pe=>{Qe=!0,xe.next(Pe)},()=>Qe?xe.complete():xe.error(Be())))})}function de(){return new d.G}},6780:(Dn,At,O)=>{"use strict";O.d(At,{R:()=>de});var d=O(8359);class u extends d.yU{constructor(ce,xe){super()}schedule(ce,xe=0){return this}}const N={setInterval(Be,ce,...xe){const{delegate:Qe}=N;return null!=Qe&&Qe.setInterval?Qe.setInterval(Be,ce,...xe):setInterval(Be,ce,...xe)},clearInterval(Be){const{delegate:ce}=N;return((null==ce?void 0:ce.clearInterval)||clearInterval)(Be)},delegate:void 0};var Te=O(7908);class de extends u{constructor(ce,xe){super(ce,xe),this.scheduler=ce,this.work=xe,this.pending=!1}schedule(ce,xe=0){var Qe;if(this.closed)return this;this.state=ce;const Pe=this.id,ve=this.scheduler;return null!=Pe&&(this.id=this.recycleAsyncId(ve,Pe,xe)),this.pending=!0,this.delay=xe,this.id=null!==(Qe=this.id)&&void 0!==Qe?Qe:this.requestAsyncId(ve,this.id,xe),this}requestAsyncId(ce,xe,Qe=0){return N.setInterval(ce.flush.bind(ce,this),Qe)}recycleAsyncId(ce,xe,Qe=0){if(null!=Qe&&this.delay===Qe&&!1===this.pending)return xe;null!=xe&&N.clearInterval(xe)}execute(ce,xe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Qe=this._execute(ce,xe);if(Qe)return Qe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ce,xe){let Pe,Qe=!1;try{this.work(ce)}catch(ve){Qe=!0,Pe=ve||new Error("Scheduled action threw falsy error")}if(Qe)return this.unsubscribe(),Pe}unsubscribe(){if(!this.closed){const{id:ce,scheduler:xe}=this,{actions:Qe}=xe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Te.o)(Qe,this),null!=ce&&(this.id=this.recycleAsyncId(xe,ce,null)),this.delay=null,super.unsubscribe()}}}},9687:(Dn,At,O)=>{"use strict";O.d(At,{q:()=>N});var d=O(6129);class u{constructor(de,Be=u.now){this.schedulerActionCtor=de,this.now=Be}schedule(de,Be=0,ce){return new this.schedulerActionCtor(this,de).schedule(ce,Be)}}u.now=d.U.now;class N extends u{constructor(de,Be=u.now){super(de,Be),this.actions=[],this._active=!1}flush(de){const{actions:Be}=this;if(this._active)return void Be.push(de);let ce;this._active=!0;do{if(ce=de.execute(de.state,de.delay))break}while(de=Be.shift());if(this._active=!1,ce){for(;de=Be.shift();)de.unsubscribe();throw ce}}}},3236:(Dn,At,O)=>{"use strict";O.d(At,{E:()=>N});var d=O(6780);const N=new(O(9687).q)(d.R)},6129:(Dn,At,O)=>{"use strict";O.d(At,{U:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},9270:(Dn,At,O)=>{"use strict";O.d(At,{f:()=>d});const d={setTimeout(u,N,...Te){const{delegate:de}=d;return null!=de&&de.setTimeout?de.setTimeout(u,N,...Te):setTimeout(u,N,...Te)},clearTimeout(u){const{delegate:N}=d;return((null==N?void 0:N.clearTimeout)||clearTimeout)(u)},delegate:void 0}},4761:(Dn,At,O)=>{"use strict";O.d(At,{l:()=>u});const u=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Dn,At,O)=>{"use strict";O.d(At,{s:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(Dn,At,O)=>{"use strict";O.d(At,{G:()=>u});const u=(0,O(1853).L)(N=>function(){N(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(Dn,At,O)=>{"use strict";O.d(At,{R0:()=>Be,ms:()=>Te,lI:()=>de});var d=O(8071);function N(ce){return ce[ce.length-1]}function Te(ce){return(0,d.T)(N(ce))?ce.pop():void 0}function de(ce){return function u(ce){return ce&&(0,d.T)(ce.schedule)}(N(ce))?ce.pop():void 0}function Be(ce,xe){return"number"==typeof N(ce)?ce.pop():xe}},3073:(Dn,At,O)=>{"use strict";O.d(At,{D:()=>de});const{isArray:d}=Array,{getPrototypeOf:u,prototype:N,keys:Te}=Object;function de(ce){if(1===ce.length){const xe=ce[0];if(d(xe))return{args:xe,keys:null};if(function Be(ce){return ce&&"object"==typeof ce&&u(ce)===N}(xe)){const Qe=Te(xe);return{args:Qe.map(Pe=>xe[Pe]),keys:Qe}}}return{args:ce,keys:null}}},7908:(Dn,At,O)=>{"use strict";function d(u,N){if(u){const Te=u.indexOf(N);0<=Te&&u.splice(Te,1)}}O.d(At,{o:()=>d})},1853:(Dn,At,O)=>{"use strict";function d(u){const Te=u(de=>{Error.call(de),de.stack=(new Error).stack});return Te.prototype=Object.create(Error.prototype),Te.prototype.constructor=Te,Te}O.d(At,{L:()=>d})},8496:(Dn,At,O)=>{"use strict";function d(u,N){return u.reduce((Te,de,Be)=>(Te[de]=N[Be],Te),{})}O.d(At,{e:()=>d})},9786:(Dn,At,O)=>{"use strict";O.d(At,{Y:()=>N,l:()=>Te});var d=O(1026);let u=null;function N(de){if(d.$.useDeprecatedSynchronousErrorHandling){const Be=!u;if(Be&&(u={errorThrown:!1,error:null}),de(),Be){const{errorThrown:ce,error:xe}=u;if(u=null,ce)throw xe}}else de()}function Te(de){d.$.useDeprecatedSynchronousErrorHandling&&u&&(u.errorThrown=!0,u.error=de)}},5225:(Dn,At,O)=>{"use strict";function d(u,N,Te,de=0,Be=!1){const ce=N.schedule(function(){Te(),Be?u.add(this.schedule(null,de)):this.unsubscribe()},de);if(u.add(ce),!Be)return ce}O.d(At,{N:()=>d})},3669:(Dn,At,O)=>{"use strict";function d(u){return u}O.d(At,{D:()=>d})},7441:(Dn,At,O)=>{"use strict";O.d(At,{X:()=>d});const d=u=>u&&"number"==typeof u.length&&"function"!=typeof u},7953:(Dn,At,O)=>{"use strict";O.d(At,{T:()=>u});var d=O(8071);function u(N){return Symbol.asyncIterator&&(0,d.T)(null==N?void 0:N[Symbol.asyncIterator])}},8071:(Dn,At,O)=>{"use strict";function d(u){return"function"==typeof u}O.d(At,{T:()=>d})},5055:(Dn,At,O)=>{"use strict";O.d(At,{l:()=>N});var d=O(3494),u=O(8071);function N(Te){return(0,u.T)(Te[d.s])}},5397:(Dn,At,O)=>{"use strict";O.d(At,{x:()=>N});var d=O(4761),u=O(8071);function N(Te){return(0,u.T)(null==Te?void 0:Te[d.l])}},9858:(Dn,At,O)=>{"use strict";O.d(At,{y:()=>u});var d=O(8071);function u(N){return(0,d.T)(null==N?void 0:N.then)}},5196:(Dn,At,O)=>{"use strict";O.d(At,{C:()=>N,U:()=>Te});var d=O(1635),u=O(8071);function N(de){return(0,d.AQ)(this,arguments,function*(){const ce=de.getReader();try{for(;;){const{value:xe,done:Qe}=yield(0,d.N3)(ce.read());if(Qe)return yield(0,d.N3)(void 0);yield yield(0,d.N3)(xe)}}finally{ce.releaseLock()}})}function Te(de){return(0,u.T)(null==de?void 0:de.getReader)}},9974:(Dn,At,O)=>{"use strict";O.d(At,{N:()=>N,S:()=>u});var d=O(8071);function u(Te){return(0,d.T)(null==Te?void 0:Te.lift)}function N(Te){return de=>{if(u(de))return de.lift(function(Be){try{return Te(Be,this)}catch(ce){this.error(ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Dn,At,O)=>{"use strict";O.d(At,{I:()=>Te});var d=O(6354);const{isArray:u}=Array;function Te(de){return(0,d.T)(Be=>function N(de,Be){return u(Be)?de(...Be):de(Be)}(de,Be))}},5343:(Dn,At,O)=>{"use strict";function d(){}O.d(At,{l:()=>d})},1203:(Dn,At,O)=>{"use strict";O.d(At,{F:()=>u,m:()=>N});var d=O(3669);function u(...Te){return N(Te)}function N(Te){return 0===Te.length?d.D:1===Te.length?Te[0]:function(Be){return Te.reduce((ce,xe)=>xe(ce),Be)}}},5334:(Dn,At,O)=>{"use strict";O.d(At,{m:()=>N});var d=O(1026),u=O(9270);function N(Te){u.f.setTimeout(()=>{const{onUnhandledError:de}=d.$;if(!de)throw Te;de(Te)})}},591:(Dn,At,O)=>{"use strict";function d(u){return new TypeError(`You provided ${null!==u&&"object"==typeof u?"an invalid object":`'${u}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(At,{L:()=>d})},8996:(Dn,At,O)=>{var d={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,1293,7428],"./ion-datetime_3.entry.js":[2885,1293,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input-password-toggle.entry.js":[6521,2076,6521],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-option.entry.js":[9013,9013],"./ion-picker-column.entry.js":[1459,2076,1459],"./ion-picker.entry.js":[6840,6840],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function u(N){if(!O.o(d,N))return Promise.resolve().then(()=>{var Be=new Error("Cannot find module '"+N+"'");throw Be.code="MODULE_NOT_FOUND",Be});var Te=d[N],de=Te[0];return Promise.all(Te.slice(1).map(O.e)).then(()=>O(de))}u.keys=()=>Object.keys(d),u.id=8996,Dn.exports=u},177:(Dn,At,O)=>{"use strict";O.d(At,{AJ:()=>Yt,Jj:()=>lr,MD:()=>Et,N0:()=>fi,QT:()=>N,Sm:()=>ct,Sq:()=>yi,T3:()=>Fr,VF:()=>de,Vy:()=>kn,Xr:()=>qi,YU:()=>Nt,ZD:()=>Te,_b:()=>re,aZ:()=>nt,bT:()=>Ln,fw:()=>rt,hb:()=>We,hj:()=>Qe,qQ:()=>ce,vh:()=>wo});var d=O(4438);let u=null;function N(){return u}function Te(C){var z;null!==(z=u)&&void 0!==z||(u=C)}class de{}const ce=new d.nKC("");let xe=(()=>{var C;class z{historyGo(k){throw new Error("")}}return(C=z).\u0275fac=function(k){return new(k||C)},C.\u0275prov=d.jDH({token:C,factory:()=>(0,d.WQX)(Pe),providedIn:"platform"}),z})();const Qe=new d.nKC("");let Pe=(()=>{var C;class z extends xe{constructor(){super(),this._doc=(0,d.WQX)(ce),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(k){const ae=N().getGlobalEventTarget(this._doc,"window");return ae.addEventListener("popstate",k,!1),()=>ae.removeEventListener("popstate",k)}onHashChange(k){const ae=N().getGlobalEventTarget(this._doc,"window");return ae.addEventListener("hashchange",k,!1),()=>ae.removeEventListener("hashchange",k)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(k){this._location.pathname=k}pushState(k,ae,je){this._history.pushState(k,ae,je)}replaceState(k,ae,je){this._history.replaceState(k,ae,je)}forward(){this._history.forward()}back(){this._history.back()}historyGo(k=0){this._history.go(k)}getState(){return this._history.state}}return(C=z).\u0275fac=function(k){return new(k||C)},C.\u0275prov=d.jDH({token:C,factory:()=>new C,providedIn:"platform"}),z})();function ve(C,z){if(0==C.length)return z;if(0==z.length)return C;let Ne=0;return C.endsWith("/")&&Ne++,z.startsWith("/")&&Ne++,2==Ne?C+z.substring(1):1==Ne?C+z:C+"/"+z}function qe(C){const z=C.match(/#|\?|$/),Ne=z&&z.index||C.length;return C.slice(0,Ne-("/"===C[Ne-1]?1:0))+C.slice(Ne)}function Ke(C){return C&&"?"!==C[0]?"?"+C:C}let We=(()=>{var C;class z{historyGo(k){throw new Error("")}}return(C=z).\u0275fac=function(k){return new(k||C)},C.\u0275prov=d.jDH({token:C,factory:()=>(0,d.WQX)(ct),providedIn:"root"}),z})();const Ye=new d.nKC("");let ct=(()=>{var C;class z extends We{constructor(k,ae){var je,Xt,_n;super(),this._platformLocation=k,this._removeListenerFns=[],this._baseHref=null!==(je=null!==(Xt=null!=ae?ae:this._platformLocation.getBaseHrefFromDOM())&&void 0!==Xt?Xt:null===(_n=(0,d.WQX)(ce).location)||void 0===_n?void 0:_n.origin)&&void 0!==je?je:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}prepareExternalUrl(k){return ve(this._baseHref,k)}path(k=!1){const ae=this._platformLocation.pathname+Ke(this._platformLocation.search),je=this._platformLocation.hash;return je&&k?`${ae}${je}`:ae}pushState(k,ae,je,Xt){const _n=this.prepareExternalUrl(je+Ke(Xt));this._platformLocation.pushState(k,ae,_n)}replaceState(k,ae,je,Xt){const _n=this.prepareExternalUrl(je+Ke(Xt));this._platformLocation.replaceState(k,ae,_n)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(k=0){var ae,je;null===(ae=(je=this._platformLocation).historyGo)||void 0===ae||ae.call(je,k)}}return(C=z).\u0275fac=function(k){return new(k||C)(d.KVO(xe),d.KVO(Ye,8))},C.\u0275prov=d.jDH({token:C,factory:C.\u0275fac,providedIn:"root"}),z})(),rt=(()=>{var C;class z extends We{constructor(k,ae){super(),this._platformLocation=k,this._baseHref="",this._removeListenerFns=[],null!=ae&&(this._baseHref=ae)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}path(k=!1){var ae;const je=null!==(ae=this._platformLocation.hash)&&void 0!==ae?ae:"#";return je.length>0?je.substring(1):je}prepareExternalUrl(k){const ae=ve(this._baseHref,k);return ae.length>0?"#"+ae:ae}pushState(k,ae,je,Xt){let _n=this.prepareExternalUrl(je+Ke(Xt));0==_n.length&&(_n=this._platformLocation.pathname),this._platformLocation.pushState(k,ae,_n)}replaceState(k,ae,je,Xt){let _n=this.prepareExternalUrl(je+Ke(Xt));0==_n.length&&(_n=this._platformLocation.pathname),this._platformLocation.replaceState(k,ae,_n)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(k=0){var ae,je;null===(ae=(je=this._platformLocation).historyGo)||void 0===ae||ae.call(je,k)}}return(C=z).\u0275fac=function(k){return new(k||C)(d.KVO(xe),d.KVO(Ye,8))},C.\u0275prov=d.jDH({token:C,factory:C.\u0275fac}),z})(),nt=(()=>{var C;class z{constructor(k){this._subject=new d.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=k;const ae=this._locationStrategy.getBaseHref();this._basePath=function we(C){if(new RegExp("^(https?:)?//").test(C)){const[,Ne]=C.split(/\/\/[^\/]+/);return Ne}return C}(qe(et(ae))),this._locationStrategy.onPopState(je=>{this._subject.emit({url:this.path(!0),pop:!0,state:je.state,type:je.type})})}ngOnDestroy(){var k;null===(k=this._urlChangeSubscription)||void 0===k||k.unsubscribe(),this._urlChangeListeners=[]}path(k=!1){return this.normalize(this._locationStrategy.path(k))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(k,ae=""){return this.path()==this.normalize(k+Ke(ae))}normalize(k){return z.stripTrailingSlash(function tt(C,z){if(!C||!z.startsWith(C))return z;const Ne=z.substring(C.length);return""===Ne||["/",";","?","#"].includes(Ne[0])?Ne:z}(this._basePath,et(k)))}prepareExternalUrl(k){return k&&"/"!==k[0]&&(k="/"+k),this._locationStrategy.prepareExternalUrl(k)}go(k,ae="",je=null){this._locationStrategy.pushState(je,"",k,ae),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+Ke(ae)),je)}replaceState(k,ae="",je=null){this._locationStrategy.replaceState(je,"",k,ae),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+Ke(ae)),je)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(k=0){var ae,je;null===(ae=(je=this._locationStrategy).historyGo)||void 0===ae||ae.call(je,k)}onUrlChange(k){var ae;return this._urlChangeListeners.push(k),null!==(ae=this._urlChangeSubscription)&&void 0!==ae||(this._urlChangeSubscription=this.subscribe(je=>{this._notifyUrlChangeListeners(je.url,je.state)})),()=>{const je=this._urlChangeListeners.indexOf(k);var Xt;this._urlChangeListeners.splice(je,1),0===this._urlChangeListeners.length&&(null===(Xt=this._urlChangeSubscription)||void 0===Xt||Xt.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(k="",ae){this._urlChangeListeners.forEach(je=>je(k,ae))}subscribe(k,ae,je){return this._subject.subscribe({next:k,error:ae,complete:je})}}return(C=z).normalizeQueryParams=Ke,C.joinWithSlash=ve,C.stripTrailingSlash=qe,C.\u0275fac=function(k){return new(k||C)(d.KVO(We))},C.\u0275prov=d.jDH({token:C,factory:()=>function Tt(){return new nt((0,d.KVO)(We))}(),providedIn:"root"}),z})();function et(C){return C.replace(/\/index.html$/,"")}var St=function(C){return C[C.Format=0]="Format",C[C.Standalone=1]="Standalone",C}(St||{}),te=function(C){return C[C.Narrow=0]="Narrow",C[C.Abbreviated=1]="Abbreviated",C[C.Wide=2]="Wide",C[C.Short=3]="Short",C}(te||{}),Dt=function(C){return C[C.Short=0]="Short",C[C.Medium=1]="Medium",C[C.Long=2]="Long",C[C.Full=3]="Full",C}(Dt||{});const wt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function H(C,z){return bn((0,d.H5H)(C)[d.KH2.DateFormat],z)}function Ee(C,z){return bn((0,d.H5H)(C)[d.KH2.TimeFormat],z)}function Ve(C,z){return bn((0,d.H5H)(C)[d.KH2.DateTimeFormat],z)}function it(C,z){const Ne=(0,d.H5H)(C),k=Ne[d.KH2.NumberSymbols][z];if(typeof k>"u"){if(z===wt.CurrencyDecimal)return Ne[d.KH2.NumberSymbols][wt.Decimal];if(z===wt.CurrencyGroup)return Ne[d.KH2.NumberSymbols][wt.Group]}return k}function Sn(C){if(!C[d.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${C[d.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function bn(C,z){for(let Ne=z;Ne>-1;Ne--)if(typeof C[Ne]<"u")return C[Ne];throw new Error("Locale data API: locale data undefined")}function nn(C){const[z,Ne]=C.split(":");return{hours:+z,minutes:+Ne}}const rn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Qt={},or=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Wn=function(C){return C[C.Short=0]="Short",C[C.ShortGMT=1]="ShortGMT",C[C.Long=2]="Long",C[C.Extended=3]="Extended",C}(Wn||{}),wn=function(C){return C[C.FullYear=0]="FullYear",C[C.Month=1]="Month",C[C.Date=2]="Date",C[C.Hours=3]="Hours",C[C.Minutes=4]="Minutes",C[C.Seconds=5]="Seconds",C[C.FractionalSeconds=6]="FractionalSeconds",C[C.Day=7]="Day",C}(wn||{}),hn=function(C){return C[C.DayPeriods=0]="DayPeriods",C[C.Days=1]="Days",C[C.Months=2]="Months",C[C.Eras=3]="Eras",C}(hn||{});function Un(C,z,Ne,k){let ae=function se(C){if(ie(C))return C;if("number"==typeof C&&!isNaN(C))return new Date(C);if("string"==typeof C){if(C=C.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(C)){const[ae,je=1,Xt=1]=C.split("-").map(_n=>+_n);return tr(ae,je-1,Xt)}const Ne=parseFloat(C);if(!isNaN(C-Ne))return new Date(Ne);let k;if(k=C.match(rn))return function pe(C){const z=new Date(0);let Ne=0,k=0;const ae=C[8]?z.setUTCFullYear:z.setFullYear,je=C[8]?z.setUTCHours:z.setHours;C[9]&&(Ne=Number(C[9]+C[10]),k=Number(C[9]+C[11])),ae.call(z,Number(C[1]),Number(C[2])-1,Number(C[3]));const Xt=Number(C[4]||0)-Ne,_n=Number(C[5]||0)-k,br=Number(C[6]||0),$r=Math.floor(1e3*parseFloat("0."+(C[7]||0)));return je.call(z,Xt,_n,br,$r),z}(k)}const z=new Date(C);if(!ie(z))throw new Error(`Unable to convert "${C}" into a date`);return z}(C);z=ur(Ne,z)||z;let _n,Xt=[];for(;z;){if(_n=or.exec(z),!_n){Xt.push(z);break}{Xt=Xt.concat(_n.slice(1));const Yr=Xt.pop();if(!Yr)break;z=Yr}}let br=ae.getTimezoneOffset();k&&(br=ot(k,br),ae=function ye(C,z,Ne){const k=Ne?-1:1,ae=C.getTimezoneOffset();return function fe(C,z){return(C=new Date(C.getTime())).setMinutes(C.getMinutes()+z),C}(C,k*(ot(z,ae)-ae))}(ae,k,!0));let $r="";return Xt.forEach(Yr=>{const kr=function kt(C){if(Je[C])return Je[C];let z;switch(C){case"G":case"GG":case"GGG":z=jn(hn.Eras,te.Abbreviated);break;case"GGGG":z=jn(hn.Eras,te.Wide);break;case"GGGGG":z=jn(hn.Eras,te.Narrow);break;case"y":z=qn(wn.FullYear,1,0,!1,!0);break;case"yy":z=qn(wn.FullYear,2,0,!0,!0);break;case"yyy":z=qn(wn.FullYear,3,0,!1,!0);break;case"yyyy":z=qn(wn.FullYear,4,0,!1,!0);break;case"Y":z=mt(1);break;case"YY":z=mt(2,!0);break;case"YYY":z=mt(3);break;case"YYYY":z=mt(4);break;case"M":case"L":z=qn(wn.Month,1,1);break;case"MM":case"LL":z=qn(wn.Month,2,1);break;case"MMM":z=jn(hn.Months,te.Abbreviated);break;case"MMMM":z=jn(hn.Months,te.Wide);break;case"MMMMM":z=jn(hn.Months,te.Narrow);break;case"LLL":z=jn(hn.Months,te.Abbreviated,St.Standalone);break;case"LLLL":z=jn(hn.Months,te.Wide,St.Standalone);break;case"LLLLL":z=jn(hn.Months,te.Narrow,St.Standalone);break;case"w":z=ii(1);break;case"ww":z=ii(2);break;case"W":z=ii(1,!0);break;case"d":z=qn(wn.Date,1);break;case"dd":z=qn(wn.Date,2);break;case"c":case"cc":z=qn(wn.Day,1);break;case"ccc":z=jn(hn.Days,te.Abbreviated,St.Standalone);break;case"cccc":z=jn(hn.Days,te.Wide,St.Standalone);break;case"ccccc":z=jn(hn.Days,te.Narrow,St.Standalone);break;case"cccccc":z=jn(hn.Days,te.Short,St.Standalone);break;case"E":case"EE":case"EEE":z=jn(hn.Days,te.Abbreviated);break;case"EEEE":z=jn(hn.Days,te.Wide);break;case"EEEEE":z=jn(hn.Days,te.Narrow);break;case"EEEEEE":z=jn(hn.Days,te.Short);break;case"a":case"aa":case"aaa":z=jn(hn.DayPeriods,te.Abbreviated);break;case"aaaa":z=jn(hn.DayPeriods,te.Wide);break;case"aaaaa":z=jn(hn.DayPeriods,te.Narrow);break;case"b":case"bb":case"bbb":z=jn(hn.DayPeriods,te.Abbreviated,St.Standalone,!0);break;case"bbbb":z=jn(hn.DayPeriods,te.Wide,St.Standalone,!0);break;case"bbbbb":z=jn(hn.DayPeriods,te.Narrow,St.Standalone,!0);break;case"B":case"BB":case"BBB":z=jn(hn.DayPeriods,te.Abbreviated,St.Format,!0);break;case"BBBB":z=jn(hn.DayPeriods,te.Wide,St.Format,!0);break;case"BBBBB":z=jn(hn.DayPeriods,te.Narrow,St.Format,!0);break;case"h":z=qn(wn.Hours,1,-12);break;case"hh":z=qn(wn.Hours,2,-12);break;case"H":z=qn(wn.Hours,1);break;case"HH":z=qn(wn.Hours,2);break;case"m":z=qn(wn.Minutes,1);break;case"mm":z=qn(wn.Minutes,2);break;case"s":z=qn(wn.Seconds,1);break;case"ss":z=qn(wn.Seconds,2);break;case"S":z=qn(wn.FractionalSeconds,1);break;case"SS":z=qn(wn.FractionalSeconds,2);break;case"SSS":z=qn(wn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":z=mi(Wn.Short);break;case"ZZZZZ":z=mi(Wn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":z=mi(Wn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":z=mi(Wn.Long);break;default:return null}return Je[C]=z,z}(Yr);$r+=kr?kr(ae,Ne,br):"''"===Yr?"'":Yr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),$r}function tr(C,z,Ne){const k=new Date(0);return k.setFullYear(C,z,Ne),k.setHours(0,0,0),k}function ur(C,z){var Ne;const k=function zt(C){return(0,d.H5H)(C)[d.KH2.LocaleId]}(C);if(null!==(Ne=Qt[k])&&void 0!==Ne||(Qt[k]={}),Qt[k][z])return Qt[k][z];let ae="";switch(z){case"shortDate":ae=H(C,Dt.Short);break;case"mediumDate":ae=H(C,Dt.Medium);break;case"longDate":ae=H(C,Dt.Long);break;case"fullDate":ae=H(C,Dt.Full);break;case"shortTime":ae=Ee(C,Dt.Short);break;case"mediumTime":ae=Ee(C,Dt.Medium);break;case"longTime":ae=Ee(C,Dt.Long);break;case"fullTime":ae=Ee(C,Dt.Full);break;case"short":const je=ur(C,"shortTime"),Xt=ur(C,"shortDate");ae=Br(Ve(C,Dt.Short),[je,Xt]);break;case"medium":const _n=ur(C,"mediumTime"),br=ur(C,"mediumDate");ae=Br(Ve(C,Dt.Medium),[_n,br]);break;case"long":const $r=ur(C,"longTime"),Yr=ur(C,"longDate");ae=Br(Ve(C,Dt.Long),[$r,Yr]);break;case"full":const kr=ur(C,"fullTime"),ei=ur(C,"fullDate");ae=Br(Ve(C,Dt.Full),[kr,ei])}return ae&&(Qt[k][z]=ae),ae}function Br(C,z){return z&&(C=C.replace(/\{([^}]+)}/g,function(Ne,k){return null!=z&&k in z?z[k]:Ne})),C}function Kn(C,z,Ne="-",k,ae){let je="";(C<0||ae&&C<=0)&&(ae?C=1-C:(C=-C,je=Ne));let Xt=String(C);for(;Xt.length<z;)Xt="0"+Xt;return k&&(Xt=Xt.slice(Xt.length-z)),je+Xt}function qn(C,z,Ne=0,k=!1,ae=!1){return function(je,Xt){let _n=function ui(C,z){switch(C){case wn.FullYear:return z.getFullYear();case wn.Month:return z.getMonth();case wn.Date:return z.getDate();case wn.Hours:return z.getHours();case wn.Minutes:return z.getMinutes();case wn.Seconds:return z.getSeconds();case wn.FractionalSeconds:return z.getMilliseconds();case wn.Day:return z.getDay();default:throw new Error(`Unknown DateType value "${C}".`)}}(C,je);if((Ne>0||_n>-Ne)&&(_n+=Ne),C===wn.Hours)0===_n&&-12===Ne&&(_n=12);else if(C===wn.FractionalSeconds)return function Ir(C,z){return Kn(C,3).substring(0,z)}(_n,z);const br=it(Xt,wt.MinusSign);return Kn(_n,z,br,k,ae)}}function jn(C,z,Ne=St.Format,k=!1){return function(ae,je){return function Qn(C,z,Ne,k,ae,je){switch(Ne){case hn.Months:return function $e(C,z,Ne){const k=(0,d.H5H)(C),je=bn([k[d.KH2.MonthsFormat],k[d.KH2.MonthsStandalone]],z);return bn(je,Ne)}(z,ae,k)[C.getMonth()];case hn.Days:return function Tn(C,z,Ne){const k=(0,d.H5H)(C),je=bn([k[d.KH2.DaysFormat],k[d.KH2.DaysStandalone]],z);return bn(je,Ne)}(z,ae,k)[C.getDay()];case hn.DayPeriods:const Xt=C.getHours(),_n=C.getMinutes();if(je){const $r=function Jt(C){const z=(0,d.H5H)(C);return Sn(z),(z[d.KH2.ExtraData][2]||[]).map(k=>"string"==typeof k?nn(k):[nn(k[0]),nn(k[1])])}(z),Yr=function Pn(C,z,Ne){const k=(0,d.H5H)(C);Sn(k);const je=bn([k[d.KH2.ExtraData][0],k[d.KH2.ExtraData][1]],z)||[];return bn(je,Ne)||[]}(z,ae,k),kr=$r.findIndex(ei=>{if(Array.isArray(ei)){const[Wr,Vi]=ei,Zr=Xt>=Wr.hours&&_n>=Wr.minutes,En=Xt<Vi.hours||Xt===Vi.hours&&_n<Vi.minutes;if(Wr.hours<Vi.hours){if(Zr&&En)return!0}else if(Zr||En)return!0}else if(ei.hours===Xt&&ei.minutes===_n)return!0;return!1});if(-1!==kr)return Yr[kr]}return function It(C,z,Ne){const k=(0,d.H5H)(C),je=bn([k[d.KH2.DayPeriodsFormat],k[d.KH2.DayPeriodsStandalone]],z);return bn(je,Ne)}(z,ae,k)[Xt<12?0:1];case hn.Eras:return function J(C,z){return bn((0,d.H5H)(C)[d.KH2.Eras],z)}(z,k)[C.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Ne}`)}}(ae,je,C,z,Ne,k)}}function mi(C){return function(z,Ne,k){const ae=-1*k,je=it(Ne,wt.MinusSign),Xt=ae>0?Math.floor(ae/60):Math.ceil(ae/60);switch(C){case Wn.Short:return(ae>=0?"+":"")+Kn(Xt,2,je)+Kn(Math.abs(ae%60),2,je);case Wn.ShortGMT:return"GMT"+(ae>=0?"+":"")+Kn(Xt,1,je);case Wn.Long:return"GMT"+(ae>=0?"+":"")+Kn(Xt,2,je)+":"+Kn(Math.abs(ae%60),2,je);case Wn.Extended:return 0===k?"Z":(ae>=0?"+":"")+Kn(Xt,2,je)+":"+Kn(Math.abs(ae%60),2,je);default:throw new Error(`Unknown zone width "${C}"`)}}}const at=0,Dr=4;function Oi(C){const z=C.getDay(),Ne=0===z?-3:Dr-z;return tr(C.getFullYear(),C.getMonth(),C.getDate()+Ne)}function ii(C,z=!1){return function(Ne,k){let ae;if(z){const je=new Date(Ne.getFullYear(),Ne.getMonth(),1).getDay()-1,Xt=Ne.getDate();ae=1+Math.floor((Xt+je)/7)}else{const je=Oi(Ne),Xt=function Mr(C){const z=tr(C,at,1).getDay();return tr(C,0,1+(z<=Dr?Dr:Dr+7)-z)}(je.getFullYear()),_n=je.getTime()-Xt.getTime();ae=1+Math.round(_n/6048e5)}return Kn(ae,C,it(k,wt.MinusSign))}}function mt(C,z=!1){return function(Ne,k){return Kn(Oi(Ne).getFullYear(),C,it(k,wt.MinusSign),z)}}const Je={};function ot(C,z){C=C.replace(/:/g,"");const Ne=Date.parse("Jan 01, 1970 00:00:00 "+C)/6e4;return isNaN(Ne)?z:Ne}function ie(C){return C instanceof Date&&!isNaN(C.valueOf())}function re(C,z){z=encodeURIComponent(z);for(const Ne of C.split(";")){const k=Ne.indexOf("="),[ae,je]=-1==k?[Ne,""]:[Ne.slice(0,k),Ne.slice(k+1)];if(ae.trim()===z)return decodeURIComponent(je)}return null}const Le=/\s+/,Mt=[];let Nt=(()=>{var C;class z{constructor(k,ae){this._ngEl=k,this._renderer=ae,this.initialClasses=Mt,this.stateMap=new Map}set klass(k){this.initialClasses=null!=k?k.trim().split(Le):Mt}set ngClass(k){this.rawClass="string"==typeof k?k.trim().split(Le):k}ngDoCheck(){for(const ae of this.initialClasses)this._updateState(ae,!0);const k=this.rawClass;if(Array.isArray(k)||k instanceof Set)for(const ae of k)this._updateState(ae,!0);else if(null!=k)for(const ae of Object.keys(k))this._updateState(ae,!!k[ae]);this._applyStateDiff()}_updateState(k,ae){const je=this.stateMap.get(k);void 0!==je?(je.enabled!==ae&&(je.changed=!0,je.enabled=ae),je.touched=!0):this.stateMap.set(k,{enabled:ae,changed:!0,touched:!0})}_applyStateDiff(){for(const k of this.stateMap){const ae=k[0],je=k[1];je.changed?(this._toggleClass(ae,je.enabled),je.changed=!1):je.touched||(je.enabled&&this._toggleClass(ae,!1),this.stateMap.delete(ae)),je.touched=!1}}_toggleClass(k,ae){(k=k.trim()).length>0&&k.split(Le).forEach(je=>{ae?this._renderer.addClass(this._ngEl.nativeElement,je):this._renderer.removeClass(this._ngEl.nativeElement,je)})}}return(C=z).\u0275fac=function(k){return new(k||C)(d.rXU(d.aKT),d.rXU(d.sFG))},C.\u0275dir=d.FsC({type:C,selectors:[["","ngClass",""]],inputs:{klass:[d.Mj6.None,"class","klass"],ngClass:"ngClass"},standalone:!0}),z})();class Yn{constructor(z,Ne,k,ae){this.$implicit=z,this.ngForOf=Ne,this.index=k,this.count=ae}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let yi=(()=>{var C;class z{set ngForOf(k){this._ngForOf=k,this._ngForOfDirty=!0}set ngForTrackBy(k){this._trackByFn=k}get ngForTrackBy(){return this._trackByFn}constructor(k,ae,je){this._viewContainer=k,this._template=ae,this._differs=je,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(k){k&&(this._template=k)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const k=this._ngForOf;!this._differ&&k&&(this._differ=this._differs.find(k).create(this.ngForTrackBy))}if(this._differ){const k=this._differ.diff(this._ngForOf);k&&this._applyChanges(k)}}_applyChanges(k){const ae=this._viewContainer;k.forEachOperation((je,Xt,_n)=>{if(null==je.previousIndex)ae.createEmbeddedView(this._template,new Yn(je.item,this._ngForOf,-1,-1),null===_n?void 0:_n);else if(null==_n)ae.remove(null===Xt?void 0:Xt);else if(null!==Xt){const br=ae.get(Xt);ae.move(br,_n),zi(br,je)}});for(let je=0,Xt=ae.length;je<Xt;je++){const br=ae.get(je).context;br.index=je,br.count=Xt,br.ngForOf=this._ngForOf}k.forEachIdentityChange(je=>{zi(ae.get(je.currentIndex),je)})}static ngTemplateContextGuard(k,ae){return!0}}return(C=z).\u0275fac=function(k){return new(k||C)(d.rXU(d.c1b),d.rXU(d.C4Q),d.rXU(d._q3))},C.\u0275dir=d.FsC({type:C,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),z})();function zi(C,z){C.context.$implicit=z.item}let Ln=(()=>{var C;class z{constructor(k,ae){this._viewContainer=k,this._context=new gi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ae}set ngIf(k){this._context.$implicit=this._context.ngIf=k,this._updateView()}set ngIfThen(k){Ki("ngIfThen",k),this._thenTemplateRef=k,this._thenViewRef=null,this._updateView()}set ngIfElse(k){Ki("ngIfElse",k),this._elseTemplateRef=k,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(k,ae){return!0}}return(C=z).\u0275fac=function(k){return new(k||C)(d.rXU(d.c1b),d.rXU(d.C4Q))},C.\u0275dir=d.FsC({type:C,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),z})();class gi{constructor(){this.$implicit=null,this.ngIf=null}}function Ki(C,z){if(z&&!z.createEmbeddedView)throw new Error(`${C} must be a TemplateRef, but received '${(0,d.Tbb)(z)}'.`)}let Fr=(()=>{var C;class z{constructor(k){this._viewContainerRef=k,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(k){if(this._shouldRecreateView(k)){var ae;const je=this._viewContainerRef;if(this._viewRef&&je.remove(je.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const Xt=this._createContextForwardProxy();this._viewRef=je.createEmbeddedView(this.ngTemplateOutlet,Xt,{injector:null!==(ae=this.ngTemplateOutletInjector)&&void 0!==ae?ae:void 0})}}_shouldRecreateView(k){return!!k.ngTemplateOutlet||!!k.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(k,ae,je)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,ae,je),get:(k,ae,je)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,ae,je)}})}}return(C=z).\u0275fac=function(k){return new(k||C)(d.rXU(d.c1b))},C.\u0275dir=d.FsC({type:C,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[d.OA$]}),z})();function Hi(C,z){return new d.wOt(2100,!1)}class Io{createSubscription(z,Ne){return(0,d.O8t)(()=>z.subscribe({next:Ne,error:k=>{throw k}}))}dispose(z){(0,d.O8t)(()=>z.unsubscribe())}}class vi{createSubscription(z,Ne){return z.then(Ne,k=>{throw k})}dispose(z){}}const Ur=new vi,zr=new Io;let lr=(()=>{var C;class z{constructor(k){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=k}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(k){if(!this._obj){if(k)try{this.markForCheckOnValueUpdate=!1,this._subscribe(k)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return k!==this._obj?(this._dispose(),this.transform(k)):this._latestValue}_subscribe(k){this._obj=k,this._strategy=this._selectStrategy(k),this._subscription=this._strategy.createSubscription(k,ae=>this._updateLatestValue(k,ae))}_selectStrategy(k){if((0,d.jNT)(k))return Ur;if((0,d.zjR)(k))return zr;throw Hi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(k,ae){var je;k===this._obj&&(this._latestValue=ae,this.markForCheckOnValueUpdate)&&(null===(je=this._ref)||void 0===je||je.markForCheck())}}return(C=z).\u0275fac=function(k){return new(k||C)(d.rXU(d.gRc,16))},C.\u0275pipe=d.EJ8({name:"async",type:C,pure:!1,standalone:!0}),z})();const Go=new d.nKC(""),Ri=new d.nKC("");let wo=(()=>{var C;class z{constructor(k,ae,je){this.locale=k,this.defaultTimezone=ae,this.defaultOptions=je}transform(k,ae,je,Xt){if(null==k||""===k||k!=k)return null;try{var _n,br,$r,Yr,kr;const ei=null!==(_n=null!=ae?ae:null===(br=this.defaultOptions)||void 0===br?void 0:br.dateFormat)&&void 0!==_n?_n:"mediumDate",Wr=null!==($r=null!==(Yr=null!=je?je:null===(kr=this.defaultOptions)||void 0===kr?void 0:kr.timezone)&&void 0!==Yr?Yr:this.defaultTimezone)&&void 0!==$r?$r:void 0;return Un(k,ei,Xt||this.locale,Wr)}catch(ei){throw Hi()}}}return(C=z).\u0275fac=function(k){return new(k||C)(d.rXU(d.xe9,16),d.rXU(Go,24),d.rXU(Ri,24))},C.\u0275pipe=d.EJ8({name:"date",type:C,pure:!0,standalone:!0}),z})(),Et=(()=>{var C;class z{}return(C=z).\u0275fac=function(k){return new(k||C)},C.\u0275mod=d.$C({type:C}),C.\u0275inj=d.G2t({}),z})();const Yt="browser",on="server";function kn(C){return C===on}let qi=(()=>{var C;class z{}return(C=z).\u0275prov=(0,d.jDH)({token:C,providedIn:"root",factory:()=>function dn(C){return C===Yt}((0,d.WQX)(d.Agw))?new Ar((0,d.WQX)(ce),window):new pr}),z})();class Ar{constructor(z,Ne){this.document=z,this.window=Ne,this.offset=()=>[0,0]}setOffset(z){this.offset=Array.isArray(z)?()=>z:z}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(z){this.window.scrollTo(z[0],z[1])}scrollToAnchor(z){const Ne=function er(C,z){const Ne=C.getElementById(z)||C.getElementsByName(z)[0];if(Ne)return Ne;if("function"==typeof C.createTreeWalker&&C.body&&"function"==typeof C.body.attachShadow){const k=C.createTreeWalker(C.body,NodeFilter.SHOW_ELEMENT);let ae=k.currentNode;for(;ae;){const je=ae.shadowRoot;if(je){const Xt=je.getElementById(z)||je.querySelector(`[name="${z}"]`);if(Xt)return Xt}ae=k.nextNode()}}return null}(this.document,z);Ne&&(this.scrollToElement(Ne),Ne.focus())}setHistoryScrollRestoration(z){this.window.history.scrollRestoration=z}scrollToElement(z){const Ne=z.getBoundingClientRect(),k=Ne.left+this.window.pageXOffset,ae=Ne.top+this.window.pageYOffset,je=this.offset();this.window.scrollTo(k-je[0],ae-je[1])}}class pr{setOffset(z){}getScrollPosition(){return[0,0]}scrollToPosition(z){}scrollToAnchor(z){}setHistoryScrollRestoration(z){}}class fi{}},4438:(Dn,At,O)=>{"use strict";O.d(At,{iLQ:()=>rI,sZ2:()=>_f,hnV:()=>cT,Hbi:()=>SP,o8S:()=>Nd,BIS:()=>dy,gRc:()=>CT,Ql9:()=>JR,Ocv:()=>aP,Z63:()=>Ns,aKT:()=>Ic,uvJ:()=>es,zcH:()=>bl,bkB:()=>Wl,$GK:()=>lr,nKC:()=>Nt,zZn:()=>Fa,_q3:()=>dI,MKu:()=>hI,xe9:()=>z_,Co$:()=>hE,Vns:()=>Vh,SKi:()=>xo,Xx1:()=>dn,Agw:()=>If,PLl:()=>yf,sFG:()=>n_,_9s:()=>Cu,czy:()=>Xl,kdw:()=>zn,C4Q:()=>Dd,NYb:()=>GR,giA:()=>lT,xvI:()=>IR,RxE:()=>tT,c1b:()=>v,gXe:()=>po,mal:()=>ru,L39:()=>rM,a0P:()=>dM,Ol2:()=>c0,w6W:()=>xD,oH4:()=>yT,SmG:()=>fP,Rfq:()=>ii,WQX:()=>Se,naY:()=>hP,QuC:()=>Uo,EmA:()=>Xs,fpN:()=>wP,HJs:()=>hM,N4e:()=>Ds,O8t:()=>oM,H3F:()=>nT,H8p:()=>Ha,KH2:()=>kp,TgB:()=>mp,wOt:()=>vt,WHO:()=>sT,e01:()=>aT,H5H:()=>k0,Zy3:()=>pt,mq5:()=>pA,JZv:()=>qn,LfX:()=>$t,plB:()=>iu,jNT:()=>tI,zjR:()=>uT,TL$:()=>ig,Tbb:()=>at,Vt3:()=>a0,Mj6:()=>Ko,GFd:()=>dE,OA$:()=>vo,Jv_:()=>SC,aNF:()=>RC,R7$:()=>Fy,BMQ:()=>E0,AVh:()=>w0,wni:()=>rC,VBU:()=>ds,FsC:()=>Ba,jDH:()=>Rr,G2t:()=>ki,$C:()=>la,EJ8:()=>uo,rXU:()=>Oc,nrm:()=>N0,eu8:()=>O0,bVm:()=>N_,qex:()=>x_,k0s:()=>M_,j41:()=>P_,RV6:()=>dA,xGo:()=>Xh,KVO:()=>K,kS0:()=>Yh,QTQ:()=>Lg,bIt:()=>V0,lsd:()=>sC,XpG:()=>WA,nI1:()=>LC,bMT:()=>VC,i5U:()=>UC,SdG:()=>KA,NAR:()=>GA,Y8G:()=>D0,l_i:()=>MC,mGM:()=>oC,Njj:()=>zd,eBV:()=>xu,n$t:()=>Tg,DNE:()=>vp,EFF:()=>mC,JRh:()=>B0,SpI:()=>V_,DH7:()=>bC,mxI:()=>z0,R50:()=>j0,GBs:()=>iC}),O(467);let N=null,de=1;const Be=Symbol("SIGNAL");function ce(e){const t=N;return N=e,t}function We(e){if((!ze(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==de)){if(!e.producerMustRecompute(e)&&!tt(e))return e.dirty=!1,void(e.lastCleanEpoch=de);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=de}}function tt(e){dt(e);for(let t=0;t<e.producerNode.length;t++){const r=e.producerNode[t],o=e.producerLastReadVersion[t];if(o!==r.version||(We(r),o!==r.version))return!0}return!1}function Ge(e,t){if(function St(e){var t,r;null!==(t=e.liveConsumerNode)&&void 0!==t||(e.liveConsumerNode=[]),null!==(r=e.liveConsumerIndexOfThis)&&void 0!==r||(e.liveConsumerIndexOfThis=[])}(e),dt(e),1===e.liveConsumerNode.length)for(let o=0;o<e.producerNode.length;o++)Ge(e.producerNode[o],e.producerIndexOfThis[o]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[t],a=e.liveConsumerNode[t];dt(a),a.producerIndexOfThis[o]=t}}function ze(e){var t,r;return e.consumerIsAlwaysLive||(null!==(t=null==e||null===(r=e.liveConsumerNode)||void 0===r?void 0:r.length)&&void 0!==t?t:0)>0}function dt(e){var t,r,o;null!==(t=e.producerNode)&&void 0!==t||(e.producerNode=[]),null!==(r=e.producerIndexOfThis)&&void 0!==r||(e.producerIndexOfThis=[]),null!==(o=e.producerLastReadVersion)&&void 0!==o||(e.producerLastReadVersion=[])}let Tn=null;var Sn=O(1413),Jt=O(8359),Pn=O(4412),Jn=O(6354);const nn="https://g.co/ng/security#xss";class vt extends Error{constructor(t,r){super(pt(t,r)),this.code=t}}function pt(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}function wn(e){return{toString:e}.toString()}const Un="__parameters__";function Kn(e,t,r){return wn(()=>{const o=function Br(e){return function(...r){if(e){const o=e(...r);for(const a in o)this[a]=o[a]}}}(t);function a(...h){if(this instanceof a)return o.apply(this,h),this;const g=new a(...h);return y.annotation=g,y;function y(A,$,Z){const ue=A.hasOwnProperty(Un)?A[Un]:Object.defineProperty(A,Un,{value:[]})[Un];for(;ue.length<=Z;)ue.push(null);return(ue[Z]=ue[Z]||[]).push(g),A}}return r&&(a.prototype=Object.create(r.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a})}const qn=globalThis;function Qn(e){for(let t in e)if(e[t]===Qn)return t;throw Error("Could not find renamed property on target object.")}function mi(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function at(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(at).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function Dr(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Oi=Qn({__forward_ref__:Qn});function ii(e){return e.__forward_ref__=ii,e.toString=function(){return at(this())},e}function mt(e){return Je(e)?e():e}function Je(e){return"function"==typeof e&&e.hasOwnProperty(Oi)&&e.__forward_ref__===ii}function Rr(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ki(e){return{providers:e.providers||[],imports:e.imports||[]}}function to(e){return ne(e,oe)||ne(e,Le)}function $t(e){return null!==to(e)}function ne(e,t){return e.hasOwnProperty(t)?e[t]:null}function ke(e){return e&&(e.hasOwnProperty(re)||e.hasOwnProperty(Mt))?e[re]:null}const oe=Qn({\u0275prov:Qn}),re=Qn({\u0275inj:Qn}),Le=Qn({ngInjectableDef:Qn}),Mt=Qn({ngInjectorDef:Qn});class Nt{constructor(t,r){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=Rr({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function jr(e){return e&&!!e.\u0275providers}const Er=Qn({\u0275cmp:Qn}),no=Qn({\u0275dir:Qn}),si=Qn({\u0275pipe:Qn}),Nr=Qn({\u0275mod:Qn}),bo=Qn({\u0275fac:Qn}),Fi=Qn({__NG_ELEMENT_ID__:Qn}),Qr=Qn({__NG_ENV_ID__:Qn});function hr(e){return"string"==typeof e?e:null==e?"":String(e)}function zr(e,t){throw new vt(-201,!1)}var lr=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(lr||{});let Vr;function vs(){return Vr}function ar(e){const t=Vr;return Vr=e,t}function No(e,t,r){const o=to(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:r&lr.Optional?null:void 0!==t?t:void zr()}const Ri={},wo="__NG_DI_FLAG__",ai="ngTempTokenPath",Q=/\n/gm,x="__source";let Ce;function mr(e){const t=Ce;return Ce=e,t}function Ai(e,t=lr.Default){if(void 0===Ce)throw new vt(-203,!1);return null===Ce?No(e,void 0,t):Ce.get(e,t&lr.Optional?null:void 0,t)}function K(e,t=lr.Default){return(vs()||Ai)(mt(e),t)}function Se(e,t=lr.Default){return K(e,He(t))}function He(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function bt(e){const t=[];for(let r=0;r<e.length;r++){const o=mt(e[r]);if(Array.isArray(o)){if(0===o.length)throw new vt(900,!1);let a,h=lr.Default;for(let g=0;g<o.length;g++){const y=o[g],A=Yt(y);"number"==typeof A?-1===A?a=y.token:h|=A:a=y}t.push(K(a,h))}else t.push(K(o))}return t}function Et(e,t){return e[wo]=t,e.prototype[wo]=t,e}function Yt(e){return e[wo]}const dn=Et(Kn("Optional"),8),zn=Et(Kn("SkipSelf"),4);function vr(e,t){return e.hasOwnProperty(bo)?e[bo]:null}function er(e,t){e.forEach(r=>Array.isArray(r)?er(r,t):t(r))}function pr(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function fi(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function ao(e,t,r){let o=Fo(e,t);return o>=0?e[1|o]=r:(o=~o,function Ua(e,t,r,o){let a=e.length;if(a==t)e.push(r,o);else if(1===a)e.push(o,e[0]),e[0]=r;else{for(a--,e.push(e[a-1],e[a]);a>t;)e[a]=e[a-2],a--;e[t]=r,e[t+1]=o}}(e,o,t,r)),o}function Sa(e,t){const r=Fo(e,t);if(r>=0)return e[1|r]}function Fo(e,t){return function pi(e,t,r){let o=0,a=e.length>>r;for(;a!==o;){const h=o+(a-o>>1),g=e[h<<r];if(t===g)return h<<r;g>t?a=h:o=h+1}return~(a<<r)}(e,t,1)}const fo={},Or=[],Ns=new Nt(""),$a=new Nt("",-1),Ra=new Nt("");class is{get(t,r=Ri){if(r===Ri){const o=new Error(`NullInjectorError: No provider for ${at(t)}!`);throw o.name="NullInjectorError",o}return r}}var _s=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(_s||{}),po=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(po||{}),Ko=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Ko||{});function lo(e,t,r){let o=e.length;for(;;){const a=e.indexOf(t,r);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const h=t.length;if(a+h===o||e.charCodeAt(a+h)<=32)return a}r=a+1}}function Lo(e,t,r){let o=0;for(;o<r.length;){const a=r[o];if("number"==typeof a){if(0!==a)break;o++;const h=r[o++],g=r[o++],y=r[o++];e.setAttribute(t,g,y,h)}else{const h=a,g=r[++o];Pa(h)?e.setProperty(t,h,g):e.setAttribute(t,h,g),o++}}return o}function Eo(e){return 3===e||4===e||6===e}function Pa(e){return 64===e.charCodeAt(0)}function yo(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?r=a:0===r||ys(e,r,a,null,-1===r||2===r?t[++o]:null)}}return e}function ys(e,t,r,o,a){let h=0,g=e.length;if(-1===t)g=-1;else for(;h<e.length;){const y=e[h++];if("number"==typeof y){if(y===t){g=-1;break}if(y>t){g=h-1;break}}}for(;h<e.length;){const y=e[h];if("number"==typeof y)break;if(y===r){if(null===o)return void(null!==a&&(e[h+1]=a));if(o===e[h+1])return void(e[h+2]=a)}h++,null!==o&&h++,null!==a&&h++}-1!==g&&(e.splice(g,0,t),h=g+1),e.splice(h++,0,r),null!==o&&e.splice(h++,0,o),null!==a&&e.splice(h++,0,a)}const Pi="ng-template";function qs(e,t,r,o){let a=0;if(o){for(;a<t.length&&"string"==typeof t[a];a+=2)if("class"===t[a]&&-1!==lo(t[a+1].toLowerCase(),r,0))return!0}else if(aa(e))return!1;if(a=t.indexOf(1,a),a>-1){let h;for(;++a<t.length&&"string"==typeof(h=t[a]);)if(h.toLowerCase()===r)return!0}return!1}function aa(e){return 4===e.type&&e.value!==Pi}function G(e,t,r){return t===(4!==e.type||r?e.value:Pi)}function M(e,t,r){let o=4;const a=e.attrs,h=null!==a?function Bn(e){for(let t=0;t<e.length;t++)if(Eo(e[t]))return t;return e.length}(a):0;let g=!1;for(let y=0;y<t.length;y++){const A=t[y];if("number"!=typeof A){if(!g)if(4&o){if(o=2|1&o,""!==A&&!G(e,A,r)||""===A&&1===t.length){if(Ie(o))return!1;g=!0}}else if(8&o){if(null===a||!qs(e,a,A,r)){if(Ie(o))return!1;g=!0}}else{const $=t[++y],Z=W(A,a,aa(e),r);if(-1===Z){if(Ie(o))return!1;g=!0;continue}if(""!==$){let ue;if(ue=Z>h?"":a[Z+1].toLowerCase(),2&o&&$!==ue){if(Ie(o))return!1;g=!0}}}}else{if(!g&&!Ie(o)&&!Ie(A))return!1;if(g&&Ie(A))continue;g=!1,o=A|1&o}}return Ie(o)||g}function Ie(e){return!(1&e)}function W(e,t,r,o){if(null===t)return-1;let a=0;if(o||!r){let h=!1;for(;a<t.length;){const g=t[a];if(g===e)return a;if(3===g||6===g)h=!0;else{if(1===g||2===g){let y=t[++a];for(;"string"==typeof y;)y=t[++a];continue}if(4===g)break;if(0===g){a+=4;continue}}a+=h?1:2}return-1}return function fr(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const o=e[r];if("number"==typeof o)return-1;if(o===t)return r;r++}return-1}(t,e)}function be(e,t,r=!1){for(let o=0;o<t.length;o++)if(M(e,t[o],r))return!0;return!1}function go(e,t){e:for(let r=0;r<t.length;r++){const o=t[r];if(e.length===o.length){for(let a=0;a<e.length;a++)if(e[a]!==o[a])continue e;return!0}}return!1}function Vo(e,t){return e?":not("+t.trim()+")":t}function Xi(e){let t=e[0],r=1,o=2,a="",h=!1;for(;r<e.length;){let g=e[r];if("string"==typeof g)if(2&o){const y=e[++r];a+="["+g+(y.length>0?'="'+y+'"':"")+"]"}else 8&o?a+="."+g:4&o&&(a+=" "+g);else""!==a&&!Ie(g)&&(t+=Vo(h,a),a=""),o=g,h=h||!Ie(o);r++}return""!==a&&(t+=Vo(h,a)),t}function ds(e){return wn(()=>{var t;const r=ja(e),o={...r,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===_s.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:null!==(t=e.signals)&&void 0!==t&&t,data:e.data||{},encapsulation:e.encapsulation||po.Emulated,styles:e.styles||Or,_:null,schemas:e.schemas||null,tView:null,id:""};Es(o);const a=e.dependencies;return o.directiveDefs=As(a,!1),o.pipeDefs=As(a,!0),o.id=function rl(e){let t=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const a of r)t=Math.imul(31,t)+a.charCodeAt(0)|0;return t+=2147483648,"c"+t}(o),o})}function lu(e){return xr(e)||Mi(e)}function Qi(e){return null!==e}function la(e){return wn(()=>({type:e.type,bootstrap:e.bootstrap||Or,declarations:e.declarations||Or,imports:e.imports||Or,exports:e.exports||Or,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Is(e,t){if(null==e)return fo;const r={};for(const a in e)if(e.hasOwnProperty(a)){const h=e[a];let g,y,A=Ko.None;var o;Array.isArray(h)?(A=h[0],g=h[1],y=null!==(o=h[2])&&void 0!==o?o:g):(g=h,y=h),t?(r[g]=A!==Ko.None?[a,A]:a,t[g]=y):r[g]=a}return r}function Ba(e){return wn(()=>{const t=ja(e);return Es(t),t})}function uo(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function xr(e){return e[Er]||null}function Mi(e){return e[no]||null}function ro(e){return e[si]||null}function Uo(e){const t=xr(e)||Mi(e)||ro(e);return null!==t&&t.standalone}function sr(e,t){const r=e[Nr]||null;if(!r&&!0===t)throw new Error(`Type ${at(e)} does not have '\u0275mod' property.`);return r}function ja(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||fo,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Or,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Is(e.inputs,t),outputs:Is(e.outputs),debugInfo:null}}function Es(e){var t;null===(t=e.features)||void 0===t||t.forEach(r=>r(e))}function As(e,t){if(!e)return null;const r=t?ro:lu;return()=>("function"==typeof e?e():e).map(o=>r(o)).filter(Qi)}function Xs(e){return{\u0275providers:e}}function za(...e){return{\u0275providers:Ma(0,e),\u0275fromNgModule:!0}}function Ma(e,...t){const r=[],o=new Set;let a;const h=g=>{r.push(g)};return er(t,g=>{const y=g;Cs(y,h,[],o)&&(a||(a=[]),a.push(y))}),void 0!==a&&Yi(a,h),r}function Yi(e,t){for(let r=0;r<e.length;r++){const{ngModule:o,providers:a}=e[r];Qs(a,h=>{t(h,o)})}}function Cs(e,t,r,o){if(!(e=mt(e)))return!1;let a=null,h=ke(e);const g=!h&&xr(e);if(h||g){if(g&&!g.standalone)return!1;a=e}else{const A=e.ngModule;if(h=ke(A),!h)return!1;a=A}const y=o.has(a);if(g){if(y)return!1;if(o.add(a),g.dependencies){const A="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const $ of A)Cs($,t,r,o)}}else{if(!h)return!1;{if(null!=h.imports&&!y){let $;o.add(a);try{er(h.imports,Z=>{Cs(Z,t,r,o)&&($||($=[]),$.push(Z))})}finally{}void 0!==$&&Yi($,t)}if(!y){const $=vr(a)||(()=>new a);t({provide:a,useFactory:$,deps:Or},a),t({provide:Ra,useValue:a,multi:!0},a),t({provide:Ns,useValue:()=>K(a),multi:!0},a)}const A=h.providers;if(null!=A&&!y){const $=e;Qs(A,Z=>{t(Z,$)})}}}return a!==e&&void 0!==e.providers}function Qs(e,t){for(let r of e)jr(r)&&(r=r.\u0275providers),Array.isArray(r)?Qs(r,t):t(r)}const Os=Qn({provide:String,useValue:Qn});function il(e){return null!==e&&"object"==typeof e&&Os in e}function Ys(e){return"function"==typeof e}const Ha=new Nt(""),ol={},Ci={};let hs;function ks(){return void 0===hs&&(hs=new is),hs}class es{}class Zs extends es{get destroyed(){return this._destroyed}constructor(t,r,o,a){super(),this.parent=r,this.source=o,this.scopes=a,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Js(t,g=>this.processProvider(g)),this.records.set($a,$o(void 0,this)),a.has("environment")&&this.records.set(es,$o(void 0,this));const h=this.records.get(Ha);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Ra,Or,lr.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=ce(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ce(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const r=mr(this),o=ar(void 0);try{return t()}finally{mr(r),ar(o)}}get(t,r=Ri,o=lr.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Qr))return t[Qr](this);o=He(o);const h=mr(this),g=ar(void 0);try{if(!(o&lr.SkipSelf)){let A=this.records.get(t);if(void 0===A){const $=function al(e){return"function"==typeof e||"object"==typeof e&&e instanceof Nt}(t)&&to(t);A=$&&this.injectableDefInScope($)?$o(Ia(t),ol):null,this.records.set(t,A)}if(null!=A)return this.hydrate(t,A)}return(o&lr.Self?ks():this.parent).get(t,r=o&lr.Optional&&r===Ri?null:r)}catch(y){if("NullInjectorError"===y.name){if((y[ai]=y[ai]||[]).unshift(at(t)),h)throw y;return function on(e,t,r,o){const a=e[ai];throw t[x]&&a.unshift(t[x]),e.message=function Zt(e,t,r,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let a=at(t);if(Array.isArray(t))a=t.map(at).join(" -> ");else if("object"==typeof t){let h=[];for(let g in t)if(t.hasOwnProperty(g)){let y=t[g];h.push(g+":"+("string"==typeof y?JSON.stringify(y):at(y)))}a=`{${h.join(", ")}}`}return`${r}${o?"("+o+")":""}[${a}]: ${e.replace(Q,"\n  ")}`}("\n"+e.message,a,r,o),e.ngTokenPath=a,e[ai]=null,e}(y,t,"R3InjectorError",this.source)}throw y}finally{ar(g),mr(h)}}resolveInjectorInitializers(){const t=ce(null),r=mr(this),o=ar(void 0);try{const h=this.get(Ns,Or,lr.Self);for(const g of h)g()}finally{mr(r),ar(o),ce(t)}}toString(){const t=[],r=this.records;for(const o of r.keys())t.push(at(o));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new vt(205,!1)}processProvider(t){let r=Ys(t=mt(t))?t:mt(t&&t.provide);const o=function sl(e){return il(e)?$o(void 0,e.useValue):$o(Ts(e),ol)}(t);if(!Ys(t)&&!0===t.multi){let a=this.records.get(r);a||(a=$o(void 0,ol,!0),a.factory=()=>bt(a.multi),this.records.set(r,a)),r=t,a.multi.push(t)}this.records.set(r,o)}hydrate(t,r){const o=ce(null);try{return r.value===ol&&(r.value=Ci,r.value=r.factory()),"object"==typeof r.value&&r.value&&function Ea(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{ce(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;const r=mt(t.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){const r=this._onDestroyHooks.indexOf(t);-1!==r&&this._onDestroyHooks.splice(r,1)}}function Ia(e){const t=to(e),r=null!==t?t.factory:vr(e);if(null!==r)return r;if(e instanceof Nt)throw new vt(204,!1);if(e instanceof Function)return function Nl(e){if(e.length>0)throw new vt(204,!1);const r=function ee(e){return e&&(e[oe]||e[Le])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new vt(204,!1)}function Ts(e,t,r){let o;if(Ys(e)){const a=mt(e);return vr(a)||Ia(a)}if(il(e))o=()=>mt(e.useValue);else if(function qo(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...bt(e.deps||[]));else if(function _a(e){return!(!e||!e.useExisting)}(e))o=()=>K(mt(e.useExisting));else{const a=mt(e&&(e.useClass||e.provide));if(!function Fs(e){return!!e.deps}(e))return vr(a)||Ia(a);o=()=>new a(...bt(e.deps))}return o}function $o(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function Js(e,t){for(const r of e)Array.isArray(r)?Js(r,t):r&&jr(r)?Js(r.\u0275providers,t):t(r)}function Ds(e,t){e instanceof Zs&&e.assertNotDestroyed();const o=mr(e),a=ar(void 0);try{return t()}finally{mr(o),ar(a)}}function xa(){return void 0!==vs()||null!=function ht(){return Ce}()}const Zr=0,En=1,$n=2,ci=3,xi=4,_i=5,mo=6,bs=7,Ui=8,Po=9,ea=10,Tr=11,ss=12,Ls=13,Na=14,ti=15,Jr=16,ca=17,Vs=18,ll=19,Ol=20,Ao=21,Wa=22,ws=23,wr=25,ul=1,Rs=7,cl=9,$i=10;var kl=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(kl||{});function Bo(e){return Array.isArray(e)&&"object"==typeof e[ul]}function jo(e){return Array.isArray(e)&&!0===e[ul]}function dl(e){return!!(4&e.flags)}function ta(e){return e.componentOffset>-1}function hl(e){return!(1&~e.flags)}function Xo(e){return!!e.template}function Ga(e){return!!(512&e[$n])}class Zi{constructor(t,r,o){this.previousValue=t,this.currentValue=r,this.firstChange=o}isFirstChange(){return this.firstChange}}function ni(e,t,r,o){null!==t?t.applyValueToInputSignal(t,o):e[r]=o}function vo(){return as}function as(e){return e.type.prototype.ngOnChanges&&(e.setInput=gl),Fl}function Fl(){const e=Oa(this),t=null==e?void 0:e.current;if(t){const r=e.previous;if(r===fo)e.previous=t;else for(let o in t)r[o]=t[o];e.current=null,this.ngOnChanges(t)}}function gl(e,t,r,o,a){const h=this.declaredInputs[o],g=Oa(e)||function Kc(e,t){return e[ml]=t}(e,{previous:fo,current:null}),y=g.current||(g.current={}),A=g.previous,$=A[h];y[h]=new Zi($&&$.currentValue,r,A===fo),ni(e,t,a,r)}vo.ngInherit=!0;const ml="__ngSimpleChanges__";function Oa(e){return e[ml]||null}const Qo=function(e,t,r){};let cu=!1;function Ti(e){for(;Array.isArray(e);)e=e[Zr];return e}function na(e,t){return Ti(t[e])}function Yo(e,t){return Ti(t[e.index])}function vl(e,t){return e.data[t]}function du(e,t){return e[t]}function ls(e,t){const r=t[e];return Bo(r)?r:r[Zr]}function Qc(e){return!(128&~e[$n])}function us(e,t){return null==t?null:e[t]}function Vl(e){e[ca]=0}function _l(e){1024&e[$n]||(e[$n]|=1024,Qc(e)&&fu(e))}function hu(e){var t;return!!(9216&e[$n]||null!==(t=e[ws])&&void 0!==t&&t.dirty)}function zo(e){var t;if(null===(t=e[ea].changeDetectionScheduler)||void 0===t||t.notify(1),hu(e))fu(e);else if(64&e[$n])if(function Xc(){return cu}())e[$n]|=1024,fu(e);else{var r;null===(r=e[ea].changeDetectionScheduler)||void 0===r||r.notify()}}function fu(e){var t;null===(t=e[ea].changeDetectionScheduler)||void 0===t||t.notify();let r=yl(e);for(;null!==r&&!(8192&r[$n])&&(r[$n]|=8192,Qc(r));)r=yl(r)}function Ta(e,t){if(!(256&~e[$n]))throw new vt(911,!1);null===e[Ao]&&(e[Ao]=[]),e[Ao].push(t)}function yl(e){const t=e[ci];return jo(t)?t[ci]:t}const _r={lFrame:ku(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function oc(){return _r.bindingsEnabled}function ra(){return null!==_r.skipHydrationRootTNode}function ln(){return _r.lFrame.lView}function Gr(){return _r.lFrame.tView}function xu(e){return _r.lFrame.contextLView=e,e[Ui]}function zd(e){return _r.lFrame.contextLView=null,e}function Di(){let e=ac();for(;null!==e&&64===e.type;)e=e.parent;return e}function ac(){return _r.lFrame.currentTNode}function cs(e,t){const r=_r.lFrame;r.currentTNode=e,r.isParent=t}function Xa(){return _r.lFrame.isParent}function lc(){_r.lFrame.isParent=!1}function ts(){const e=_r.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Wi(){return _r.lFrame.bindingIndex++}function Wd(e,t){const r=_r.lFrame;r.bindingIndex=r.bindingRootIndex=e,dc(t)}function dc(e){_r.lFrame.currentDirectiveIndex=e}function Qa(){return _r.lFrame.currentQueryIndex}function hc(e){_r.lFrame.currentQueryIndex=e}function Gd(e){const t=e[En];return 2===t.type?t.declTNode:1===t.type?e[_i]:null}function fc(e,t,r){if(r&lr.SkipSelf){let a=t,h=e;for(;!(a=a.parent,null!==a||r&lr.Host||(a=Gd(h),null===a||(h=h[Na],10&a.type))););if(null===a)return!1;t=a,e=h}const o=_r.lFrame=gu();return o.currentTNode=t,o.lView=e,!0}function Ou(e){const t=gu(),r=e[En];_r.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function gu(){const e=_r.lFrame,t=null===e?null:e.child;return null===t?ku(e):t}function ku(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function pc(){const e=_r.lFrame;return _r.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Fu=pc;function Lu(){const e=pc();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function fs(){return _r.lFrame.selectedIndex}function El(e){_r.lFrame.selectedIndex=e}function Ji(){const e=_r.lFrame;return vl(e.tView,e.selectedIndex)}let j=!0;function U(){return j}function me(e){j=e}function gt(e,t){for(let $=t.directiveStart,Z=t.directiveEnd;$<Z;$++){const Ue=e.data[$].type.prototype,{ngAfterContentInit:st,ngAfterContentChecked:Ot,ngAfterViewInit:tn,ngAfterViewChecked:In,ngOnDestroy:Rn}=Ue;var r,o,a,h,g,y,A;st&&(null!==(r=e.contentHooks)&&void 0!==r?r:e.contentHooks=[]).push(-$,st),Ot&&((null!==(o=e.contentHooks)&&void 0!==o?o:e.contentHooks=[]).push($,Ot),(null!==(a=e.contentCheckHooks)&&void 0!==a?a:e.contentCheckHooks=[]).push($,Ot)),tn&&(null!==(h=e.viewHooks)&&void 0!==h?h:e.viewHooks=[]).push(-$,tn),In&&((null!==(g=e.viewHooks)&&void 0!==g?g:e.viewHooks=[]).push($,In),(null!==(y=e.viewCheckHooks)&&void 0!==y?y:e.viewCheckHooks=[]).push($,In)),null!=Rn&&(null!==(A=e.destroyHooks)&&void 0!==A?A:e.destroyHooks=[]).push($,Rn)}}function Wt(e,t,r){Hn(e,t,3,r)}function mn(e,t,r,o){(3&e[$n])===r&&Hn(e,t,r,o)}function Gn(e,t){let r=e[$n];(3&r)===t&&(r&=16383,r+=1,e[$n]=r)}function Hn(e,t,r,o){const h=null!=o?o:-1,g=t.length-1;let y=0;for(let A=void 0!==o?65535&e[ca]:0;A<g;A++)if("number"==typeof t[A+1]){if(y=t[A],null!=o&&y>=o)break}else t[A]<0&&(e[ca]+=65536),(y<h||-1==h)&&(Kr(e,r,t,A),e[ca]=(4294901760&e[ca])+A+2),A++}function yr(e,t){Qo(4,e,t);const r=ce(null);try{t.call(e)}finally{ce(r),Qo(5,e,t)}}function Kr(e,t,r,o){const a=r[o]<0,h=r[o+1],y=e[a?-r[o]:r[o]];a?e[$n]>>14<e[ca]>>16&&(3&e[$n])===t&&(e[$n]+=16384,yr(y,h)):yr(y,h)}const Bi=-1;class Gi{constructor(t,r,o){this.factory=t,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=o}}function Co(e){return e!==Bi}function fa(e){return 32767&e}function Ya(e,t){let r=function Al(e){return e>>16}(e),o=t;for(;r>0;)o=o[Na],r--;return o}let ba=!0;function Za(e){const t=ba;return ba=e,t}const f=255,m=5;let b=0;const q={};function _t(e,t){const r=vn(e,t);if(-1!==r)return r;const o=t[En];o.firstCreatePass&&(e.injectorIndex=t.length,Gt(o.data,e),Gt(t,null),Gt(o.blueprint,null));const a=Zn(e,t),h=e.injectorIndex;if(Co(a)){const g=fa(a),y=Ya(a,t),A=y[En].data;for(let $=0;$<8;$++)t[h+$]=y[g+$]|A[g+$]}return t[h+8]=a,h}function Gt(e,t){e.push(0,0,0,0,0,0,0,0,t)}function vn(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Zn(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,o=null,a=t;for(;null!==a;){if(o=Qh(a),null===o)return Bi;if(r++,a=a[Na],-1!==o.injectorIndex)return o.injectorIndex|r<<16}return Bi}function gr(e,t,r){!function Ae(e,t,r){let o;"string"==typeof r?o=r.charCodeAt(0)||0:r.hasOwnProperty(Fi)&&(o=r[Fi]),null==o&&(o=r[Fi]=b++);const a=o&f;t.data[e+(a>>m)]|=1<<a}(e,t,r)}function $s(e,t,r){if(r&lr.Optional||void 0!==e)return e;zr()}function Cl(e,t,r,o){if(r&lr.Optional&&void 0===o&&(o=null),!(r&(lr.Self|lr.Host))){const a=e[Po],h=ar(void 0);try{return a?a.get(t,o,r&lr.Optional):No(t,o,r&lr.Optional)}finally{ar(h)}}return $s(o,0,r)}function Tl(e,t,r,o=lr.Default,a){if(null!==e){if(2048&t[$n]&&!(o&lr.Self)){const g=function Y_(e,t,r,o,a){let h=e,g=t;for(;null!==h&&null!==g&&2048&g[$n]&&!(512&g[$n]);){const y=vc(h,g,r,o|lr.Self,q);if(y!==q)return y;let A=h.parent;if(!A){const $=g[Ol];if($){const Z=$.get(r,q,o);if(Z!==q)return Z}A=Qh(g),g=g[Na]}h=A}return a}(e,t,r,o,q);if(g!==q)return g}const h=vc(e,t,r,o,q);if(h!==q)return h}return Cl(t,r,o,a)}function vc(e,t,r,o,a){const h=function Hl(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Fi)?e[Fi]:void 0;return"number"==typeof t?t>=0?t&f:rd:t}(r);if("function"==typeof h){if(!fc(t,e,o))return o&lr.Host?$s(a,0,o):Cl(t,r,o,a);try{let g;if(g=h(o),null!=g||o&lr.Optional)return g;zr()}finally{Fu()}}else if("number"==typeof h){let g=null,y=vn(e,t),A=Bi,$=o&lr.Host?t[ti][_i]:null;for((-1===y||o&lr.SkipSelf)&&(A=-1===y?Zn(e,t):t[y+8],A!==Bi&&nd(o,!1)?(g=t[En],y=fa(A),t=Ya(A,t)):y=-1);-1!==y;){const Z=t[En];if(_c(h,y,Z.data)){const ue=zl(y,t,r,g,o,$);if(ue!==q)return ue}A=t[y+8],A!==Bi&&nd(o,t[En].data[y+8]===$)&&_c(h,y,t)?(g=Z,y=fa(A),t=Ya(A,t)):y=-1}}return a}function zl(e,t,r,o,a,h){const g=t[En],y=g.data[e+8],Z=mu(y,g,r,null==o?ta(y)&&ba:o!=g&&!!(3&y.type),a&lr.Host&&h===y);return null!==Z?ka(t,g,Z,y):q}function mu(e,t,r,o,a){const h=e.providerIndexes,g=t.data,y=1048575&h,A=e.directiveStart,Z=h>>20,Ue=a?y+Z:e.directiveEnd;for(let st=o?y:y+Z;st<Ue;st++){const Ot=g[st];if(st<A&&r===Ot||st>=A&&Ot.type===r)return st}if(a){const st=g[A];if(st&&Xo(st)&&st.type===r)return A}return null}function ka(e,t,r,o){let a=e[r];const h=t.data;if(function co(e){return e instanceof Gi}(a)){const g=a;g.resolving&&function Io(e,t){throw t&&t.join(" > "),new vt(-200,e)}(function Fr(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():hr(e)}(h[r]));const y=Za(g.canSeeViewProviders);g.resolving=!0;const $=g.injectImpl?ar(g.injectImpl):null;fc(e,o,lr.Default);try{a=e[r]=g.factory(void 0,h,e,o),t.firstCreatePass&&r>=o.directiveStart&&function Oe(e,t,r){const{ngOnChanges:o,ngOnInit:a,ngDoCheck:h}=t.type.prototype;if(o){var g,y;const ue=as(t);(null!==(g=r.preOrderHooks)&&void 0!==g?g:r.preOrderHooks=[]).push(e,ue),(null!==(y=r.preOrderCheckHooks)&&void 0!==y?y:r.preOrderCheckHooks=[]).push(e,ue)}var A,$,Z;a&&(null!==(A=r.preOrderHooks)&&void 0!==A?A:r.preOrderHooks=[]).push(0-e,a),h&&((null!==($=r.preOrderHooks)&&void 0!==$?$:r.preOrderHooks=[]).push(e,h),(null!==(Z=r.preOrderCheckHooks)&&void 0!==Z?Z:r.preOrderCheckHooks=[]).push(e,h))}(r,h[r],t)}finally{null!==$&&ar($),Za(y),g.resolving=!1,Fu()}}return a}function _c(e,t,r){return!!(r[t+(e>>m)]&1<<e)}function nd(e,t){return!(e&lr.Self||e&lr.Host&&t)}class ho{constructor(t,r){this._tNode=t,this._lView=r}get(t,r,o){return Tl(this._tNode,this._lView,t,He(o),r)}}function rd(){return new ho(Di(),ln())}function Xh(e){return wn(()=>{const t=e.prototype.constructor,r=t[bo]||Qd(t),o=Object.prototype;let a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==o;){const h=a[bo]||Qd(a);if(h&&h!==r)return h;a=Object.getPrototypeOf(a)}return h=>new h})}function Qd(e){return Je(e)?()=>{const t=Qd(mt(e));return t&&t()}:vr(e)}function Qh(e){const t=e[En],r=t.type;return 2===r?t.declTNode:1===r?e[_i]:null}function Yh(e){return function di(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const o=r.length;let a=0;for(;a<o;){const h=r[a];if(Eo(h))break;if(0===h)a+=2;else if("number"==typeof h)for(a++;a<o&&"string"==typeof r[a];)a++;else{if(h===t)return r[a+1];a+=2}}}return null}(Di(),e)}function wm(e,t=null,r=null,o){const a=Jh(e,t,r,o);return a.resolveInjectorInitializers(),a}function Jh(e,t=null,r=null,o,a=new Set){const h=[r||Or,za(e)];return o=o||("object"==typeof e?void 0:at(e)),new Zs(h,t||ks(),o||null,a)}let Fa=(()=>{var e;class t{static create(o,a){if(Array.isArray(o))return wm({name:""},a,o,"");{var h;const g=null!==(h=o.name)&&void 0!==h?h:"";return wm({name:g},o.parent,o.providers,g)}}}return(e=t).THROW_IF_NOT_FOUND=Ri,e.NULL=new is,e.\u0275prov=Rr({token:e,providedIn:"any",factory:()=>K($a)}),e.__NG_ELEMENT_ID__=-1,t})();function ef(e){return e.ngOriginalError}class bl{constructor(){this._console=console}handleError(t){const r=this._findOriginalError(t);this._console.error("ERROR",t),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(t){let r=t&&ef(t);for(;r&&ef(r);)r=ef(r);return r||null}}const tf=new Nt("",{providedIn:"root",factory:()=>Se(bl).handleError.bind(void 0)});let Vu=(()=>{var e;class t{}return(e=t).__NG_ELEMENT_ID__=Uu,e.__NG_ENV_ID__=r=>r,t})();class od extends Vu{constructor(t){super(),this._lView=t}onDestroy(t){return Ta(this._lView,t),()=>function pu(e,t){if(null===e[Ao])return;const r=e[Ao].indexOf(t);-1!==r&&e[Ao].splice(r,1)}(this._lView,t)}}function Uu(){return new od(ln())}function ty(){return $u(Di(),ln())}function $u(e,t){return new Ic(Yo(e,t))}let Ic=(()=>{class t{constructor(o){this.nativeElement=o}}return t.__NG_ELEMENT_ID__=ty,t})();function rf(e){return e instanceof Ic?e.nativeElement:e}function Hp(e){return t=>{setTimeout(e,void 0,t)}}const Wl=class zp extends Sn.B{constructor(t=!1){var r;super(),this.destroyRef=void 0,this.__isAsync=t,xa()&&(this.destroyRef=null!==(r=Se(Vu,{optional:!0}))&&void 0!==r?r:void 0)}emit(t){const r=ce(null);try{super.next(t)}finally{ce(r)}}subscribe(t,r,o){let a=t,h=r||(()=>null),g=o;if(t&&"object"==typeof t){var y,A,$;const ue=t;a=null===(y=ue.next)||void 0===y?void 0:y.bind(ue),h=null===(A=ue.error)||void 0===A?void 0:A.bind(ue),g=null===($=ue.complete)||void 0===$?void 0:$.bind(ue)}this.__isAsync&&(h=Hp(h),a&&(a=Hp(a)),g&&(g=Hp(g)));const Z=super.subscribe({next:a,error:h,complete:g});return t instanceof Jt.yU&&t.add(Z),Z}};function Wp(){return this._results[Symbol.iterator]()}class th{get changes(){var t;return null!==(t=this._changes)&&void 0!==t?t:this._changes=new Wl}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const r=th.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=Wp)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){this.dirty=!1;const o=function Ar(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function qi(e,t,r){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++){let a=e[o],h=t[o];if(r&&(a=r(a),h=r(h)),h!==a)return!1}return!0}(this._results,o,r))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){var t;this.dirty=!0,null===(t=this._onDirty)||void 0===t||t.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function sf(e){return!(128&~e.flags)}const af=new Map;let xm=0;const uf="__ngContext__";function Ms(e,t){Bo(t)?(e[uf]=t[ll],function ny(e){af.set(e[ll],e)}(t)):e[uf]=t}function Um(e){return $m(e[ss])}function df(e){return $m(e[xi])}function $m(e){for(;null!==e&&!jo(e);)e=e[xi];return e}let rg;function ig(e){rg=e}const _f=new Nt("",{providedIn:"root",factory:()=>uy}),uy="ng",yf=new Nt(""),If=new Nt("",{providedIn:"platform",factory:()=>"unknown"}),dy=new Nt("",{providedIn:"root",factory:()=>{var e;return(null===(e=function ju(){if(void 0!==rg)return rg;if(typeof document<"u")return document;throw new vt(210,!1)}().body)||void 0===e||null===(e=e.querySelector("[ngCspNonce]"))||void 0===e?void 0:e.getAttribute("ngCspNonce"))||null}});let Af=()=>null;function oh(e,t,r=!1){return Af(e,t,r)}const Qm=new Nt("",{providedIn:"root",factory:()=>!1});let ch;function vg(e){var t;return(null===(t=function fd(){if(void 0===ch&&(ch=null,qn.trustedTypes))try{ch=qn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return ch}())||void 0===t?void 0:t.createScriptURL(e))||e}class pd{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${nn})`}}function Hu(e){return e instanceof pd?e.changingThisBreaksApplicationSecurity:e}function gd(e,t){const r=function vy(e){return e instanceof pd&&e.getTypeName()||null}(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see ${nn})`)}return r===t}const nv=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Gu=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Gu||{});function Of(e){const t=dh();return t?t.sanitize(Gu.URL,e)||"":gd(e,"URL")?Hu(e):function _g(e){return(e=String(e)).match(nv)?e:"unsafe:"+e}(hr(e))}function kf(e){const t=dh();if(t)return vg(t.sanitize(Gu.RESOURCE_URL,e)||"");if(gd(e,"ResourceURL"))return vg(Hu(e));throw new vt(904,!1)}function Tg(e,t,r){return function dv(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?kf:Of}(t,r)(e)}function dh(){const e=ln();return e&&e[ea].sanitizer}const Lf=/^>|^->|<!--|-->|--!>|<!-$/g,Vf=/(<|>)/g,fv="\u200b$1\u200b";function wa(e){return e instanceof Function?e():e}var Xl=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Xl||{});let Iu;function Mc(e,t){return Iu(e,t)}function _d(e,t,r,o,a){if(null!=o){let h,g=!1;jo(o)?h=o:Bo(o)&&(g=!0,o=o[Zr]);const y=Ti(o);0===e&&null!==r?null==a?Dv(t,r,y):Nc(t,r,y,a||null,!0):1===e&&null!==r?Nc(t,r,y,a||null,!0):2===e?function mh(e,t,r){const o=Ng(e,t);o&&function My(e,t,r,o){e.removeChild(t,r,o)}(e,o,t,r)}(t,y,g):3===e&&t.destroyNode(y),null!=h&&function xI(e,t,r,o,a){const h=r[Rs];h!==Ti(r)&&_d(t,e,o,h,a);for(let y=$i;y<r.length;y++){const A=r[y];Wf(A[En],A,e,t,o,h)}}(t,e,h,r,a)}}function Ql(e,t){return e.createComment(function vd(e){return e.replace(Lf,t=>t.replace(Vf,fv))}(t))}function jf(e,t,r){return e.createElement(t,r)}function Ev(e,t){var r;null===(r=t[ea].changeDetectionScheduler)||void 0===r||r.notify(1),Wf(e,t,t[Tr],2,null,null)}function Av(e,t){const r=e[cl],o=r.indexOf(t);r.splice(o,1)}function gh(e,t){if(e.length<=$i)return;const r=$i+t,o=e[r];if(o){const a=o[Jr];null!==a&&a!==e&&Av(a,o),t>0&&(e[r-1][xi]=o[xi]);const h=fi(e,$i+t);!function by(e,t){Ev(e,t),t[Zr]=null,t[_i]=null}(o[En],o);const g=h[Vs];null!==g&&g.detachView(h[En]),o[ci]=null,o[xi]=null,o[$n]&=-129}return o}function zf(e,t){if(!(256&t[$n])){const r=t[Tr];r.destroyNode&&Wf(e,t,r,3,null,null),function Sy(e){let t=e[ss];if(!t)return Mg(e[En],e);for(;t;){let r=null;if(Bo(t))r=t[ss];else{const o=t[$i];o&&(r=o)}if(!r){for(;t&&!t[xi]&&t!==e;)Bo(t)&&Mg(t[En],t),t=t[ci];null===t&&(t=e),Bo(t)&&Mg(t[En],t),r=t&&t[xi]}t=r}}(t)}}function Mg(e,t){if(256&t[$n])return;const r=ce(null);try{t[$n]&=-129,t[$n]|=256,t[ws]&&function et(e){if(dt(e),ze(e))for(let t=0;t<e.producerNode.length;t++)Ge(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}(t[ws]),function xg(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let o=0;o<r.length;o+=2){const a=t[r[o]];if(!(a instanceof Gi)){const h=r[o+1];if(Array.isArray(h))for(let g=0;g<h.length;g+=2){const y=a[h[g]],A=h[g+1];Qo(4,y,A);try{A.call(y)}finally{Qo(5,y,A)}}else{Qo(4,a,h);try{h.call(a)}finally{Qo(5,a,h)}}}}}(e,t),function yd(e,t){const r=e.cleanup,o=t[bs];if(null!==r)for(let h=0;h<r.length-1;h+=2)if("string"==typeof r[h]){const g=r[h+3];g>=0?o[g]():o[-g].unsubscribe(),h+=2}else r[h].call(o[r[h+1]]);null!==o&&(t[bs]=null);const a=t[Ao];if(null!==a){t[Ao]=null;for(let h=0;h<a.length;h++)(0,a[h])()}}(e,t),1===t[En].type&&t[Tr].destroy();const o=t[Jr];if(null!==o&&jo(t[ci])){o!==t[ci]&&Av(o,t);const a=t[Vs];null!==a&&a.detachView(e)}!function ry(e){af.delete(e[ll])}(t)}finally{ce(r)}}function Cv(e,t,r){return function Tv(e,t,r){let o=t;for(;null!==o&&40&o.type;)o=(t=o).parent;if(null===o)return r[Zr];{const{componentOffset:a}=o;if(a>-1){const{encapsulation:h}=e.data[o.directiveStart+a];if(h===po.None||h===po.Emulated)return null}return Yo(o,r)}}(e,t.parent,r)}function Nc(e,t,r,o,a){e.insertBefore(t,r,o,a)}function Dv(e,t,r){e.appendChild(t,r)}function bv(e,t,r,o,a){null!==o?Nc(e,t,r,o,a):Dv(e,t,r)}function Ng(e,t){return e.parentNode(t)}function xy(e,t,r){return Sv(e,t,r)}let Og,Sv=function wv(e,t,r){return 40&e.type?Yo(e,r):null};function Hf(e,t,r,o){const a=Cv(e,o,t),h=t[Tr],y=xy(o.parent||t[_i],o,t);if(null!=a)if(Array.isArray(r))for(let A=0;A<r.length;A++)bv(h,a,r[A],y,!1);else bv(h,a,r,y,!1);void 0!==Og&&Og(h,o,t,r,a)}function Id(e,t){if(null!==t){const r=t.type;if(3&r)return Yo(t,e);if(4&r)return kg(-1,e[t.index]);if(8&r){const o=t.child;if(null!==o)return Id(e,o);{const a=e[t.index];return jo(a)?kg(-1,a):Ti(a)}}if(32&r)return Mc(t,e)()||Ti(e[t.index]);{const o=Eu(e,t);return null!==o?Array.isArray(o)?o[0]:Id(yl(e[ti]),o):Id(e,t.next)}}return null}function Eu(e,t){return null!==t?e[ti][_i].projection[t.projection]:null}function kg(e,t){const r=$i+e+1;if(r<t.length){const o=t[r],a=o[En].firstChild;if(null!==a)return Id(o,a)}return t[Rs]}function Fg(e,t,r,o,a,h,g){for(;null!=r;){const y=o[r.index],A=r.type;if(g&&0===t&&(y&&Ms(Ti(y),o),r.flags|=2),32&~r.flags)if(8&A)Fg(e,t,r.child,o,a,h,!1),_d(t,e,a,y,h);else if(32&A){const $=Mc(r,o);let Z;for(;Z=$();)_d(t,e,a,Z,h);_d(t,e,a,y,h)}else 16&A?Pv(e,t,o,r,a,h):_d(t,e,a,y,h);r=g?r.projectionNext:r.next}}function Wf(e,t,r,o,a,h){Fg(r,o,e.firstChild,t,a,h,!1)}function Pv(e,t,r,o,a,h){const g=r[ti],A=g[_i].projection[o.projection];if(Array.isArray(A))for(let $=0;$<A.length;$++)_d(t,e,a,A[$],h);else{let $=A;const Z=g[ci];sf(o)&&($.flags|=128),Fg(e,t,$,Z,a,h,!0)}}function xv(e,t,r){""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}function ky(e,t,r){const{mergedAttrs:o,classes:a,styles:h}=r;null!==o&&Lo(e,t,o),null!==a&&xv(e,t,a),null!==h&&function Mv(e,t,r){e.setAttribute(t,"style",r)}(e,t,h)}const qr={};function Fy(e=1){Ly(Gr(),ln(),fs()+e,!1)}function Ly(e,t,r,o){if(!o)if(3&~t[$n]){const h=e.preOrderHooks;null!==h&&mn(t,h,0,r)}else{const h=e.preOrderCheckHooks;null!==h&&Wt(t,h,r)}El(r)}function Oc(e,t=lr.Default){const r=ln();return null===r?K(e,t):Tl(Di(),r,mt(e),t)}function Lg(){throw new Error("invalid")}function Vy(e,t,r,o,a,h){const g=ce(null);try{let y=null;a&Ko.SignalBased&&(y=t[o][Be]),null!==y&&void 0!==y.transformFn&&(h=y.transformFn(h)),a&Ko.HasDecoratorInputTransform&&(h=e.inputTransforms[o].call(t,h)),null!==e.setInput?e.setInput(t,y,h,r,o):ni(t,y,o,h)}finally{ce(g)}}function Vg(e,t,r,o,a,h,g,y,A,$,Z){const ue=t.blueprint.slice();return ue[Zr]=a,ue[$n]=204|o,(null!==$||e&&2048&e[$n])&&(ue[$n]|=2048),Vl(ue),ue[ci]=ue[Na]=e,ue[Ui]=r,ue[ea]=g||e&&e[ea],ue[Tr]=y||e&&e[Tr],ue[Po]=A||e&&e[Po]||null,ue[_i]=h,ue[ll]=function Nm(){return xm++}(),ue[mo]=Z,ue[Ol]=$,ue[ti]=2==t.type?e[ti]:ue,ue}function Ku(e,t,r,o,a){let h=e.data[t];if(null===h)h=function Ed(e,t,r,o,a){const h=ac(),g=Xa(),A=e.data[t]=function fn(e,t,r,o,a,h){let g=t?t.injectorIndex:-1,y=0;return ra()&&(y|=128),{type:r,index:o,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:y,providerIndexes:0,value:a,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?h:h&&h.parent,r,t,o,a);return null===e.firstChild&&(e.firstChild=A),null!==h&&(g?null==h.child&&null!==A.parent&&(h.child=A):null===h.next&&(h.next=A,A.prev=h)),A}(e,t,r,o,a),function Hd(){return _r.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=r,h.value=o,h.attrs=a;const g=function Il(){const e=_r.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();h.injectorIndex=null===g?-1:g.injectorIndex}return cs(h,!0),h}function l(e,t,r,o){if(0===r)return-1;const a=t.length;for(let h=0;h<r;h++)t.push(o),e.blueprint.push(o),e.data.push(null);return a}function n(e,t,r,o,a){const h=fs(),g=2&o;try{El(-1),g&&t.length>wr&&Ly(e,t,wr,!1),Qo(g?2:0,a),r(o,a)}finally{El(h),Qo(g?3:1,a)}}function i(e,t,r){if(dl(t)){const o=ce(null);try{const h=t.directiveEnd;for(let g=t.directiveStart;g<h;g++){const y=e.data[g];y.contentQueries&&y.contentQueries(1,r[g],g)}}finally{ce(o)}}}function s(e,t,r){oc()&&(function Vt(e,t,r,o){const a=r.directiveStart,h=r.directiveEnd;ta(r)&&function Nv(e,t,r){const o=Yo(t,e),a=p(r);let g=16;r.signals?g=4096:r.onPush&&(g=64);const y=qu(e,Vg(e,a,null,g,o,t,null,e[ea].rendererFactory.createRenderer(o,r),null,null,null));e[t.index]=y}(t,r,e.data[a+r.componentOffset]),e.firstCreatePass||_t(r,t),Ms(o,t);const g=r.initialInputs;for(let y=a;y<h;y++){const A=e.data[y],$=ka(t,e,y,r);Ms($,t),null!==g&&sa(0,y-a,$,A,0,g),Xo(A)&&(ls(r.index,t)[Ui]=ka(t,e,y,r))}}(e,t,r,Yo(r,t)),!(64&~r.flags)&&Kt(e,t,r))}function c(e,t,r=Yo){const o=t.localNames;if(null!==o){let a=t.index+1;for(let h=0;h<o.length;h+=2){const g=o[h+1],y=-1===g?r(t,e):e[g];e[a++]=y}}}function p(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=_(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function _(e,t,r,o,a,h,g,y,A,$,Z){const ue=wr+o,Ue=ue+a,st=function w(e,t){const r=[];for(let o=0;o<t;o++)r.push(o<e?null:qr);return r}(ue,Ue),Ot="function"==typeof $?$():$;return st[En]={type:e,blueprint:st,template:r,queries:null,viewQuery:y,declTNode:t,data:st.slice().fill(null,ue),bindingStartIndex:ue,expandoStartIndex:Ue,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:A,consts:Ot,incompleteFirstPass:!1,ssrId:Z}}let ge=()=>null;function xn(e,t,r,o,a){for(let g in t){var h;if(!t.hasOwnProperty(g))continue;const y=t[g];if(void 0===y)continue;null!==(h=o)&&void 0!==h||(o={});let A,$=Ko.None;Array.isArray(y)?(A=y[0],$=y[1]):A=y;let Z=g;if(null!==a){if(!a.hasOwnProperty(g))continue;Z=a[g]}0===e?Cn(o,r,Z,A,$):Cn(o,r,Z,A)}return o}function Cn(e,t,r,o,a){let h;e.hasOwnProperty(r)?(h=e[r]).push(t,o):h=e[r]=[t,o],void 0!==a&&h.push(a)}function Xn(e,t,r,o,a,h,g,y){const A=Yo(t,r);let Z,$=t.inputs;!y&&null!=$&&(Z=$[o])?(Eh(e,r,Z,o,a),ta(t)&&function Hr(e,t){const r=ls(t,e);16&r[$n]||(r[$n]|=64)}(r,t.index)):3&t.type&&(o=function Cr(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),a=null!=g?g(a,t.value||"",o):a,h.setProperty(A,o,a))}function Rt(e,t,r,o){if(oc()){const a=null===o?null:{"":-1},h=function Au(e,t){const r=e.directiveRegistry;let o=null,a=null;if(r)for(let g=0;g<r.length;g++){const y=r[g];if(be(t,y.selectors,!1))if(o||(o=[]),Xo(y))if(null!==y.findHostDirectiveDefs){const A=[];a=a||new Map,y.findHostDirectiveDefs(y,A,a),o.unshift(...A,y),kc(e,t,A.length)}else o.unshift(y),kc(e,t,0);else{var h;a=a||new Map,null===(h=y.findHostDirectiveDefs)||void 0===h||h.call(y,y,o,a),o.push(y)}}return null===o?null:[o,a]}(e,r);let g,y;null===h?g=y=null:[g,y]=h,null!==g&&Ze(e,t,r,g,a,y),a&&function Uy(e,t,r){if(t){const o=e.localNames=[];for(let a=0;a<t.length;a+=2){const h=r[t[a+1]];if(null==h)throw new vt(-301,!1);o.push(t[a],h)}}}(r,o,a)}r.mergedAttrs=yo(r.mergedAttrs,r.attrs)}function Ze(e,t,r,o,a,h){for(let ue=0;ue<o.length;ue++)gr(_t(r,t),e,o[ue].type);!function _h(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}(r,e.data.length,o.length);for(let ue=0;ue<o.length;ue++){const Ue=o[ue];Ue.providersResolver&&Ue.providersResolver(Ue)}let g=!1,y=!1,A=l(e,t,o.length,null);for(let ue=0;ue<o.length;ue++){const Ue=o[ue];r.mergedAttrs=yo(r.mergedAttrs,Ue.hostAttrs),Ug(e,r,t,A,Ue),vh(A,Ue,a),null!==Ue.contentQueries&&(r.flags|=4),(null!==Ue.hostBindings||null!==Ue.hostAttrs||0!==Ue.hostVars)&&(r.flags|=64);const st=Ue.type.prototype;var $,Z;!g&&(st.ngOnChanges||st.ngOnInit||st.ngDoCheck)&&((null!==($=e.preOrderHooks)&&void 0!==$?$:e.preOrderHooks=[]).push(r.index),g=!0),y||!st.ngOnChanges&&!st.ngDoCheck||((null!==(Z=e.preOrderCheckHooks)&&void 0!==Z?Z:e.preOrderCheckHooks=[]).push(r.index),y=!0),A++}!function cr(e,t,r){const a=t.directiveEnd,h=e.data,g=t.attrs,y=[];let A=null,$=null;for(let Z=t.directiveStart;Z<a;Z++){const ue=h[Z],Ue=r?r.get(ue):null,Ot=Ue?Ue.outputs:null;A=xn(0,ue.inputs,Z,A,Ue?Ue.inputs:null),$=xn(1,ue.outputs,Z,$,Ot);const tn=null===A||null===g||aa(t)?null:$y(A,Z,g);y.push(tn)}null!==A&&(A.hasOwnProperty("class")&&(t.flags|=8),A.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=y,t.inputs=A,t.outputs=$}(e,r,h)}function Kt(e,t,r){const o=r.directiveStart,a=r.directiveEnd,h=r.index,g=function cc(){return _r.lFrame.currentDirectiveIndex}();try{El(h);for(let y=o;y<a;y++){const A=e.data[y],$=t[y];dc(y),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&yt(A,$)}}finally{El(-1),dc(g)}}function yt(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function kc(e,t,r){var o;t.componentOffset=r,(null!==(o=e.components)&&void 0!==o?o:e.components=[]).push(t.index)}function vh(e,t,r){if(r){if(t.exportAs)for(let o=0;o<t.exportAs.length;o++)r[t.exportAs[o]]=e;Xo(t)&&(r[""]=e)}}function Ug(e,t,r,o,a){e.data[o]=a;const h=a.factory||(a.factory=vr(a.type)),g=new Gi(h,Xo(a),Oc);e.blueprint[o]=g,r[o]=g,function Ct(e,t,r,o,a){const h=a.hostBindings;if(h){let g=e.hostBindingOpCodes;null===g&&(g=e.hostBindingOpCodes=[]);const y=~t.index;(function xt(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(g)!=y&&g.push(y),g.push(r,o,h)}}(e,t,o,l(e,r,a.hostVars,qr),a)}function Yl(e,t,r,o,a,h){const g=Yo(e,t);!function Zl(e,t,r,o,a,h,g){if(null==h)e.removeAttribute(t,a,r);else{const y=null==g?hr(h):g(h,o||"",a);e.setAttribute(t,a,y,r)}}(t[Tr],g,h,e.value,r,o,a)}function sa(e,t,r,o,a,h){const g=h[t];if(null!==g)for(let y=0;y<g.length;)Vy(o,r,g[y++],g[y++],g[y++],g[y++])}function $y(e,t,r){let o=null,a=0;for(;a<r.length;){const h=r[a];if(0!==h)if(5!==h){if("number"==typeof h)break;if(e.hasOwnProperty(h)){null===o&&(o=[]);const g=e[h];for(let y=0;y<g.length;y+=3)if(g[y]===t){o.push(h,g[y+1],g[y+2],r[a+1]);break}}a+=2}else a+=2;else a+=4}return o}function Ad(e,t,r,o){return[e,!0,0,t,null,o,null,r,null,null]}function Ov(e,t){const r=e.contentQueries;if(null!==r){const o=ce(null);try{for(let a=0;a<r.length;a+=2){const g=r[a+1];if(-1!==g){const y=e.data[g];hc(r[a]),y.contentQueries(2,t[g],g)}}}finally{ce(o)}}}function qu(e,t){return e[ss]?e[Ls][xi]=t:e[ss]=t,e[Ls]=t,t}function $g(e,t,r){hc(0);const o=ce(null);try{t(e,r)}finally{ce(o)}}function yh(e){return e[bs]||(e[bs]=[])}function Ih(e){return e.cleanup||(e.cleanup=[])}function Cd(e,t){const r=e[Po],o=r?r.get(bl,null):null;o&&o.handleError(t)}function Eh(e,t,r,o,a){for(let h=0;h<r.length;){const g=r[h++],y=r[h++],A=r[h++];Vy(e.data[g],t[g],o,y,A,a)}}function kv(e,t){const r=ls(t,e),o=r[En];!function Fv(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}(o,r);const a=r[Zr];null!==a&&null===r[mo]&&(r[mo]=oh(a,r[Po])),Bg(o,r,r[Ui])}function Bg(e,t,r){Ou(t);try{var o;const a=e.viewQuery;null!==a&&$g(1,a,r);const h=e.template;null!==h&&n(e,t,h,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),null===(o=t[Vs])||void 0===o||o.finishViewCreation(e),e.staticContentQueries&&Ov(e,t),e.staticViewQueries&&$g(2,e.viewQuery,r);const g=e.components;null!==g&&function Lv(e,t){for(let r=0;r<t.length;r++)kv(e,t[r])}(t,g)}catch(a){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),a}finally{t[$n]&=-5,Lu()}}function Fc(e,t){return!t||null===t.firstChild||sf(e)}function Ah(e,t,r,o=!0){const a=t[En];if(function Ry(e,t,r,o){const a=$i+o,h=r.length;o>0&&(r[a-1][xi]=t),o<h-$i?(t[xi]=r[a],pr(r,$i+o,t)):(r.push(t),t[xi]=null),t[ci]=r;const g=t[Jr];null!==g&&r!==g&&function Py(e,t){const r=e[cl];t[ti]!==t[ci][ci][ti]&&(e[$n]|=kl.HasTransplantedViews),null===r?e[cl]=[t]:r.push(t)}(g,t);const y=t[Vs];null!==y&&y.insertView(e),zo(t),t[$n]|=128}(a,t,e,r),o){const g=kg(r,e),y=t[Tr],A=Ng(y,e[Rs]);null!==A&&function wy(e,t,r,o,a,h){o[Zr]=a,o[_i]=t,Wf(e,o,r,1,a,h)}(a,e[_i],y,t,A,g)}const h=t[mo];null!==h&&null!==h.firstChild&&(h.firstChild=null)}function Lc(e,t,r,o,a=!1){for(;null!==r;){const h=t[r.index];null!==h&&o.push(Ti(h)),jo(h)&&qf(h,o);const g=r.type;if(8&g)Lc(e,t,r.child,o);else if(32&g){const y=Mc(r,t);let A;for(;A=y();)o.push(A)}else if(16&g){const y=Eu(t,r);if(Array.isArray(y))o.push(...y);else{const A=yl(t[ti]);Lc(A[En],A,y,o,!0)}}r=a?r.projectionNext:r.next}return o}function qf(e,t){for(let r=$i;r<e.length;r++){const o=e[r],a=o[En].firstChild;null!==a&&Lc(o[En],o,a,t)}e[Rs]!==e[Zr]&&t.push(e[Rs])}let js=[];const Uv={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{fu(e.lView)},consumerOnSignalRead(){this.lView[ws]=this}},$v=100;function Xu(e,t=!0,r=0){const o=e[ea],a=o.rendererFactory;var g;null===(g=a.begin)||void 0===g||g.call(a);try{!function Bv(e,t){Vc(e,t);let r=0;for(;hu(e);){if(r===$v)throw new vt(103,!1);r++,Vc(e,1)}}(e,r)}catch($){throw t&&Cd(e,$),$}finally{var y,A;null===(y=a.end)||void 0===y||y.call(a),null===(A=o.inlineEffectRunner)||void 0===A||A.flush()}}function jg(e,t,r,o){var a;const h=t[$n];if(!(256&~h))return;null===(a=t[ea].inlineEffectRunner)||void 0===a||a.flush(),Ou(t);let y=null,A=null;(function jy(e){return 2!==e.type})(e)&&(A=function pa(e){var t;return null!==(t=e[ws])&&void 0!==t?t:function Xf(e){var t;const r=null!==(t=js.pop())&&void 0!==t?t:Object.create(Uv);return r.lView=e,r}(e)}(t),y=function nt(e){return e&&(e.nextProducerIndex=0),ce(e)}(A));try{Vl(t),function Bl(e){return _r.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&n(e,t,r,2,o);const $=!(3&~h);if($){const Ue=e.preOrderCheckHooks;null!==Ue&&Wt(t,Ue,null)}else{const Ue=e.preOrderHooks;null!==Ue&&mn(t,Ue,0,null),Gn(t,0)}if(function zg(e){for(let t=Um(e);null!==t;t=df(t)){if(!(t[$n]&kl.HasTransplantedViews))continue;const r=t[cl];for(let o=0;o<r.length;o++){_l(r[o])}}}(t),jv(t,0),null!==e.contentQueries&&Ov(e,t),$){const Ue=e.contentCheckHooks;null!==Ue&&Wt(t,Ue)}else{const Ue=e.contentHooks;null!==Ue&&mn(t,Ue,1),Gn(t,1)}!function OI(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let o=0;o<r.length;o++){const a=r[o];if(a<0)El(~a);else{const h=a,g=r[++o],y=r[++o];Wd(g,h),y(2,t[h])}}}finally{El(-1)}}(e,t);const Z=e.components;null!==Z&&Qf(t,Z,0);const ue=e.viewQuery;if(null!==ue&&$g(2,ue,o),$){const Ue=e.viewCheckHooks;null!==Ue&&Wt(t,Ue)}else{const Ue=e.viewHooks;null!==Ue&&mn(t,Ue,2),Gn(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Wa]){for(const Ue of t[Wa])Ue();t[Wa]=null}t[$n]&=-73}catch($){throw fu(t),$}finally{null!==A&&(function Tt(e,t){if(ce(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(ze(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)Ge(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}(A,y),function Vv(e){e.lView[ws]!==e&&(e.lView=null,js.push(e))}(A)),Lu()}}function jv(e,t){for(let r=Um(e);null!==r;r=df(r))for(let o=$i;o<r.length;o++)Hg(r[o],t)}function zv(e,t,r){Hg(ls(t,e),r)}function Hg(e,t){Qc(e)&&Vc(e,t)}function Vc(e,t){const o=e[En],a=e[$n],h=e[ws];let g=!!(0===t&&16&a);if(g||(g=!!(64&a&&0===t)),g||(g=!!(1024&a)),g||(g=!(null==h||!h.dirty||!tt(h))),h&&(h.dirty=!1),e[$n]&=-9217,g)jg(o,e,o.template,e[Ui]);else if(8192&a){jv(e,1);const y=o.components;null!==y&&Qf(e,y,1)}}function Qf(e,t,r){for(let o=0;o<t.length;o++)zv(e,t[o],r)}function Uc(e){var t;for(null===(t=e[ea].changeDetectionScheduler)||void 0===t||t.notify();e;){e[$n]|=64;const r=yl(e);if(Ga(e)&&!r)return e;e=r}return null}class Rl{get rootNodes(){const t=this._lView,r=t[En];return Lc(r,t,r.firstChild,[])}constructor(t,r,o=!0){this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ui]}set context(t){this._lView[Ui]=t}get destroyed(){return!(256&~this._lView[$n])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[ci];if(jo(t)){const r=t[8],o=r?r.indexOf(this):-1;o>-1&&(gh(t,o),fi(r,o))}this._attachedToViewContainer=!1}zf(this._lView[En],this._lView)}onDestroy(t){Ta(this._lView,t)}markForCheck(){Uc(this._cdRefInjectingView||this._lView)}detach(){this._lView[$n]&=-129}reattach(){zo(this._lView),this._lView[$n]|=128}detectChanges(){this._lView[$n]|=1024,Xu(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new vt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Ev(this._lView[En],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new vt(902,!1);this._appRef=t,zo(this._lView)}}let Dd=(()=>{class t{}return t.__NG_ELEMENT_ID__=Th,t})();const Yf=Dd,Hv=class extends Yf{constructor(t,r,o){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=o}get ssrId(){var t;return(null===(t=this._declarationTContainer.tView)||void 0===t?void 0:t.ssrId)||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,o){const a=function Td(e,t,r,o){const a=ce(null);try{var h,g,y;const A=t.tView,ue=Vg(e,A,r,4096&e[$n]?4096:16,null,t,null,null,null!==(h=null==o?void 0:o.injector)&&void 0!==h?h:null,null!==(g=null==o?void 0:o.embeddedViewInjector)&&void 0!==g?g:null,null!==(y=null==o?void 0:o.dehydratedView)&&void 0!==y?y:null);ue[Jr]=e[t.index];const st=e[Vs];return null!==st&&(ue[Vs]=st.createEmbeddedView(A)),Bg(A,ue,r),ue}finally{ce(a)}}(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:o});return new Rl(a)}};function Th(){return Dh(Di(),ln())}function Dh(e,t){return 4&e.type?new Hv(t,e,$u(e,t)):null}class zc{}class Ky{}class Qg{}class Xy{resolveComponentFactory(t){throw function qy(e){const t=Error(`No component factory found for ${at(e)}.`);return t.ngComponent=e,t}(t)}}let Qu=(()=>{class t{}return t.NULL=new Xy,t})();class Cu{}let n_=(()=>{class t{constructor(){this.destroyNode=null}}return t.__NG_ELEMENT_ID__=()=>function r_(){const e=ln(),r=ls(Di().index,e);return(Bo(r)?r:e)[Tr]}(),t})(),i_=(()=>{var e;class t{}return(e=t).\u0275prov=Rr({token:e,providedIn:"root",factory:()=>null}),t})();const Yu={},o_=new Set;function nu(e){var t,r;o_.has(e)||(o_.add(e),null===(t=performance)||void 0===t||null===(r=t.mark)||void 0===r||r.call(t,"mark_feature_usage",{detail:{feature:e}}))}function Tu(...e){}class xo{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Wl(!1),this.onMicrotaskEmpty=new Wl(!1),this.onStable=new Wl(!1),this.onError=new Wl(!1),typeof Zone>"u")throw new vt(908,!1);Zone.assertZonePatched();const a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!o&&r,a.shouldCoalesceRunChangeDetection=o,a.lastRequestAnimationFrameId=-1,a.nativeRequestAnimationFrame=function Qy(){const e="function"==typeof qn.requestAnimationFrame;let t=qn[e?"requestAnimationFrame":"setTimeout"],r=qn[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&r){const o=t[Zone.__symbol__("OriginalDelegate")];o&&(t=o);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function Oh(e){const t=()=>{!function Nh(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(qn,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,cp(e),e.isCheckStableRunning=!0,up(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),cp(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,o,a,h,g,y)=>{if(function Yy(e){var t;return!(!Array.isArray(e)||1!==e.length)&&!0===(null===(t=e[0].data)||void 0===t?void 0:t.__ignore_ng_zone__)}(y))return r.invokeTask(a,h,g,y);try{return dp(e),r.invokeTask(a,h,g,y)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||e.shouldCoalesceRunChangeDetection)&&t(),Wo(e)}},onInvoke:(r,o,a,h,g,y,A)=>{try{return dp(e),r.invoke(a,h,g,y,A)}finally{e.shouldCoalesceRunChangeDetection&&t(),Wo(e)}},onHasTask:(r,o,a,h)=>{r.hasTask(a,h),o===a&&("microTask"==h.change?(e._hasPendingMicrotasks=h.microTask,cp(e),up(e)):"macroTask"==h.change&&(e.hasPendingMacrotasks=h.macroTask))},onHandleError:(r,o,a,h)=>(r.handleError(a,h),e.runOutsideAngular(()=>e.onError.emit(h)),!1)})}(a)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!xo.isInAngularZone())throw new vt(909,!1)}static assertNotInAngularZone(){if(xo.isInAngularZone())throw new vt(909,!1)}run(t,r,o){return this._inner.run(t,r,o)}runTask(t,r,o,a){const h=this._inner,g=h.scheduleEventTask("NgZoneEvent: "+a,t,lp,Tu,Tu);try{return h.runTask(g,r,o)}finally{h.cancelTask(g)}}runGuarded(t,r,o){return this._inner.runGuarded(t,r,o)}runOutsideAngular(t){return this._outer.run(t)}}const lp={};function up(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function cp(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function dp(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Wo(e){e._nesting--,up(e)}class s_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Wl,this.onMicrotaskEmpty=new Wl,this.onStable=new Wl,this.onError=new Wl}run(t,r,o){return t.apply(r,o)}runGuarded(t,r,o){return t.apply(r,o)}runOutsideAngular(t){return t()}runTask(t,r,o,a){return t.apply(r,o)}}var Zu=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Zu||{});const Yg={destroy(){}};function ru(e,t){var r,o,a;!t&&function os(e){if(!xa())throw new vt(-203,!1)}();const h=null!==(r=null==t?void 0:t.injector)&&void 0!==r?r:Se(Fa);if(!function el(e){return"browser"===(null!=e?e:Se(Fa)).get(If)}(h))return Yg;nu("NgAfterNextRender");const g=h.get(Du),y=null!==(o=g.handler)&&void 0!==o?o:g.handler=new u_,A=null!==(a=null==t?void 0:t.phase)&&void 0!==a?a:Zu.MixedReadWrite,$=()=>{y.unregister(ue),Z()},Z=h.get(Vu).onDestroy($),ue=Ds(h,()=>new Zg(A,()=>{$(),e()}));return y.register(ue),{destroy:$}}class Zg{constructor(t,r){var o;this.phase=t,this.callbackFn=r,this.zone=Se(xo),this.errorHandler=Se(bl,{optional:!0}),null===(o=Se(zc,{optional:!0}))||void 0===o||o.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(r){var t;null===(t=this.errorHandler)||void 0===t||t.handleError(r)}}}class u_{constructor(){this.executingCallbacks=!1,this.buckets={[Zu.EarlyRead]:new Set,[Zu.Write]:new Set,[Zu.MixedReadWrite]:new Set,[Zu.Read]:new Set},this.deferredCallbacks=new Set}register(t){(this.executingCallbacks?this.deferredCallbacks:this.buckets[t.phase]).add(t)}unregister(t){this.buckets[t.phase].delete(t),this.deferredCallbacks.delete(t)}execute(){this.executingCallbacks=!0;for(const t of Object.values(this.buckets))for(const r of t)r.invoke();this.executingCallbacks=!1;for(const t of this.deferredCallbacks)this.buckets[t.phase].add(t);this.deferredCallbacks.clear()}destroy(){for(const t of Object.values(this.buckets))t.clear();this.deferredCallbacks.clear()}}let Du=(()=>{var e;class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){var o;this.executeInternalCallbacks(),null===(o=this.handler)||void 0===o||o.execute()}executeInternalCallbacks(){const o=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const a of o)a()}ngOnDestroy(){var o;null===(o=this.handler)||void 0===o||o.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(e=t).\u0275prov=Rr({token:e,providedIn:"root",factory:()=>new e}),t})();function iu(e){return!!sr(e)}function kh(e,t,r){let o=r?e.styles:null,a=r?e.classes:null,h=0;if(null!==t)for(let g=0;g<t.length;g++){const y=t[g];"number"==typeof y?h=y:1==h?a=Dr(a,y):2==h&&(o=Dr(o,y+": "+t[++g]+";"))}r?e.styles=o:e.stylesWithoutHost=o,r?e.classes=a:e.classesWithoutHost=a}class Fh extends Qu{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=xr(t);return new Sd(r,this.ngModule)}}function tm(e){const t=[];for(const r in e){if(!e.hasOwnProperty(r))continue;const o=e[r];void 0!==o&&t.push({propName:Array.isArray(o)?o[0]:o,templateName:r})}return t}class ou{constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,o){o=He(o);const a=this.injector.get(t,Yu,o);return a!==Yu||r===Yu?a:this.parentInjector.get(t,r,o)}}class Sd extends Qg{get inputs(){const t=this.componentDef,r=t.inputTransforms,o=tm(t.inputs);if(null!==r)for(const a of o)r.hasOwnProperty(a.propName)&&(a.transform=r[a.propName]);return o}get outputs(){return tm(this.componentDef.outputs)}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=function Ro(e){return e.map(Xi).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!r}create(t,r,o,a){const h=ce(null);try{var y;let A=(a=a||this.ngModule)instanceof es?a:null===(y=a)||void 0===y?void 0:y.injector;A&&null!==this.componentDef.getStandaloneInjector&&(A=this.componentDef.getStandaloneInjector(A)||A);const $=A?new ou(t,A):t,Z=$.get(Cu,null);if(null===Z)throw new vt(407,!1);const ue=$.get(i_,null),Ot={rendererFactory:Z,sanitizer:ue,inlineEffectRunner:null,afterRenderEventManager:$.get(Du,null),changeDetectionScheduler:$.get(zc,null)},tn=Z.createRenderer(null,this.componentDef),In=this.componentDef.selectors[0][0]||"div",Rn=o?function L(e,t,r,o){const h=o.get(Qm,!1)||r===po.ShadowDom,g=e.selectRootElement(t,h);return function X(e){ge(e)}(g),g}(tn,o,this.componentDef.encapsulation,$):jf(tn,In,function h_(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(In));let un=512;this.componentDef.signals?un|=4096:this.componentDef.onPush||(un|=16);let Lr=null;null!==Rn&&(Lr=oh(Rn,$,!0));const ri=_(0,null,null,1,0,null,null,null,null,null,null),Ni=Vg(null,ri,null,un,null,null,Ot,tn,$,null,Lr);let ga,au;Ou(Ni);try{const Ru=this.componentDef;let Hh,gI=null;Ru.findHostDirectiveDefs?(Hh=[],gI=new Map,Ru.findHostDirectiveDefs(Ru,Hh,gI),Hh.push(Ru)):Hh=[Ru];const fM=function p_(e,t){const r=e[En],o=wr;return e[o]=t,Ku(r,o,2,"#host",null)}(Ni,Rn),pM=function g_(e,t,r,o,a,h,g){const y=a[En];!function fp(e,t,r,o){for(const a of e)t.mergedAttrs=yo(t.mergedAttrs,a.hostAttrs);null!==t.mergedAttrs&&(kh(t,t.mergedAttrs,!0),null!==r&&ky(o,r,t))}(o,e,t,g);let A=null;null!==t&&(A=oh(t,a[Po]));const $=h.rendererFactory.createRenderer(t,r);let Z=16;r.signals?Z=4096:r.onPush&&(Z=64);const ue=Vg(a,p(r),null,Z,a[e.index],e,h,$,null,null,A);return y.firstCreatePass&&kc(y,e,o.length-1),qu(a,ue),a[e.index]=ue}(fM,Rn,Ru,Hh,Ni,Ot,tn);au=vl(ri,wr),Rn&&function m_(e,t,r,o){if(o)Lo(e,r,["ng-version","17.3.10"]);else{const{attrs:a,classes:h}=function va(e){const t=[],r=[];let o=1,a=2;for(;o<e.length;){let h=e[o];if("string"==typeof h)2===a?""!==h&&t.push(h,e[++o]):8===a&&r.push(h);else{if(!Ie(a))break;a=h}o++}return{attrs:t,classes:r}}(t.selectors[0]);a&&Lo(e,r,a),h&&h.length>0&&xv(e,r,h.join(" "))}}(tn,Ru,Rn,o),void 0!==r&&function v_(e,t,r){const o=e.projection=[];for(let a=0;a<t.length;a++){const h=r[a];o.push(null!=h?Array.from(h):null)}}(au,this.ngContentSelectors,r),ga=function La(e,t,r,o,a,h){const g=Di(),y=a[En],A=Yo(g,a);Ze(y,a,g,r,null,o);for(let Z=0;Z<r.length;Z++)Ms(ka(a,y,g.directiveStart+Z,g),a);Kt(y,a,g),A&&Ms(A,a);const $=ka(a,y,g.directiveStart+g.componentOffset,g);if(e[Ui]=a[Ui]=$,null!==h)for(const Z of h)Z($,t);return i(y,g,a),$}(pM,Ru,Hh,gI,Ni,[Rd]),Bg(ri,Ni,null)}finally{Lu()}return new f_(this.componentType,ga,$u(au,Ni),Ni,au)}finally{ce(h)}}}class f_ extends Ky{constructor(t,r,o,a,h){super(),this.location=o,this._rootLView=a,this._tNode=h,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new Rl(a,void 0,!1),this.componentType=t}setInput(t,r){const o=this._tNode.inputs;let a;if(null!==o&&(a=o[t])){var h;if(null!==(h=this.previousInputValues)&&void 0!==h||(this.previousInputValues=new Map),this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;const g=this._rootLView;Eh(g[En],g,a,t,r),this.previousInputValues.set(t,r),Uc(ls(this._tNode.index,g))}}get injector(){return new ho(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function Rd(){const e=Di();gt(ln()[En],e)}let v=(()=>{class t{}return t.__NG_ELEMENT_ID__=V,t})();function V(){return Vn(Di(),ln())}const Y=v,Re=class extends Y{constructor(t,r,o){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=o}get element(){return $u(this._hostTNode,this._hostLView)}get injector(){return new ho(this._hostTNode,this._hostLView)}get parentInjector(){const t=Zn(this._hostTNode,this._hostLView);if(Co(t)){const r=Ya(t,this._hostLView),o=fa(t);return new ho(r[En].data[o+8],r)}return new ho(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=Ut(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-$i}createEmbeddedView(t,r,o){let a,h;"number"==typeof o?a=o:null!=o&&(a=o.index,h=o.injector);const y=t.createEmbeddedViewImpl(r||{},h,null);return this.insertImpl(y,a,Fc(this._hostTNode,null)),y}createComponent(t,r,o,a,h){var g,A;const $=t&&!function Xt(e){return"function"==typeof e}(t);let Z;if($)Z=r;else{const Rn=r||{};Z=Rn.index,o=Rn.injector,a=Rn.projectableNodes,h=Rn.environmentInjector||Rn.ngModuleRef}const ue=$?t:new Sd(xr(t)),Ue=o||this.parentInjector;if(!h&&null==ue.ngModule){const un=($?Ue:this.parentInjector).get(es,null);un&&(h=un)}const st=xr(null!==(g=ue.componentType)&&void 0!==g?g:{}),Ot=(null==st?void 0:st.id,null),tn=null!==(A=null==Ot?void 0:Ot.firstChild)&&void 0!==A?A:null,In=ue.create(Ue,a,tn,h);return this.insertImpl(In.hostView,Z,Fc(this._hostTNode,Ot)),In}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,o){const a=t._lView;if(function Ud(e){return jo(e[ci])}(a)){const y=this.indexOf(t);if(-1!==y)this.detach(y);else{const A=a[ci],$=new Re(A,A[_i],A[ci]);$.detach($.indexOf(t))}}const h=this._adjustIndex(r),g=this._lContainer;return Ah(g,a,h,o),t.attachToViewContainerRef(),pr(en(g),h,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=Ut(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),o=gh(this._lContainer,r);o&&(fi(en(this._lContainer),r),zf(o[En],o))}detach(t){const r=this._adjustIndex(t,-1),o=gh(this._lContainer,r);return o&&null!=fi(en(this._lContainer),r)?new Rl(o):null}_adjustIndex(t,r=0){return null==t?this.length+r:t}};function Ut(e){return e[8]}function en(e){return e[8]||(e[8]=[])}function Vn(e,t){let r;const o=t[e.index];return jo(o)?r=o:(r=Ad(o,t,null,e),t[e.index]=r,qu(t,r)),xs(r,t,e,o),new Re(r,e,t)}let xs=function Ws(e,t,r,o){if(e[Rs])return;let a;a=8&r.type?Ti(o):function _o(e,t){const r=e[Tr],o=r.createComment(""),a=Yo(t,e);return Nc(r,Ng(r,a),o,function MI(e,t){return e.nextSibling(t)}(r,a),!1),o}(t,r),e[Rs]=a},wi=()=>!1;class Lh{constructor(t){this.queryList=t,this.matches=null}clone(){return new Lh(this.queryList)}setDirty(){this.queryList.setDirty()}}class Jy{constructor(t=[]){this.queries=t}createEmbeddedView(t){const r=t.queries;if(null!==r){const o=null!==t.contentQueries?t.contentQueries[0]:r.length,a=[];for(let h=0;h<o;h++){const g=r.getByIndex(h);a.push(this.queries[g.indexInDeclarationView].clone())}return new Jy(a)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)null!==o0(t,r).matches&&this.queries[r].setDirty()}}class BI{constructor(t,r,o=null){this.flags=r,this.read=o,this.predicate="string"==typeof t?function cD(e){return e.split(",").map(t=>t.trim())}(t):t}}class e0{constructor(t=[]){this.queries=t}elementStart(t,r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let o=0;o<this.length;o++){const a=null!==r?r.length:0,h=this.getByIndex(o).embeddedTView(t,a);h&&(h.indexInDeclarationView=o,null!==r?r.push(h):r=[h])}return null!==r?new e0(r):null}template(t,r){for(let o=0;o<this.queries.length;o++)this.queries[o].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class t0{constructor(t,r=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new t0(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const r=this._declarationNodeIndex;let o=t.parent;for(;null!==o&&8&o.type&&o.index!==r;)o=o.parent;return r===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(t,r){const o=this.metadata.predicate;if(Array.isArray(o))for(let a=0;a<o.length;a++){const h=o[a];this.matchTNodeWithReadOption(t,r,sD(r,h)),this.matchTNodeWithReadOption(t,r,mu(r,t,h,!1,!1))}else o===Dd?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,mu(r,t,o,!1,!1))}matchTNodeWithReadOption(t,r,o){if(null!==o){const a=this.metadata.read;if(null!==a)if(a===Ic||a===v||a===Dd&&4&r.type)this.addMatch(r.index,-2);else{const h=mu(r,t,a,!1,!1);null!==h&&this.addMatch(r.index,h)}else this.addMatch(r.index,o)}}addMatch(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}function sD(e,t){const r=e.localNames;if(null!==r)for(let o=0;o<r.length;o+=2)if(r[o]===t)return r[o+1];return null}function lD(e,t,r,o){return-1===r?function aD(e,t){return 11&e.type?$u(e,t):4&e.type?Dh(e,t):null}(t,e):-2===r?function uD(e,t,r){return r===Ic?$u(t,e):r===Dd?Dh(t,e):r===v?Vn(t,e):void 0}(e,t,o):ka(e,e[En],r,t)}function jI(e,t,r,o){const a=t[Vs].queries[o];if(null===a.matches){const h=e.data,g=r.matches,y=[];for(let A=0;null!==g&&A<g.length;A+=2){const $=g[A];y.push($<0?null:lD(t,h[$],g[A+1],r.metadata.read))}a.matches=y}return a.matches}function n0(e,t,r,o){const a=e.queries.getByIndex(r),h=a.matches;if(null!==h){const g=jI(e,t,a,r);for(let y=0;y<h.length;y+=2){const A=h[y];if(A>0)o.push(g[y/2]);else{const $=h[y+1],Z=t[-A];for(let ue=$i;ue<Z.length;ue++){const Ue=Z[ue];Ue[Jr]===Ue[ci]&&n0(Ue[En],Ue,$,o)}if(null!==Z[cl]){const ue=Z[cl];for(let Ue=0;Ue<ue.length;Ue++){const st=ue[Ue];n0(st[En],st,$,o)}}}}}return o}function zI(e,t,r){var o;const a=new th(!(4&~r));return function Ht(e,t,r,o){const a=yh(t);a.push(r),e.firstCreatePass&&Ih(e).push(o,a.length-1)}(e,t,a,a.destroy),(null!==(o=t[Vs])&&void 0!==o?o:t[Vs]=new Jy).queries.push(new Lh(a))-1}function GI(e,t,r){null===e.queries&&(e.queries=new e0),e.queries.track(new t0(t,r))}function o0(e,t){return e.queries.getByIndex(t)}function KI(e,t){const r=e[En],o=o0(r,t);return o.crossesNgTemplate?n0(r,e,t,[]):jI(r,e,o,t)}function QI(e){return function qI(e){return"function"==typeof e&&void 0!==e[Be]}(e)&&"function"==typeof e.set}function a0(e){let t=function aE(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const o=[e];for(;t;){let a;if(Xo(e))a=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new vt(903,!1);a=t.\u0275dir}if(a){if(r){o.push(a);const g=e;g.inputs=y_(e.inputs),g.inputTransforms=y_(e.inputTransforms),g.declaredInputs=y_(e.declaredInputs),g.outputs=y_(e.outputs);const y=a.hostBindings;y&&bD(e,y);const A=a.viewQuery,$=a.contentQueries;if(A&&TD(e,A),$&&DD(e,$),AD(e,a),mi(e.outputs,a.outputs),Xo(a)&&a.data.animation){const Z=e.data;Z.animation=(Z.animation||[]).concat(a.data.animation)}}const h=a.features;if(h)for(let g=0;g<h.length;g++){const y=h[g];y&&y.ngInherit&&y(e),y===a0&&(r=!1)}}t=Object.getPrototypeOf(t)}!function CD(e){let t=0,r=null;for(let o=e.length-1;o>=0;o--){const a=e[o];a.hostVars=t+=a.hostVars,a.hostAttrs=yo(a.hostAttrs,r=yo(r,a.hostAttrs))}}(o)}function AD(e,t){for(const o in t.inputs){if(!t.inputs.hasOwnProperty(o)||e.inputs.hasOwnProperty(o))continue;const a=t.inputs[o];if(void 0!==a&&(e.inputs[o]=a,e.declaredInputs[o]=t.declaredInputs[o],null!==t.inputTransforms)){var r;const h=Array.isArray(a)?a[0]:a;if(!t.inputTransforms.hasOwnProperty(h))continue;null!==(r=e.inputTransforms)&&void 0!==r||(e.inputTransforms={}),e.inputTransforms[h]=t.inputTransforms[h]}}}function y_(e){return e===fo?{}:e===Or?[]:e}function TD(e,t){const r=e.viewQuery;e.viewQuery=r?(o,a)=>{t(o,a),r(o,a)}:t}function DD(e,t){const r=e.contentQueries;e.contentQueries=r?(o,a,h)=>{t(o,a,h),r(o,a,h)}:t}function bD(e,t){const r=e.hostBindings;e.hostBindings=r?(o,a)=>{t(o,a),r(o,a)}:t}function dE(e){const t=e.inputConfig,r={};for(const o in t)if(t.hasOwnProperty(o)){const a=t[o];Array.isArray(a)&&a[3]&&(r[o]=a[3])}e.inputTransforms=r}class Vh{}class hE{}function xD(e,t){return new l0(e,null!=t?t:null,[])}class l0 extends Vh{constructor(t,r,o){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Fh(this);const a=sr(t);this._bootstrapComponents=wa(a.bootstrap),this._r3Injector=Jh(t,r,[{provide:Vh,useValue:this},{provide:Qu,useValue:this.componentFactoryResolver},...o],at(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class u0 extends hE{constructor(t){super(),this.moduleType=t}create(t){return new l0(this.moduleType,t,[])}}class fE extends Vh{constructor(t){super(),this.componentFactoryResolver=new Fh(this),this.instance=null;const r=new Zs([...t.providers,{provide:Vh,useValue:this},{provide:Qu,useValue:this.componentFactoryResolver}],t.parent||ks(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function c0(e,t,r=null){return new fE({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}let mp=(()=>{var e;class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Pn.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Rr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function E_(e){return!!d0(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function d0(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function ec(e,t,r){return e[t]=r}function ps(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function vp(e,t,r,o,a,h,g,y){const A=ln(),$=Gr(),Z=e+wr,ue=$.firstCreatePass?function UD(e,t,r,o,a,h,g,y,A){const $=t.consts,Z=Ku(t,e,4,g||null,us($,y));Rt(t,r,Z,us($,A)),gt(t,Z);const ue=Z.tView=_(2,Z,o,a,h,t.directiveRegistry,t.pipeRegistry,null,t.schemas,$,null);return null!==t.queries&&(t.queries.template(t,Z),ue.queries=t.queries.embeddedTView(Z)),Z}(Z,$,A,t,r,o,a,h,g):$.data[Z];cs(ue,!1);const Ue=pE($,A,ue,e);U()&&Hf($,A,Ue,ue),Ms(Ue,A);const st=Ad(Ue,A,Ue,ue);return A[Z]=st,qu(A,st),function Hs(e,t,r){return wi(e,t,r)}(st,ue,A),hl(ue)&&s($,A,ue),null!=g&&c(A,ue,y),vp}let pE=function gE(e,t,r,o){return me(!0),t[Tr].createComment("")};function E0(e,t,r,o){const a=ln();return ps(a,Wi(),t)&&(Gr(),Yl(Ji(),a,e,t,r,o)),E0}function S_(e,t){return e<<17|t<<2}function xd(e){return e>>17&32767}function A0(e){return 2|e}function Bh(e){return(131068&e)>>2}function C0(e,t){return-131069&e|t<<2}function T0(e){return 1|e}function GE(e,t,r,o){const a=e[r+1],h=null===t;let g=o?xd(a):Bh(a),y=!1;for(;0!==g&&(!1===y||h);){const $=e[g+1];Db(e[g],t)&&(y=!0,e[g+1]=o?T0($):A0($)),g=o?xd($):Bh($)}y&&(e[r+1]=o?A0(a):T0(a))}function Db(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Fo(e,t)>=0}function D0(e,t,r){const o=ln();return ps(o,Wi(),t)&&Xn(Gr(),Ji(),o,e,t,o[Tr],r,!1),D0}function b0(e,t,r,o,a){const g=a?"class":"style";Eh(e,r,t.inputs[g],g,o)}function w0(e,t){return function wu(e,t,r,o){const a=ln(),h=Gr(),g=function ha(e){const t=_r.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}(2);h.firstUpdatePass&&function tA(e,t,r,o){const a=e.data;if(null===a[r+1]){const h=a[fs()],g=function eA(e,t){return t>=e.expandoStartIndex}(e,r);(function oA(e,t){return!!(e.flags&(t?8:16))})(h,o)&&null===t&&!g&&(t=!1),t=function Ob(e,t,r,o){const a=function jl(e){const t=_r.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let h=o?t.residualClasses:t.residualStyles;if(null===a)0===(o?t.classBindings:t.styleBindings)&&(r=lm(r=S0(null,e,t,r,o),t.attrs,o),h=null);else{const g=t.directiveStylingLast;if(-1===g||e[g]!==a)if(r=S0(a,e,t,r,o),null===h){let A=function kb(e,t,r){const o=r?t.classBindings:t.styleBindings;if(0!==Bh(o))return e[xd(o)]}(e,t,o);void 0!==A&&Array.isArray(A)&&(A=S0(null,e,t,A[1],o),A=lm(A,t.attrs,o),function Fb(e,t,r,o){e[xd(r?t.classBindings:t.styleBindings)]=o}(e,t,o,A))}else h=function Lb(e,t,r){let o;const a=t.directiveEnd;for(let h=1+t.directiveStylingLast;h<a;h++)o=lm(o,e[h].hostAttrs,r);return lm(o,t.attrs,r)}(e,t,o)}return void 0!==h&&(o?t.residualClasses=h:t.residualStyles=h),r}(a,h,t,o),function Cb(e,t,r,o,a,h){let g=h?t.classBindings:t.styleBindings,y=xd(g),A=Bh(g);e[o]=r;let Z,$=!1;if(Array.isArray(r)?(Z=r[1],(null===Z||Fo(r,Z)>0)&&($=!0)):Z=r,a)if(0!==A){const Ue=xd(e[y+1]);e[o+1]=S_(Ue,y),0!==Ue&&(e[Ue+1]=C0(e[Ue+1],o)),e[y+1]=function Eb(e,t){return 131071&e|t<<17}(e[y+1],o)}else e[o+1]=S_(y,0),0!==y&&(e[y+1]=C0(e[y+1],o)),y=o;else e[o+1]=S_(A,0),0===y?y=o:e[A+1]=C0(e[A+1],o),A=o;$&&(e[o+1]=A0(e[o+1])),GE(e,Z,o,!0),GE(e,Z,o,!1),function Tb(e,t,r,o,a){const h=a?e.residualClasses:e.residualStyles;null!=h&&"string"==typeof t&&Fo(h,t)>=0&&(r[o+1]=T0(r[o+1]))}(t,Z,e,o,h),g=S_(y,A),h?t.classBindings=g:t.styleBindings=g}(a,h,t,r,g,o)}}(h,e,g,o),t!==qr&&ps(a,g,t)&&function rA(e,t,r,o,a,h,g,y){if(!(3&t.type))return;const A=e.data,$=A[y+1],Z=function Ab(e){return!(1&~e)}($)?iA(A,t,r,a,Bh($),g):void 0;R_(Z)||(R_(h)||function Ib(e){return!(2&~e)}($)&&(h=iA(A,null,r,a,y,g)),function NI(e,t,r,o,a){if(t)a?e.addClass(r,o):e.removeClass(r,o);else{let h=-1===o.indexOf("-")?void 0:Xl.DashCase;null==a?e.removeStyle(r,o,h):("string"==typeof a&&a.endsWith("!important")&&(a=a.slice(0,-10),h|=Xl.Important),e.setStyle(r,o,a,h))}}(o,g,na(fs(),r),a,h))}(h,h.data[fs()],a,a[Tr],e,a[g+1]=function Bb(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=at(Hu(e)))),e}(t,r),o,g)}(e,t,null,!0),w0}function S0(e,t,r,o,a){let h=null;const g=r.directiveEnd;let y=r.directiveStylingLast;for(-1===y?y=r.directiveStart:y++;y<g&&(h=t[y],o=lm(o,h.hostAttrs,a),h!==e);)y++;return null!==e&&(r.directiveStylingLast=y),o}function lm(e,t,r){const o=r?1:2;let a=-1;if(null!==t)for(let h=0;h<t.length;h++){const g=t[h];"number"==typeof g?a=g:a===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),ao(e,g,!!r||t[++h]))}return void 0===e?null:e}function iA(e,t,r,o,a,h){const g=null===t;let y;for(;a>0;){const A=e[a],$=Array.isArray(A),Z=$?A[1]:A,ue=null===Z;let Ue=r[a+1];Ue===qr&&(Ue=ue?Or:void 0);let st=ue?Sa(Ue,o):Z===o?Ue:void 0;if($&&!R_(st)&&(st=Sa(A,o)),R_(st)&&(y=st,g))return y;const Ot=e[a+1];a=g?xd(Ot):Bh(Ot)}if(null!==t){let A=h?t.residualClasses:t.residualStyles;null!=A&&(y=Sa(A,o))}return y}function R_(e){return void 0!==e}function P_(e,t,r,o){const a=ln(),h=Gr(),g=wr+e,y=a[Tr],A=h.firstCreatePass?function cw(e,t,r,o,a,h){const g=t.consts,A=Ku(t,e,2,o,us(g,a));return Rt(t,r,A,us(g,h)),null!==A.attrs&&kh(A,A.attrs,!1),null!==A.mergedAttrs&&kh(A,A.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,A),A}(g,h,a,t,r,o):h.data[g],$=uA(h,a,A,y,t,e);a[g]=$;const Z=hl(A);return cs(A,!0),ky(y,$,A),!function im(e){return!(32&~e.flags)}(A)&&U()&&Hf(h,a,$,A),0===function Ul(){return _r.lFrame.elementDepthCount}()&&Ms($,a),function $d(){_r.lFrame.elementDepthCount++}(),Z&&(s(h,a,A),i(h,A,a)),null!==o&&c(a,A),P_}function M_(){let e=Di();Xa()?lc():(e=e.parent,cs(e,!1));const t=e;(function Bd(e){return _r.skipHydrationRootTNode===e})(t)&&function sc(){_r.skipHydrationRootTNode=null}(),function $l(){_r.lFrame.elementDepthCount--}();const r=Gr();return r.firstCreatePass&&(gt(r,e),dl(e)&&r.queries.elementEnd(e)),null!=t.classesWithoutHost&&function oo(e){return!!(8&e.flags)}(t)&&b0(r,t,ln(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function ia(e){return!!(16&e.flags)}(t)&&b0(r,t,ln(),t.stylesWithoutHost,!1),M_}function N0(e,t,r,o){return P_(e,t,r,o),M_(),N0}let uA=(e,t,r,o,a,h)=>(me(!0),jf(o,a,function mc(){return _r.lFrame.currentNamespace}()));function x_(e,t,r){const o=ln(),a=Gr(),h=e+wr,g=a.firstCreatePass?function fw(e,t,r,o,a){const h=t.consts,g=us(h,o),y=Ku(t,e,8,"ng-container",g);return null!==g&&kh(y,g,!0),Rt(t,r,y,us(h,a)),null!==t.queries&&t.queries.elementStart(t,y),y}(h,a,o,t,r):a.data[h];cs(g,!0);const y=cA(a,o,g,e);return o[h]=y,U()&&Hf(a,o,y,g),Ms(y,o),hl(g)&&(s(a,o,g),i(a,g,o)),null!=r&&c(o,g),x_}function N_(){let e=Di();const t=Gr();return Xa()?lc():(e=e.parent,cs(e,!1)),t.firstCreatePass&&(gt(t,e),dl(e)&&t.queries.elementEnd(e)),N_}function O0(e,t,r){return x_(e,t,r),N_(),O0}let cA=(e,t,r,o)=>(me(!0),Ql(t[Tr],""));function dA(){return ln()}const jh=void 0;var vw=["en",[["a","p"],["AM","PM"],jh],[["AM","PM"],jh,jh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],jh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],jh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",jh,"{1} 'at' {0}",jh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function mw(e){const r=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===o?1:5}];let Op={};function k0(e){const t=function _w(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=gA(t);if(r)return r;const o=t.split("-")[0];if(r=gA(o),r)return r;if("en"===o)return vw;throw new vt(701,!1)}function pA(e){return k0(e)[kp.PluralCase]}function gA(e){return e in Op||(Op[e]=qn.ng&&qn.ng.common&&qn.ng.common.locales&&qn.ng.common.locales[e]),Op[e]}var kp=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(kp||{});const Fp="en-US";let mA=Fp;function V0(e,t,r,o){const a=ln(),h=Gr(),g=Di();return U0(h,a,a[Tr],g,e,t,o),V0}function U0(e,t,r,o,a,h,g){const y=hl(o),$=e.firstCreatePass&&Ih(e),Z=t[Ui],ue=yh(t);let Ue=!0;if(3&o.type||g){const tn=Yo(o,t),In=g?g(tn):tn,Rn=ue.length,un=g?ri=>g(Ti(ri[o.index])):o.index;let Lr=null;if(!g&&y&&(Lr=function pS(e,t,r,o){const a=e.cleanup;if(null!=a)for(let h=0;h<a.length-1;h+=2){const g=a[h];if(g===r&&a[h+1]===o){const y=t[bs],A=a[h+2];return y.length>A?y[A]:null}"string"==typeof g&&(h+=2)}return null}(e,t,a,o.index)),null!==Lr)(Lr.__ngLastListenerFn__||Lr).__ngNextListenerFn__=h,Lr.__ngLastListenerFn__=h,Ue=!1;else{h=HA(o,t,Z,h,!1);const ri=r.listen(In,a,h);ue.push(h,ri),$&&$.push(a,un,Rn,Rn+1)}}else h=HA(o,t,Z,h,!1);const st=o.outputs;let Ot;if(Ue&&null!==st&&(Ot=st[a])){const tn=Ot.length;if(tn)for(let In=0;In<tn;In+=2){const Ni=t[Ot[In]][Ot[In+1]].subscribe(h),ga=ue.length;ue.push(h,Ni),$&&$.push(a,o.index,ga,-(ga+1))}}}function zA(e,t,r,o){const a=ce(null);try{return Qo(6,t,r),!1!==r(o)}catch(h){return Cd(e,h),!1}finally{Qo(7,t,r),ce(a)}}function HA(e,t,r,o,a){return function h(g){if(g===Function)return o;Uc(e.componentOffset>-1?ls(e.index,t):t);let A=zA(t,r,o,g),$=h.__ngNextListenerFn__;for(;$;)A=zA(t,r,$,g)&&A,$=$.__ngNextListenerFn__;return a&&!1===A&&g.preventDefault(),A}}function WA(e=1){return function Kd(e){return(_r.lFrame.contextLView=function Yc(e,t){for(;e>0;)t=t[Na],e--;return t}(e,_r.lFrame.contextLView))[Ui]}(e)}function gS(e,t){let r=null;const o=function sn(e){const t=e.attrs;if(null!=t){const r=t.indexOf(5);if(!(1&r))return t[r+1]}return null}(e);for(let a=0;a<t.length;a++){const h=t[a];if("*"!==h){if(null===o?be(e,h,!0):go(o,h))return a}else r=a}return r}function GA(e){const t=ln()[ti][_i];if(!t.projection){const o=t.projection=function ko(e,t){const r=[];for(let o=0;o<e;o++)r.push(t);return r}(e?e.length:1,null),a=o.slice();let h=t.child;for(;null!==h;){const g=e?gS(h,e):0;null!==g&&(a[g]?a[g].projectionNext=h:o[g]=h,a[g]=h),h=h.next}}}function KA(e,t=0,r){const o=ln(),a=Gr(),h=Ku(a,wr+e,16,null,r||null);null===h.projection&&(h.projection=t),lc(),(!o[mo]||ra())&&32&~h.flags&&function Oy(e,t,r){Pv(t[Tr],0,t,r,Cv(e,r,t),xy(r.parent||t[_i],r,t))}(a,o,h)}function rC(e,t,r,o){!function WI(e,t,r,o){const a=Gr();if(a.firstCreatePass){const h=Di();GI(a,new BI(t,r,o),h.index),function dD(e,t){const r=e.contentQueries||(e.contentQueries=[]);t!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,t)}(a,e),!(2&~r)&&(a.staticContentQueries=!0)}return zI(a,ln(),r)}(e,t,r,o)}function iC(e,t,r){!function HI(e,t,r){const o=Gr();return o.firstCreatePass&&(GI(o,new BI(e,t,r),-1),!(2&~t)&&(o.staticViewQueries=!0)),zI(o,ln(),t)}(e,t,r)}function oC(e){const t=ln(),r=Gr(),o=Qa();hc(o+1);const a=o0(r,o);if(e.dirty&&function Mu(e){return!(4&~e[$n])}(t)===!(2&~a.metadata.flags)){if(null===a.matches)e.reset([]);else{const h=KI(t,o);e.reset(h,rf),e.notifyOnChanges()}return!0}return!1}function sC(){return function r0(e,t){return e[Vs].queries[t].queryList}(ln(),Qa())}function mC(e,t=""){const r=ln(),o=Gr(),a=e+wr,h=o.firstCreatePass?Ku(o,a,1,t,null):o.data[a],g=vC(o,r,h,t,e);r[a]=g,U()&&Hf(o,r,g,h),cs(h,!1)}let vC=(e,t,r,o,a)=>(me(!0),function Pg(e,t){return e.createText(t)}(t[Tr],o));function B0(e){return V_("",e,""),B0}function V_(e,t,r){const o=ln(),a=function Dp(e,t,r,o){return ps(e,Wi(),r)?t+hr(r)+o:qr}(o,e,t,r);return a!==qr&&function Sl(e,t,r){const o=na(t,e);!function Iv(e,t,r){e.setValue(t,r)}(e[Tr],o,r)}(o,fs(),a),V_}function j0(e,t,r){QI(t)&&(t=t());const o=ln();return ps(o,Wi(),t)&&Xn(Gr(),Ji(),o,e,t,o[Tr],r,!1),j0}function bC(e,t){const r=QI(e);return r&&e.set(t),r}function z0(e,t){const r=ln(),o=Gr(),a=Di();return U0(o,r,r[Tr],a,e,t),z0}function H0(e,t,r,o,a){if(e=mt(e),Array.isArray(e))for(let h=0;h<e.length;h++)H0(e[h],t,r,o,a);else{const h=Gr(),g=ln(),y=Di();let A=Ys(e)?e:mt(e.provide);const $=Ts(e),Z=1048575&y.providerIndexes,ue=y.directiveStart,Ue=y.providerIndexes>>20;if(Ys(e)||!e.multi){const st=new Gi($,a,Oc),Ot=G0(A,t,a?Z:Z+Ue,ue);-1===Ot?(gr(_t(y,g),h,A),W0(h,e,t.length),t.push(A),y.directiveStart++,y.directiveEnd++,a&&(y.providerIndexes+=1048576),r.push(st),g.push(st)):(r[Ot]=st,g[Ot]=st)}else{const st=G0(A,t,Z+Ue,ue),Ot=G0(A,t,Z,Z+Ue),In=Ot>=0&&r[Ot];if(a&&!In||!a&&!(st>=0&&r[st])){gr(_t(y,g),h,A);const Rn=function kS(e,t,r,o,a){const h=new Gi(e,r,Oc);return h.multi=[],h.index=t,h.componentProviders=0,wC(h,a,o&&!r),h}(a?OS:NS,r.length,a,o,$);!a&&In&&(r[Ot].providerFactory=Rn),W0(h,e,t.length,0),t.push(A),y.directiveStart++,y.directiveEnd++,a&&(y.providerIndexes+=1048576),r.push(Rn),g.push(Rn)}else W0(h,e,st>-1?st:Ot,wC(r[a?Ot:st],$,!a&&o));!a&&o&&In&&r[Ot].componentProviders++}}}function W0(e,t,r,o){const a=Ys(t),h=function ya(e){return!!e.useClass}(t);if(a||h){const A=(h?mt(t.useClass):t).prototype.ngOnDestroy;if(A){const $=e.destroyHooks||(e.destroyHooks=[]);if(!a&&t.multi){const Z=$.indexOf(r);-1===Z?$.push(r,[o,A]):$[Z+1].push(o,A)}else $.push(r,A)}}}function wC(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function G0(e,t,r,o){for(let a=r;a<o;a++)if(t[a]===e)return a;return-1}function NS(e,t,r,o){return K0(this.multi,[])}function OS(e,t,r,o){const a=this.multi;let h;if(this.providerFactory){const g=this.providerFactory.componentProviders,y=ka(r,r[En],this.providerFactory.index,o);h=y.slice(0,g),K0(a,h);for(let A=g;A<y.length;A++)h.push(y[A])}else h=[],K0(a,h);return h}function K0(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function SC(e,t=[]){return r=>{r.providersResolver=(o,a)=>function xS(e,t,r){const o=Gr();if(o.firstCreatePass){const a=Xo(e);H0(r,o.data,o.blueprint,a,!0),H0(t,o.data,o.blueprint,a,!1)}}(o,a?a(e):e,t)}}let FS=(()=>{var e;class t{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const a=Ma(0,o.type),h=a.length>0?c0([a],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,h)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return(e=t).\u0275prov=Rr({token:e,providedIn:"environment",factory:()=>new e(K(es))}),t})();function RC(e){nu("NgStandalone"),e.getStandaloneInjector=t=>t.get(FS).getOrCreateStandaloneInjector(e)}function MC(e,t,r,o,a){return NC(ln(),ts(),e,t,r,o,a)}function gm(e,t){const r=e[t];return r===qr?void 0:r}function NC(e,t,r,o,a,h,g){const y=t+r;return function Uh(e,t,r,o){const a=ps(e,t,r);return ps(e,t+1,o)||a}(e,y,a,h)?ec(e,y+2,g?o.call(g,a,h):o(a,h)):gm(e,y+2)}function LC(e,t){const r=Gr();let o;const a=e+wr;var h;r.firstCreatePass?(o=function qS(e,t){if(t)for(let r=t.length-1;r>=0;r--){const o=t[r];if(e===o.name)return o}}(t,r.pipeRegistry),r.data[a]=o,o.onDestroy&&(null!==(h=r.destroyHooks)&&void 0!==h?h:r.destroyHooks=[]).push(a,o.onDestroy)):o=r.data[a];const g=o.factory||(o.factory=vr(o.type)),A=ar(Oc);try{const $=Za(!1),Z=g();return Za($),function yS(e,t,r,o){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=o}(r,ln(),a,Z),Z}finally{ar(A)}}function VC(e,t,r){const o=e+wr,a=ln(),h=du(a,o);return mm(a,o)?function xC(e,t,r,o,a,h){const g=t+r;return ps(e,g,a)?ec(e,g+1,h?o.call(h,a):o(a)):gm(e,g+1)}(a,ts(),t,h.transform,r,h):h.transform(r)}function UC(e,t,r,o){const a=e+wr,h=ln(),g=du(h,a);return mm(h,a)?NC(h,ts(),t,g.transform,r,o,g):g.transform(r,o)}function mm(e,t){return e[En].data[t].pure}class tT{constructor(t){this.full=t;const r=t.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}const IR=new tT("17.3.10");let nT=(()=>{var e;class t{log(o){console.log(o)}warn(o){console.warn(o)}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Rr({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();const sT=new Nt(""),aT=new Nt("");let eI,GR=(()=>{var e;class t{constructor(o,a,h){this._ngZone=o,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,eI||(function KR(e){eI=e}(h),h.addToWindow(a)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{xo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb()}});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,h){let g=-1;a&&a>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==g),o()},a)),this._callbacks.push({doneCb:o,timeoutId:g,updateCb:h})}whenStable(o,a,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,a,h){return[]}}return(e=t).\u0275fac=function(o){return new(o||e)(K(xo),K(lT),K(aT))},e.\u0275prov=Rr({token:e,factory:e.\u0275fac}),t})(),lT=(()=>{var e;class t{constructor(){this._applications=new Map}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){var h,g;return null!==(h=null===(g=eI)||void 0===g?void 0:g.findTestabilityInTree(this,o,a))&&void 0!==h?h:null}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Rr({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();function tI(e){return!!e&&"function"==typeof e.then}function uT(e){return!!e&&"function"==typeof e.subscribe}const cT=new Nt("");let nI=(()=>{var e;class t{constructor(){var o;this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,h)=>{this.resolve=a,this.reject=h}),this.appInits=null!==(o=Se(cT,{optional:!0}))&&void 0!==o?o:[]}runInitializers(){if(this.initialized)return;const o=[];for(const h of this.appInits){const g=h();if(tI(g))o.push(g);else if(uT(g)){const y=new Promise((A,$)=>{g.subscribe({complete:A,error:$})});o.push(y)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{a()}).catch(h=>{this.reject(h)}),0===o.length&&a(),this.initialized=!0}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Rr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const rI=new Nt("");function fT(e,t){return Array.isArray(t)?t.reduce(fT,e):{...e,...t}}let Nd=(()=>{var e;class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Se(tf),this.afterRenderEffectManager=Se(Du),this.externalTestViews=new Set,this.beforeRender=new Sn.B,this.afterTick=new Sn.B,this.componentTypes=[],this.components=[],this.isStable=Se(mp).hasPendingTasks.pipe((0,Jn.T)(o=>!o)),this._injector=Se(es)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,a){const h=o instanceof Qg;if(!this._injector.get(nI).done)throw!h&&Uo(o),new vt(405,!1);let y;y=h?o:this._injector.get(Qu).resolveComponentFactory(o),this.componentTypes.push(y.componentType);const A=function qR(e){return e.isBoundToModule}(y)?void 0:this._injector.get(Vh),Z=y.create(Fa.NULL,[],a||y.selector,A),ue=Z.location.nativeElement,Ue=Z.injector.get(sT,null);return null==Ue||Ue.registerApplication(ue),Z.onDestroy(()=>{this.detachView(Z.hostView),j_(this.components,Z),null==Ue||Ue.unregisterApplication(ue)}),this._loadComponent(Z),Z}tick(){this._tick(!0)}_tick(o){if(this._runningTick)throw new vt(101,!1);const a=ce(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(o)}catch(h){this.internalErrorHandler(h)}finally{this.afterTick.next(),this._runningTick=!1,ce(a)}}detectChangesInAttachedViews(o){let a=0;const h=this.afterRenderEffectManager;for(;;){if(a===$v)throw new vt(103,!1);if(o){const g=0===a;this.beforeRender.next(g);for(let{_lView:y,notifyErrorHandler:A}of this._views)QR(y,g,A)}if(a++,h.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:g})=>iI(g))&&(h.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:g})=>iI(g))))break}}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;j_(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const a=this._injector.get(rI,[]);[...this._bootstrapListeners,...a].forEach(h=>h(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>j_(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new vt(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Rr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function j_(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}function QR(e,t,r){!t&&!iI(e)||function YR(e,t,r){let o;r?(o=0,e[$n]|=1024):o=64&e[$n]?0:1,Xu(e,t,o)}(e,r,t)}function iI(e){return hu(e)}class ZR{constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}let JR=(()=>{var e;class t{compileModuleSync(o){return new u0(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),g=wa(sr(o).declarations).reduce((y,A)=>{const $=xr(A);return $&&y.push(new Sd($)),y},[]);return new ZR(a,g)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Rr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),nP=(()=>{var e;class t{constructor(){this.zone=Se(xo),this.applicationRef=Se(Nd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var o;null===(o=this._onMicrotaskEmptySubscription)||void 0===o||o.unsubscribe()}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Rr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function rP(){const e=Se(xo),t=Se(bl);return r=>e.runOutsideAngular(()=>t.handleError(r))}let oP=(()=>{var e;class t{constructor(){this.subscription=new Jt.yU,this.initialized=!1,this.zone=Se(xo),this.pendingTasks=Se(mp)}initialize(){if(this.initialized)return;this.initialized=!0;let o=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(o=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{xo.assertNotInAngularZone(),queueMicrotask(()=>{null!==o&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(o),o=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var a;xo.assertInAngularZone(),null!==(a=o)&&void 0!==a||(o=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Rr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const z_=new Nt("",{providedIn:"root",factory:()=>Se(z_,lr.Optional|lr.SkipSelf)||function sP(){return typeof $localize<"u"&&$localize.locale||Fp}()}),aP=new Nt("",{providedIn:"root",factory:()=>"USD"}),oI=new Nt("");let vT=(()=>{var e;class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const h=function a_(e="zone.js",t){return"noop"===e?new s_:"zone.js"===e?new xo(t):e}(null==a?void 0:a.ngZone,function mT(e){var t,r;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(t=null==e?void 0:e.eventCoalescing)&&void 0!==t&&t,shouldCoalesceRunChangeDetection:null!==(r=null==e?void 0:e.runCoalescing)&&void 0!==r&&r}}({eventCoalescing:null==a?void 0:a.ngZoneEventCoalescing,runCoalescing:null==a?void 0:a.ngZoneRunCoalescing}));return h.run(()=>{const g=function ND(e,t,r){return new l0(e,t,r)}(o.moduleType,this.injector,function gT(e){return[{provide:xo,useFactory:e},{provide:Ns,multi:!0,useFactory:()=>{const t=Se(nP,{optional:!0});return()=>t.initialize()}},{provide:Ns,multi:!0,useFactory:()=>{const t=Se(oP);return()=>{t.initialize()}}},{provide:tf,useFactory:rP}]}(()=>h)),y=g.injector.get(bl,null);return h.runOutsideAngular(()=>{const A=h.onError.subscribe({next:$=>{y.handleError($)}});g.onDestroy(()=>{j_(this._modules,g),A.unsubscribe()})}),function hT(e,t,r){try{const o=r();return tI(o)?o.catch(a=>{throw t.runOutsideAngular(()=>e.handleError(a)),a}):o}catch(o){throw t.runOutsideAngular(()=>e.handleError(o)),o}}(y,h,()=>{const A=g.injector.get(nI);return A.runInitializers(),A.donePromise.then(()=>(function vA(e){"string"==typeof e&&(mA=e.toLowerCase().replace(/_/g,"-"))}(g.injector.get(z_,Fp)||Fp),this._moduleDoBootstrap(g),g))})})}bootstrapModule(o,a=[]){const h=fT({},a);return function tP(e,t,r){const o=new u0(r);return Promise.resolve(o)}(0,0,o).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(o){const a=o.injector.get(Nd);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(h=>a.bootstrap(h));else{if(!o.instance.ngDoBootstrap)throw new vt(-403,!1);o.instance.ngDoBootstrap(a)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new vt(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const o=this._injector.get(oI,null);o&&(o.forEach(a=>a()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(e=t).\u0275fac=function(o){return new(o||e)(K(Fa))},e.\u0275prov=Rr({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})(),Od=null;const _T=new Nt("");function yT(e,t,r=[]){const o=`Platform: ${t}`,a=new Nt(o);return(h=[])=>{let g=sI();if(!g||g.injector.get(_T,!1)){const y=[...r,...h,{provide:a,useValue:!0}];e?e(y):function uP(e){if(Od&&!Od.get(_T,!1))throw new vt(400,!1);(function dT(){!function J(e){Tn=e}(()=>{throw new vt(600,!1)})})(),Od=e;const t=e.get(vT);(function ET(e){const t=e.get(yf,null);null==t||t.forEach(r=>r())})(e)}(function IT(e=[],t){return Fa.create({name:t,providers:[{provide:Ha,useValue:"platform"},{provide:oI,useValue:new Set([()=>Od=null])},...e]})}(y,o))}return function cP(e){const t=sI();if(!t)throw new vt(401,!1);return t}()}}function sI(){var e,t;return null!==(e=null===(t=Od)||void 0===t?void 0:t.get(vT))&&void 0!==e?e:null}function hP(){return!1}function fP(){}let CT=(()=>{class t{}return t.__NG_ELEMENT_ID__=pP,t})();function pP(e){return function gP(e,t,r){if(ta(e)&&!r){const o=ls(e.index,t);return new Rl(o,o)}return 47&e.type?new Rl(t[ti],t):null}(Di(),ln(),!(16&~e))}class wT{constructor(){}supports(t){return E_(t)}create(t){return new IP(t)}}const yP=(e,t)=>t;class IP{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||yP}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,o=this._removalsHead,a=0,h=null;for(;r||o;){const g=!o||r&&r.currentIndex<RT(o,a,h)?r:o,y=RT(g,a,h),A=g.currentIndex;if(g===o)a--,o=o._nextRemoved;else if(r=r._next,null==g.previousIndex)a++;else{h||(h=[]);const $=y-a,Z=A-a;if($!=Z){for(let Ue=0;Ue<$;Ue++){const st=Ue<h.length?h[Ue]:h[Ue]=0,Ot=st+Ue;Z<=Ot&&Ot<$&&(h[Ue]=st+1)}h[g.previousIndex]=Z-$}}y!==A&&t(g,y,A)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!E_(t))throw new vt(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let a,h,g,r=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let y=0;y<this.length;y++)h=t[y],g=this._trackByFn(y,h),null!==r&&Object.is(r.trackById,g)?(o&&(r=this._verifyReinsertion(r,h,g,y)),Object.is(r.item,h)||this._addIdentityChange(r,h)):(r=this._mismatch(r,h,g,y),o=!0),r=r._next}else a=0,function LD(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[Symbol.iterator]();let o;for(;!(o=r.next()).done;)t(o.value)}}(t,y=>{g=this._trackByFn(a,y),null!==r&&Object.is(r.trackById,g)?(o&&(r=this._verifyReinsertion(r,y,g,a)),Object.is(r.item,y)||this._addIdentityChange(r,y)):(r=this._mismatch(r,y,g,a),o=!0),r=r._next,a++}),this.length=a;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,o,a){let h;return null===t?h=this._itTail:(h=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,h,a)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(o,a))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,h,a)):t=this._addAfter(new EP(r,o),h,a),t}_verifyReinsertion(t,r,o,a){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==h?t=this._reinsertAfter(h,t._prev,a):t.currentIndex!=a&&(t.currentIndex=a,this._addToMoves(t,a)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const a=t._prevRemoved,h=t._nextRemoved;return null===a?this._removalsHead=h:a._nextRemoved=h,null===h?this._removalsTail=a:h._prevRemoved=a,this._insertAfter(t,r,o),this._addToMoves(t,o),t}_moveAfter(t,r,o){return this._unlink(t),this._insertAfter(t,r,o),this._addToMoves(t,o),t}_addAfter(t,r,o){return this._insertAfter(t,r,o),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,o){const a=null===r?this._itHead:r._next;return t._next=a,t._prev=r,null===a?this._itTail=t:a._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new ST),this._linkedRecords.put(t),t.currentIndex=o,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,o=t._next;return null===r?this._itHead=o:r._next=o,null===o?this._itTail=r:o._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ST),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class EP{constructor(t,r){this.item=t,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class AP{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===r||r<=o.currentIndex)&&Object.is(o.trackById,t))return o;return null}remove(t){const r=t._prevDup,o=t._nextDup;return null===r?this._head=o:r._nextDup=o,null===o?this._tail=r:o._prevDup=r,null===this._head}}class ST{constructor(){this.map=new Map}put(t){const r=t.trackById;let o=this.map.get(r);o||(o=new AP,this.map.set(r,o)),o.add(t)}get(t,r){const a=this.map.get(t);return a?a.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function RT(e,t,r){const o=e.previousIndex;if(null===o)return o;let a=0;return r&&o<r.length&&(a=r[o]),o+t+a}class PT{constructor(){}supports(t){return t instanceof Map||d0(t)}create(){return new CP}}class CP{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let r;for(r=this._mapHead;null!==r;r=r._next)t(r)}forEachPreviousItem(t){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)t(r)}forEachChangedItem(t){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}diff(t){if(t){if(!(t instanceof Map||d0(t)))throw new vt(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(t,(o,a)=>{if(r&&r.key===a)this._maybeAddToChanges(r,o),this._appendAfter=r,r=r._next;else{const h=this._getOrCreateRecordForKey(a,o);r=this._insertBeforeOrAppend(r,h)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let o=r;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,r){if(t){const o=t._prev;return r._next=t,r._prev=o,t._prev=r,o&&(o._next=r),t===this._mapHead&&(this._mapHead=r),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(t,r){if(this._records.has(t)){const a=this._records.get(t);this._maybeAddToChanges(a,r);const h=a._prev,g=a._next;return h&&(h._next=g),g&&(g._prev=h),a._next=null,a._prev=null,a}const o=new TP(t);return this._records.set(t,o),o.currentValue=r,this._addToAdditions(o),o}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,r){Object.is(r,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=r,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,r){t instanceof Map?t.forEach(r):Object.keys(t).forEach(o=>r(t[o],o))}}class TP{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function MT(){return new dI([new wT])}let dI=(()=>{var e;class t{constructor(o){this.factories=o}static create(o,a){if(null!=a){const h=a.factories.slice();o=o.concat(h)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||MT()),deps:[[t,new zn,new dn]]}}find(o){const a=this.factories.find(h=>h.supports(o));if(null!=a)return a;throw new vt(901,!1)}}return(e=t).\u0275prov=Rr({token:e,providedIn:"root",factory:MT}),t})();function xT(){return new hI([new PT])}let hI=(()=>{var e;class t{constructor(o){this.factories=o}static create(o,a){if(a){const h=a.factories.slice();o=o.concat(h)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||xT()),deps:[[t,new zn,new dn]]}}find(o){const a=this.factories.find(h=>h.supports(o));if(a)return a;throw new vt(901,!1)}}return(e=t).\u0275prov=Rr({token:e,providedIn:"root",factory:xT}),t})();const wP=yT(null,"core",[]);let SP=(()=>{var e;class t{constructor(o){}}return(e=t).\u0275fac=function(o){return new(o||e)(K(Nd))},e.\u0275mod=la({type:e}),e.\u0275inj=ki({}),t})();function rM(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function oM(e){const t=ce(null);try{return e()}finally{ce(t)}}function dM(e,t){const r=xr(e),o=t.elementInjector||ks();return new Sd(r).create(o,t.projectableNodes,t.hostElement,t.environmentInjector)}function hM(e){const t=xr(e);if(!t)return null;const r=new Sd(t);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}},1182:(Dn,At,O)=>{"use strict";O.d(At,{DS:()=>Ve,$z:()=>B,UB:()=>H,yy:()=>$e,ZP:()=>J,AU:()=>R,CP:()=>Tn,gF:()=>Ee});var d=O(9842),N=(O(2438),O(177)),Te=O(4438),de=O(5407),Be=O(9253),ce=O(1413),xe=O(7673),Qe=O(1985),Pe=O(8455),ve=O(6365),qe=O(8750),Ke=O(983),We=O(3794),ct=O(941),rt=O(5558),nt=O(6354),Tt=O(6129);class tt extends ce.B{constructor(Xe=1/0,jt=1/0,ft=Tt.U){super(),this._bufferSize=Xe,this._windowTime=jt,this._timestampProvider=ft,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=jt===1/0,this._bufferSize=Math.max(1,Xe),this._windowTime=Math.max(1,jt)}next(Xe){const{isStopped:jt,_buffer:ft,_infiniteTimeWindow:Lt,_timestampProvider:gn,_windowTime:Sn}=this;jt||(ft.push(Xe),!Lt&&ft.push(gn.now()+Sn)),this._trimBuffer(),super.next(Xe)}_subscribe(Xe){this._throwIfClosed(),this._trimBuffer();const jt=this._innerSubscribe(Xe),{_infiniteTimeWindow:ft,_buffer:Lt}=this,gn=Lt.slice();for(let Sn=0;Sn<gn.length&&!Xe.closed;Sn+=ft?1:2)Xe.next(gn[Sn]);return this._checkFinalizedStatuses(Xe),jt}_trimBuffer(){const{_bufferSize:Xe,_timestampProvider:jt,_buffer:ft,_infiniteTimeWindow:Lt}=this,gn=(Lt?1:2)*Xe;if(Xe<1/0&&gn<ft.length&&ft.splice(0,ft.length-gn),!Lt){const Sn=jt.now();let Jt=0;for(let Pn=1;Pn<ft.length&&ft[Pn]<=Sn;Pn+=2)Jt=Pn;Jt&&ft.splice(0,Jt+1)}}}var et=O(7707),we=O(9974);function ze(Me,Xe,...jt){if(!0===Xe)return void Me();if(!1===Xe)return;const ft=new et.Ms({next:()=>{ft.unsubscribe(),Me()}});return(0,qe.Tg)(Xe(...jt)).subscribe(ft)}function dt(Me,Xe,jt){let ft,Lt=!1;return Me&&"object"==typeof Me?({bufferSize:ft=1/0,windowTime:Xe=1/0,refCount:Lt=!1,scheduler:jt}=Me):ft=null!=Me?Me:1/0,function Ge(Me={}){const{connector:Xe=(()=>new ce.B),resetOnError:jt=!0,resetOnComplete:ft=!0,resetOnRefCountZero:Lt=!0}=Me;return gn=>{let Sn,Jt,Pn,Jn=0,bn=!1,nn=!1;const vt=()=>{null==Jt||Jt.unsubscribe(),Jt=void 0},pt=()=>{vt(),Sn=Pn=void 0,bn=nn=!1},Ft=()=>{const rn=Sn;pt(),null==rn||rn.unsubscribe()};return(0,we.N)((rn,Qt)=>{Jn++,!nn&&!bn&&vt();const or=Pn=null!=Pn?Pn:Xe();Qt.add(()=>{Jn--,0===Jn&&!nn&&!bn&&(Jt=ze(Ft,Lt))}),or.subscribe(Qt),!Sn&&Jn>0&&(Sn=new et.Ms({next:Wn=>or.next(Wn),error:Wn=>{nn=!0,vt(),Jt=ze(pt,jt,Wn),or.error(Wn)},complete:()=>{bn=!0,vt(),Jt=ze(pt,ft),or.complete()}}),(0,qe.Tg)(rn).subscribe(Sn))})(gn)}}({connector:()=>new tt(ft,Xe,jt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Lt})}var St=O(1594),te=O(8071);function Dt(Me,Xe){return(0,te.T)(Xe)?(0,rt.n)(()=>Me,Xe):(0,rt.n)(()=>Me)}var wt=O(6745),an=O(5964);O(7935);const Tn=new Te.nKC("angularfire2.auth.use-emulator"),$e=new Te.nKC("angularfire2.auth.settings"),J=new Te.nKC("angularfire2.auth.tenant-id"),B=new Te.nKC("angularfire2.auth.langugage-code"),R=new Te.nKC("angularfire2.auth.use-device-language"),H=new Te.nKC("angularfire.auth.persistence"),Ee=(Me,Xe,jt,ft,Lt,gn,Sn,Jt)=>(0,Be.BM)(`${Me.name}.auth`,"AngularFireAuth",Me.name,()=>{const Pn=Xe.runOutsideAngular(()=>Me.auth());if(jt&&Pn.useEmulator(...jt),ft&&(Pn.tenantId=ft),Pn.languageCode=Lt,gn&&Pn.useDeviceLanguage(),Sn)for(const[Jn,bn]of Object.entries(Sn))Pn.settings[Jn]=bn;return Jt&&Pn.setPersistence(Jt),Pn},[jt,ft,Lt,gn,Sn,Jt]);let Ve=(()=>{var Me;class Xe{constructor(ft,Lt,gn,Sn,Jt,Pn,Jn,bn,nn,vt,pt,Ft){(0,d.A)(this,"authState",void 0),(0,d.A)(this,"idToken",void 0),(0,d.A)(this,"user",void 0),(0,d.A)(this,"idTokenResult",void 0),(0,d.A)(this,"credential",void 0);const rn=new ce.B,Qt=(0,xe.of)(void 0).pipe((0,ct.Q)(Jt.outsideAngular),(0,rt.n)(()=>Sn.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,2438)))),(0,nt.T)(()=>(0,Be.iB)(ft,Sn,Lt)),(0,nt.T)(or=>Ee(or,Sn,Pn,bn,nn,vt,Jn,pt)),dt({bufferSize:1,refCount:!1}));if((0,N.Vy)(gn))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,xe.of)(null);else{Qt.pipe((0,St.$)()).subscribe();const or=Qt.pipe((0,rt.n)(hn=>hn.getRedirectResult().then(Un=>Un,()=>null)),de.U0,dt({bufferSize:1,refCount:!1})),Wn=Qt.pipe((0,rt.n)(hn=>new Qe.c(Un=>({unsubscribe:Sn.runOutsideAngular(()=>hn.onAuthStateChanged(tr=>Un.next(tr),tr=>Un.error(tr),()=>Un.complete()))})))),wn=Qt.pipe((0,rt.n)(hn=>new Qe.c(Un=>({unsubscribe:Sn.runOutsideAngular(()=>hn.onIdTokenChanged(tr=>Un.next(tr),tr=>Un.error(tr),()=>Un.complete()))}))));this.authState=or.pipe(Dt(Wn),(0,wt._)(Jt.outsideAngular),(0,ct.Q)(Jt.insideAngular)),this.user=or.pipe(Dt(wn),(0,wt._)(Jt.outsideAngular),(0,ct.Q)(Jt.insideAngular)),this.idToken=this.user.pipe((0,rt.n)(hn=>hn?(0,Pe.H)(hn.getIdToken()):(0,xe.of)(null))),this.idTokenResult=this.user.pipe((0,rt.n)(hn=>hn?(0,Pe.H)(hn.getIdTokenResult()):(0,xe.of)(null))),this.credential=function Ye(...Me){const Xe=(0,We.lI)(Me),jt=(0,We.R0)(Me,1/0),ft=Me;return ft.length?1===ft.length?(0,qe.Tg)(ft[0]):(0,ve.U)(jt)((0,Pe.H)(ft,Xe)):Ke.w}(or,rn,this.authState.pipe((0,an.p)(hn=>!hn))).pipe((0,nt.T)(hn=>null!=hn&&hn.user?hn:null),(0,wt._)(Jt.outsideAngular),(0,ct.Q)(Jt.insideAngular))}return(0,Be.Gt)(this,Qt,Sn,{spy:{apply:(or,Wn,wn)=>{(or.startsWith("signIn")||or.startsWith("createUser"))&&wn.then(hn=>rn.next(hn))}}})}}return Me=Xe,(0,d.A)(Xe,"\u0275fac",function(ft){return new(ft||Me)(Te.KVO(Be.rx),Te.KVO(Be.uP,8),Te.KVO(Te.Agw),Te.KVO(Te.SKi),Te.KVO(de.u0),Te.KVO(Tn,8),Te.KVO($e,8),Te.KVO(J,8),Te.KVO(B,8),Te.KVO(R,8),Te.KVO(H,8),Te.KVO(de.Jv,8))}),(0,d.A)(Xe,"\u0275prov",Te.jDH({token:Me,factory:Me.\u0275fac,providedIn:"any"})),Xe})()},3510:(Dn,At,O)=>{"use strict";O.d(At,{Qe:()=>Ve,cM:()=>it});var d=O(9842),u=O(177),N=O(4438),Te=O(5407),de=O(9253),Be=O(1182),ce=O(3236),xe=O(1985),Qe=O(8455),Pe=O(7673),ve=O(9172),qe=O(9974),Ke=O(4360);function We(){return(0,qe.N)((Me,Xe)=>{let jt,ft=!1;Me.subscribe((0,Ke._)(Xe,Lt=>{const gn=jt;jt=Lt,ft&&Xe.next([gn,Lt]),ft=!0}))})}var Ye=O(6354),ct=O(2816),rt=O(3294),nt=O(5964),et=(O(2438),O(3011),O(7935));function Ge(Me,Xe){return function we(Me,Xe=ce.E){return new xe.c(jt=>{let ft;return null!=Xe?Xe.schedule(()=>{ft=Me.onSnapshot({includeMetadataChanges:!0},jt)}):ft=Me.onSnapshot({includeMetadataChanges:!0},jt),()=>{null!=ft&&ft()}})}(Me,Xe)}function dt(Me,Xe){return Ge(Me,Xe).pipe((0,Ye.T)(jt=>({payload:jt,type:"query"})))}class St{constructor(Xe,jt){(0,d.A)(this,"ref",void 0),(0,d.A)(this,"afs",void 0),this.ref=Xe,this.afs=jt}set(Xe,jt){return this.ref.set(Xe,jt)}update(Xe){return this.ref.update(Xe)}delete(){return this.ref.delete()}collection(Xe,jt){const ft=this.ref.collection(Xe),{ref:Lt,query:gn}=Ee(ft,jt);return new Tn(Lt,gn,this.afs)}snapshotChanges(){return function ze(Me,Xe){return Ge(Me,Xe).pipe((0,ve.Z)(void 0),We(),(0,Ye.T)(jt=>{const[ft,Lt]=jt;return Lt.exists?null!=ft&&ft.exists?{payload:Lt,type:"modified"}:{payload:Lt,type:"added"}:{payload:Lt,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Te.U0)}valueChanges(Xe={}){return this.snapshotChanges().pipe((0,Ye.T)(({payload:jt})=>Xe.idField?{...jt.data(),[Xe.idField]:jt.id}:jt.data()))}get(Xe){return(0,Qe.H)(this.ref.get(Xe)).pipe(Te.U0)}}function te(Me,Xe){return dt(Me,Xe).pipe((0,ve.Z)(void 0),We(),(0,Ye.T)(jt=>{const[ft,Lt]=jt,gn=Lt.payload.docChanges(),Sn=gn.map(Jt=>({type:Jt.type,payload:Jt}));return ft&&JSON.stringify(ft.payload.metadata)!==JSON.stringify(Lt.payload.metadata)&&Lt.payload.docs.forEach((Jt,Pn)=>{const Jn=gn.find(nn=>nn.doc.ref.isEqual(Jt.ref)),bn=null==ft?void 0:ft.payload.docs.find(nn=>nn.ref.isEqual(Jt.ref));Jn&&JSON.stringify(Jn.doc.metadata)===JSON.stringify(Jt.metadata)||!Jn&&bn&&JSON.stringify(bn.metadata)===JSON.stringify(Jt.metadata)||Sn.push({type:"modified",payload:{oldIndex:Pn,newIndex:Pn,type:"modified",doc:Jt}})}),Sn}))}function Dt(Me,Xe,jt){return te(Me,jt).pipe((0,ct.S)((ft,Lt)=>function wt(Me,Xe,jt){return Xe.forEach(ft=>{jt.indexOf(ft.type)>-1&&(Me=function zt(Me,Xe){switch(Xe.type){case"added":if(!Me[Xe.newIndex]||!Me[Xe.newIndex].doc.ref.isEqual(Xe.doc.ref))return an(Me,Xe.newIndex,0,Xe);break;case"modified":if(null==Me[Xe.oldIndex]||Me[Xe.oldIndex].doc.ref.isEqual(Xe.doc.ref)){if(Xe.oldIndex!==Xe.newIndex){const jt=Me.slice();return jt.splice(Xe.oldIndex,1),jt.splice(Xe.newIndex,0,Xe),jt}return an(Me,Xe.newIndex,1,Xe)}break;case"removed":if(Me[Xe.oldIndex]&&Me[Xe.oldIndex].doc.ref.isEqual(Xe.doc.ref))return an(Me,Xe.oldIndex,1)}return Me}(Me,ft))}),Me}(ft,Lt.map(gn=>gn.payload),Xe),[]),(0,rt.F)(),(0,Ye.T)(ft=>ft.map(Lt=>({type:Lt.type,payload:Lt}))))}function an(Me,Xe,jt,...ft){const Lt=Me.slice();return Lt.splice(Xe,jt,...ft),Lt}function It(Me){return(!Me||0===Me.length)&&(Me=["added","removed","modified"]),Me}class Tn{constructor(Xe,jt,ft){(0,d.A)(this,"ref",void 0),(0,d.A)(this,"query",void 0),(0,d.A)(this,"afs",void 0),this.ref=Xe,this.query=jt,this.afs=ft}stateChanges(Xe){let jt=te(this.query,this.afs.schedulers.outsideAngular);return Xe&&Xe.length>0&&(jt=jt.pipe((0,Ye.T)(ft=>ft.filter(Lt=>Xe.indexOf(Lt.type)>-1)))),jt.pipe((0,ve.Z)(void 0),We(),(0,nt.p)(([ft,Lt])=>Lt.length>0||!ft),(0,Ye.T)(([,ft])=>ft),Te.U0)}auditTrail(Xe){return this.stateChanges(Xe).pipe((0,ct.S)((jt,ft)=>[...jt,...ft],[]))}snapshotChanges(Xe){const jt=It(Xe);return Dt(this.query,jt,this.afs.schedulers.outsideAngular).pipe(Te.U0)}valueChanges(Xe={}){return dt(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ye.T)(jt=>jt.payload.docs.map(ft=>Xe.idField?{...ft.data(),[Xe.idField]:ft.id}:ft.data())),Te.U0)}get(Xe){return(0,Qe.H)(this.query.get(Xe)).pipe(Te.U0)}add(Xe){return this.ref.add(Xe)}doc(Xe){return new St(this.ref.doc(Xe),this.afs)}}class $e{constructor(Xe,jt){(0,d.A)(this,"query",void 0),(0,d.A)(this,"afs",void 0),this.query=Xe,this.afs=jt}stateChanges(Xe){return Xe&&0!==Xe.length?te(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ye.T)(jt=>jt.filter(ft=>Xe.indexOf(ft.type)>-1)),(0,nt.p)(jt=>jt.length>0),Te.U0):te(this.query,this.afs.schedulers.outsideAngular).pipe(Te.U0)}auditTrail(Xe){return this.stateChanges(Xe).pipe((0,ct.S)((jt,ft)=>[...jt,...ft],[]))}snapshotChanges(Xe){const jt=It(Xe);return Dt(this.query,jt,this.afs.schedulers.outsideAngular).pipe(Te.U0)}valueChanges(Xe={}){return dt(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ye.T)(ft=>ft.payload.docs.map(Lt=>Xe.idField?{[Xe.idField]:Lt.id,...Lt.data()}:Lt.data())),Te.U0)}get(Xe){return(0,Qe.H)(this.query.get(Xe)).pipe(Te.U0)}}const J=new N.nKC("angularfire2.enableFirestorePersistence"),B=new N.nKC("angularfire2.firestore.persistenceSettings"),R=new N.nKC("angularfire2.firestore.settings"),H=new N.nKC("angularfire2.firestore.use-emulator");function Ee(Me,Xe=(jt=>jt)){return{query:Xe(Me),ref:Me}}let Ve=(()=>{var Me;class Xe{constructor(ft,Lt,gn,Sn,Jt,Pn,Jn,bn,nn,vt,pt,Ft,rn,Qt,or,Wn,wn){(0,d.A)(this,"schedulers",void 0),(0,d.A)(this,"firestore",void 0),(0,d.A)(this,"persistenceEnabled$",void 0),this.schedulers=Jn;const hn=(0,de.iB)(ft,Pn,Lt),Un=nn;vt&&(0,Be.gF)(hn,Pn,pt,rn,Qt,or,Ft,Wn),[this.firestore,this.persistenceEnabled$]=(0,de.BM)(`${hn.name}.firestore`,"AngularFirestore",hn.name,()=>{const tr=Pn.runOutsideAngular(()=>hn.firestore());if(Sn&&tr.settings(Sn),Un&&tr.useEmulator(...Un),gn&&!(0,u.Vy)(Jt)){const ur=()=>{try{return(0,Qe.H)(tr.enablePersistence(bn||void 0).then(()=>!0,()=>!1))}catch(Br){return typeof console<"u"&&console.warn(Br),(0,Pe.of)(!1)}};return[tr,Pn.runOutsideAngular(ur)]}return[tr,(0,Pe.of)(!1)]},[Sn,Un,gn])}collection(ft,Lt){let gn;gn="string"==typeof ft?this.firestore.collection(ft):ft;const{ref:Sn,query:Jt}=Ee(gn,Lt),Pn=this.schedulers.ngZone.run(()=>Sn);return new Tn(Pn,Jt,this)}collectionGroup(ft,Lt){const gn=Lt||(Jt=>Jt),Sn=this.firestore.collectionGroup(ft);return new $e(gn(Sn),this)}doc(ft){let Lt;Lt="string"==typeof ft?this.firestore.doc(ft):ft;const gn=this.schedulers.ngZone.run(()=>Lt);return new St(gn,this)}createId(){return this.firestore.collection("_").doc().id}}return Me=Xe,(0,d.A)(Xe,"\u0275fac",function(ft){return new(ft||Me)(N.KVO(de.rx),N.KVO(de.uP,8),N.KVO(J,8),N.KVO(R,8),N.KVO(N.Agw),N.KVO(N.SKi),N.KVO(Te.u0),N.KVO(B,8),N.KVO(H,8),N.KVO(Be.DS,8),N.KVO(Be.CP,8),N.KVO(Be.yy,8),N.KVO(Be.ZP,8),N.KVO(Be.$z,8),N.KVO(Be.AU,8),N.KVO(Be.UB,8),N.KVO(Te.Jv,8))}),(0,d.A)(Xe,"\u0275prov",N.jDH({token:Me,factory:Me.\u0275fac,providedIn:"any"})),Xe})(),it=(()=>{var Me;class Xe{constructor(){et.A.registerVersion("angularfire",Te.xv.full,"fst-compat")}static enablePersistence(ft){return{ngModule:Xe,providers:[{provide:J,useValue:!0},{provide:B,useValue:ft}]}}}return Me=Xe,(0,d.A)(Xe,"\u0275fac",function(ft){return new(ft||Me)}),(0,d.A)(Xe,"\u0275mod",N.$C({type:Me})),(0,d.A)(Xe,"\u0275inj",N.G2t({providers:[Ve]})),Xe})()},9253:(Dn,At,O)=>{"use strict";O.d(At,{BM:()=>Ye,Gt:()=>Be,bf:()=>We,e7:()=>ce,iB:()=>ve,rx:()=>Qe,uP:()=>Pe});var d=O(9842),u=O(4438),N=O(5407),Te=O(7935);const de=["ngOnDestroy"],Be=(Tt,tt,et,we={})=>new Proxy(Tt,{get:(Ge,ze)=>et.runOutsideAngular(()=>{var dt;if(Tt[ze])return null!=we&&null!==(dt=we.spy)&&void 0!==dt&&dt.get&&we.spy.get(ze,Tt[ze]),Tt[ze];if(de.indexOf(ze)>-1)return()=>{};const St=tt.toPromise().then(te=>{const Dt=null==te?void 0:te[ze];return"function"==typeof Dt?Dt.bind(te):null!=Dt&&Dt.then?Dt.then(wt=>et.run(()=>wt)):et.run(()=>Dt)});return new Proxy(()=>{},{get:(te,Dt)=>St[Dt],apply:(te,Dt,wt)=>St.then(an=>{var zt;const It=null==an?void 0:an(...wt);return null!=we&&null!==(zt=we.spy)&&void 0!==zt&&zt.apply&&we.spy.apply(ze,wt,It),It})})})}),ce=(Tt,tt)=>{tt.forEach(et=>{Object.getOwnPropertyNames(et.prototype||et).forEach(we=>{Object.defineProperty(Tt.prototype,we,Object.getOwnPropertyDescriptor(et.prototype||et,we))})})};class xe{constructor(tt){return tt}}const Qe=new u.nKC("angularfire2.app.options"),Pe=new u.nKC("angularfire2.app.name");function ve(Tt,tt,et){const Ge="object"==typeof et&&et||{};Ge.name=Ge.name||"string"==typeof et&&et||"[DEFAULT]";const dt=Te.A.apps.filter(St=>St&&St.name===Ge.name)[0]||tt.runOutsideAngular(()=>Te.A.initializeApp(Tt,Ge));try{if(JSON.stringify(Tt)!==JSON.stringify(dt.options)){const St=!!module.hot;qe("error",`${dt.name} Firebase App already initialized with different options${St?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new xe(dt)}const qe=(Tt,...tt)=>{(0,u.naY)()&&typeof console<"u"&&console[Tt](...tt)},Ke={provide:xe,useFactory:ve,deps:[Qe,u.SKi,[new u.Xx1,Pe]]};let We=(()=>{var Tt;class tt{static initializeApp(we,Ge){return{ngModule:tt,providers:[{provide:Qe,useValue:we},{provide:Pe,useValue:Ge}]}}constructor(we){Te.A.registerVersion("angularfire",N.xv.full,"core"),Te.A.registerVersion("angularfire",N.xv.full,"app-compat"),Te.A.registerVersion("angular",u.xvI.full,we.toString())}}return Tt=tt,(0,d.A)(tt,"\u0275fac",function(we){return new(we||Tt)(u.KVO(u.Agw))}),(0,d.A)(tt,"\u0275mod",u.$C({type:Tt})),(0,d.A)(tt,"\u0275inj",u.G2t({providers:[Ke]})),tt})();function Ye(Tt,tt,et,we,Ge){const[,ze,dt]=globalThis.\u0275AngularfireInstanceCache.find(St=>St[0]===Tt)||[];if(ze)return function ct(Tt,tt){try{return Tt.toString()===tt.toString()}catch{return Tt===tt}}(Ge,dt)||(nt("error",`${tt} was already initialized on the ${et} Firebase App with different settings.${rt?" You may need to reload as Firebase is not HMR aware.":""}`),nt("warn",{is:Ge,was:dt})),ze;{const St=we();return globalThis.\u0275AngularfireInstanceCache.push([Tt,St,Ge]),St}}const rt=typeof module<"u"&&!!module.hot,nt=(Tt,...tt)=>{(0,u.naY)()&&typeof console<"u"&&console[Tt](...tt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5407:(Dn,At,O)=>{"use strict";O.d(At,{xv:()=>Ye,U0:()=>an,Oe:()=>Dt,u0:()=>ze,Jv:()=>Tt,CA:()=>nt,lR:()=>rt,S3:()=>Tn});var d=O(9842),u=O(4438),N=O(2214),Te=O(6780),Be=O(9687);const xe=new class ce extends Be.q{}(class de extends Te.R{constructor(J,B){super(J,B),this.scheduler=J,this.work=B}schedule(J,B=0){return B>0?super.schedule(J,B):(this.delay=B,this.state=J,this.scheduler.flush(this),this)}execute(J,B){return B>0||this.closed?super.execute(J,B):this._execute(J,B)}requestAsyncId(J,B,R=0){return null!=R&&R>0||null==R&&this.delay>0?super.requestAsyncId(J,B,R):(J.flush(this),0)}});var Pe=O(3236),ve=O(1985),qe=O(8141),Ke=O(941),We=O(6745);const Ye=new u.RxE("ANGULARFIRE2_VERSION");function rt($e,J,B){if(J){if(1===J.length)return J[0];const Ee=J.filter(Ve=>Ve.app===B);if(1===Ee.length)return Ee[0]}return B.container.getProvider($e).getImmediate({optional:!0})}const nt=($e,J)=>{const B=J?[J]:(0,N.Dk)(),R=[];return B.forEach(H=>{H.container.getProvider($e).instances.forEach(Ve=>{R.includes(Ve)||R.push(Ve)})}),R};class Tt{constructor(){return nt(tt)}}const tt="app-check";function et(){}class we{constructor(J,B=xe){(0,d.A)(this,"zone",void 0),(0,d.A)(this,"delegate",void 0),this.zone=J,this.delegate=B}now(){return this.delegate.now()}schedule(J,B,R){const H=this.zone;return this.delegate.schedule(function(Ve){H.runGuarded(()=>{J.apply(this,[Ve])})},B,R)}}class Ge{constructor(J){(0,d.A)(this,"zone",void 0),(0,d.A)(this,"task",null),this.zone=J}call(J,B){const R=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",et,{},et,et)),B.pipe((0,qe.M)({next:R,complete:R,error:R})).subscribe(J).add(R)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ze=(()=>{var $e;class J{constructor(R){(0,d.A)(this,"ngZone",void 0),(0,d.A)(this,"outsideAngular",void 0),(0,d.A)(this,"insideAngular",void 0),this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new we(Zone.current)),this.insideAngular=R.run(()=>new we(Zone.current,Pe.E)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return $e=J,(0,d.A)(J,"\u0275fac",function(R){return new(R||$e)(u.KVO(u.SKi))}),(0,d.A)(J,"\u0275prov",u.jDH({token:$e,factory:$e.\u0275fac,providedIn:"root"})),J})();function dt(){const $e=globalThis.\u0275AngularFireScheduler;if(!$e)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return $e}function te($e){return dt().ngZone.run(()=>$e())}function Dt($e){return $e.pipe((0,Ke.Q)(dt().outsideAngular))}function an($e){return function zt($e){return function(B){return(B=B.lift(new Ge($e.ngZone))).pipe((0,We._)($e.outsideAngular),(0,Ke.Q)($e.insideAngular))}}(dt())($e)}const It=($e,J)=>function(){const R=arguments;return J&&setTimeout(()=>{"scheduled"===J.state&&J.invoke()},10),te(()=>$e.apply(void 0,R))},Tn=($e,J)=>function(){let B;const R=arguments;for(let Ee=0;Ee<arguments.length;Ee++)"function"==typeof R[Ee]&&(J&&(B||(B=te(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",et,{},et,et)))),R[Ee]=It(R[Ee],B));const H=function St($e){return dt().ngZone.runOutsideAngular(()=>$e())}(()=>$e.apply(this,R));if(!J){if(H instanceof ve.c){const Ee=dt();return H.pipe((0,We._)(Ee.outsideAngular),(0,Ke.Q)(Ee.insideAngular))}return te(()=>H)}return H instanceof ve.c?H.pipe(an):H instanceof Promise?te(()=>new Promise((Ee,Ve)=>H.then(it=>te(()=>Ee(it)),it=>te(()=>Ve(it))))):"function"==typeof H&&B?function(){return setTimeout(()=>{B&&"scheduled"===B.state&&B.invoke()},10),H.apply(this,arguments)}:te(()=>H)}},4341:(Dn,At,O)=>{"use strict";O.d(At,{ok:()=>Pa,JD:()=>He,j4:()=>Ce,YN:()=>qs,zX:()=>fi,VZ:()=>rs,cz:()=>ze,kq:()=>Ye,vO:()=>Ft,BC:()=>Wn,cb:()=>wn,vS:()=>lr,X1:()=>aa,k0:()=>te,qT:()=>Vr});var d=O(4438),u=O(177),N=O(8455),Te=O(1985),de=O(3073),Be=O(8750),ce=O(3794),xe=O(4360),Qe=O(6450),Pe=O(8496),qe=O(6354);let Ke=(()=>{var G;class M{constructor(W,be){this._renderer=W,this._elementRef=be,this.onChange=sn=>{},this.onTouched=()=>{}}setProperty(W,be){this._renderer.setProperty(this._elementRef.nativeElement,W,be)}registerOnTouched(W){this.onTouched=W}registerOnChange(W){this.onChange=W}setDisabledState(W){this.setProperty("disabled",W)}}return(G=M).\u0275fac=function(W){return new(W||G)(d.rXU(d.sFG),d.rXU(d.aKT))},G.\u0275dir=d.FsC({type:G}),M})(),We=(()=>{var G;class M extends Ke{}return(G=M).\u0275fac=(()=>{let Ie;return function(be){return(Ie||(Ie=d.xGo(G)))(be||G)}})(),G.\u0275dir=d.FsC({type:G,features:[d.Vt3]}),M})();const Ye=new d.nKC(""),nt={provide:Ye,useExisting:(0,d.Rfq)(()=>et),multi:!0},tt=new d.nKC("");let et=(()=>{var G;class M extends Ke{constructor(W,be,sn){super(W,be),this._compositionMode=sn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Tt(){const G=(0,u.QT)()?(0,u.QT)().getUserAgent():"";return/android (\d+)/.test(G.toLowerCase())}())}writeValue(W){this.setProperty("value",null==W?"":W)}_handleInput(W){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(W)}_compositionStart(){this._composing=!0}_compositionEnd(W){this._composing=!1,this._compositionMode&&this.onChange(W)}}return(G=M).\u0275fac=function(W){return new(W||G)(d.rXU(d.sFG),d.rXU(d.aKT),d.rXU(tt,8))},G.\u0275dir=d.FsC({type:G,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(W,be){1&W&&d.bIt("input",function(Bn){return be._handleInput(Bn.target.value)})("blur",function(){return be.onTouched()})("compositionstart",function(){return be._compositionStart()})("compositionend",function(Bn){return be._compositionEnd(Bn.target.value)})},features:[d.Jv_([nt]),d.Vt3]}),M})();function we(G){return null==G||("string"==typeof G||Array.isArray(G))&&0===G.length}function Ge(G){return null!=G&&"number"==typeof G.length}const ze=new d.nKC(""),dt=new d.nKC(""),St=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class te{static min(M){return Dt(M)}static max(M){return wt(M)}static required(M){return function an(G){return we(G.value)?{required:!0}:null}(M)}static requiredTrue(M){return function zt(G){return!0===G.value?null:{required:!0}}(M)}static email(M){return function It(G){return we(G.value)||St.test(G.value)?null:{email:!0}}(M)}static minLength(M){return function Tn(G){return M=>we(M.value)||!Ge(M.value)?null:M.value.length<G?{minlength:{requiredLength:G,actualLength:M.value.length}}:null}(M)}static maxLength(M){return function $e(G){return M=>Ge(M.value)&&M.value.length>G?{maxlength:{requiredLength:G,actualLength:M.value.length}}:null}(M)}static pattern(M){return function J(G){if(!G)return B;let M,Ie;return"string"==typeof G?(Ie="","^"!==G.charAt(0)&&(Ie+="^"),Ie+=G,"$"!==G.charAt(G.length-1)&&(Ie+="$"),M=new RegExp(Ie)):(Ie=G.toString(),M=G),W=>{if(we(W.value))return null;const be=W.value;return M.test(be)?null:{pattern:{requiredPattern:Ie,actualValue:be}}}}(M)}static nullValidator(M){return null}static compose(M){return Xe(M)}static composeAsync(M){return ft(M)}}function Dt(G){return M=>{if(we(M.value)||we(G))return null;const Ie=parseFloat(M.value);return!isNaN(Ie)&&Ie<G?{min:{min:G,actual:M.value}}:null}}function wt(G){return M=>{if(we(M.value)||we(G))return null;const Ie=parseFloat(M.value);return!isNaN(Ie)&&Ie>G?{max:{max:G,actual:M.value}}:null}}function B(G){return null}function R(G){return null!=G}function H(G){return(0,d.jNT)(G)?(0,N.H)(G):G}function Ee(G){let M={};return G.forEach(Ie=>{M=null!=Ie?{...M,...Ie}:M}),0===Object.keys(M).length?null:M}function Ve(G,M){return M.map(Ie=>Ie(G))}function Me(G){return G.map(M=>function it(G){return!G.validate}(M)?M:Ie=>M.validate(Ie))}function Xe(G){if(!G)return null;const M=G.filter(R);return 0==M.length?null:function(Ie){return Ee(Ve(Ie,M))}}function jt(G){return null!=G?Xe(Me(G)):null}function ft(G){if(!G)return null;const M=G.filter(R);return 0==M.length?null:function(Ie){return function ve(...G){const M=(0,ce.ms)(G),{args:Ie,keys:W}=(0,de.D)(G),be=new Te.c(sn=>{const{length:Bn}=Ie;if(!Bn)return void sn.complete();const fr=new Array(Bn);let go=Bn,Vo=Bn;for(let Xi=0;Xi<Bn;Xi++){let Ro=!1;(0,Be.Tg)(Ie[Xi]).subscribe((0,xe._)(sn,va=>{Ro||(Ro=!0,Vo--),fr[Xi]=va},()=>go--,void 0,()=>{(!go||!Ro)&&(Vo||sn.next(W?(0,Pe.e)(W,fr):fr),sn.complete())}))}});return M?be.pipe((0,Qe.I)(M)):be}(Ve(Ie,M).map(H)).pipe((0,qe.T)(Ee))}}function Lt(G){return null!=G?ft(Me(G)):null}function gn(G,M){return null===G?[M]:Array.isArray(G)?[...G,M]:[G,M]}function Sn(G){return G._rawValidators}function Jt(G){return G._rawAsyncValidators}function Pn(G){return G?Array.isArray(G)?G:[G]:[]}function Jn(G,M){return Array.isArray(G)?G.includes(M):G===M}function bn(G,M){const Ie=Pn(M);return Pn(G).forEach(be=>{Jn(Ie,be)||Ie.push(be)}),Ie}function nn(G,M){return Pn(M).filter(Ie=>!Jn(G,Ie))}class vt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(M){this._rawValidators=M||[],this._composedValidatorFn=jt(this._rawValidators)}_setAsyncValidators(M){this._rawAsyncValidators=M||[],this._composedAsyncValidatorFn=Lt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(M){this._onDestroyCallbacks.push(M)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(M=>M()),this._onDestroyCallbacks=[]}reset(M=void 0){this.control&&this.control.reset(M)}hasError(M,Ie){return!!this.control&&this.control.hasError(M,Ie)}getError(M,Ie){return this.control?this.control.getError(M,Ie):null}}class pt extends vt{get formDirective(){return null}get path(){return null}}class Ft extends vt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class rn{constructor(M){this._cd=M}get isTouched(){var M;return!(null===(M=this._cd)||void 0===M||null===(M=M.control)||void 0===M||!M.touched)}get isUntouched(){var M;return!(null===(M=this._cd)||void 0===M||null===(M=M.control)||void 0===M||!M.untouched)}get isPristine(){var M;return!(null===(M=this._cd)||void 0===M||null===(M=M.control)||void 0===M||!M.pristine)}get isDirty(){var M;return!(null===(M=this._cd)||void 0===M||null===(M=M.control)||void 0===M||!M.dirty)}get isValid(){var M;return!(null===(M=this._cd)||void 0===M||null===(M=M.control)||void 0===M||!M.valid)}get isInvalid(){var M;return!(null===(M=this._cd)||void 0===M||null===(M=M.control)||void 0===M||!M.invalid)}get isPending(){var M;return!(null===(M=this._cd)||void 0===M||null===(M=M.control)||void 0===M||!M.pending)}get isSubmitted(){var M;return!(null===(M=this._cd)||void 0===M||!M.submitted)}}let Wn=(()=>{var G;class M extends rn{constructor(W){super(W)}}return(G=M).\u0275fac=function(W){return new(W||G)(d.rXU(Ft,2))},G.\u0275dir=d.FsC({type:G,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(W,be){2&W&&d.AVh("ng-untouched",be.isUntouched)("ng-touched",be.isTouched)("ng-pristine",be.isPristine)("ng-dirty",be.isDirty)("ng-valid",be.isValid)("ng-invalid",be.isInvalid)("ng-pending",be.isPending)},features:[d.Vt3]}),M})(),wn=(()=>{var G;class M extends rn{constructor(W){super(W)}}return(G=M).\u0275fac=function(W){return new(W||G)(d.rXU(pt,10))},G.\u0275dir=d.FsC({type:G,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(W,be){2&W&&d.AVh("ng-untouched",be.isUntouched)("ng-touched",be.isTouched)("ng-pristine",be.isPristine)("ng-dirty",be.isDirty)("ng-valid",be.isValid)("ng-invalid",be.isInvalid)("ng-pending",be.isPending)("ng-submitted",be.isSubmitted)},features:[d.Vt3]}),M})();const mt="VALID",Je="INVALID",kt="PENDING",ot="DISABLED";function fe(G){return(ie(G)?G.validators:G)||null}function se(G,M){return(ie(M)?M.asyncValidators:G)||null}function ie(G){return null!=G&&!Array.isArray(G)&&"object"==typeof G}function lt(G,M,Ie){const W=G.controls;if(!(M?Object.keys(W):W).length)throw new d.wOt(1e3,"");if(!W[Ie])throw new d.wOt(1001,"")}function qt(G,M,Ie){G._forEachChild((W,be)=>{if(void 0===Ie[be])throw new d.wOt(1002,"")})}class yn{constructor(M,Ie){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(M),this._assignAsyncValidators(Ie)}get validator(){return this._composedValidatorFn}set validator(M){this._rawValidators=this._composedValidatorFn=M}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(M){this._rawAsyncValidators=this._composedAsyncValidatorFn=M}get parent(){return this._parent}get valid(){return this.status===mt}get invalid(){return this.status===Je}get pending(){return this.status==kt}get disabled(){return this.status===ot}get enabled(){return this.status!==ot}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(M){this._assignValidators(M)}setAsyncValidators(M){this._assignAsyncValidators(M)}addValidators(M){this.setValidators(bn(M,this._rawValidators))}addAsyncValidators(M){this.setAsyncValidators(bn(M,this._rawAsyncValidators))}removeValidators(M){this.setValidators(nn(M,this._rawValidators))}removeAsyncValidators(M){this.setAsyncValidators(nn(M,this._rawAsyncValidators))}hasValidator(M){return Jn(this._rawValidators,M)}hasAsyncValidator(M){return Jn(this._rawAsyncValidators,M)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(M={}){this.touched=!0,this._parent&&!M.onlySelf&&this._parent.markAsTouched(M)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(M=>M.markAllAsTouched())}markAsUntouched(M={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(Ie=>{Ie.markAsUntouched({onlySelf:!0})}),this._parent&&!M.onlySelf&&this._parent._updateTouched(M)}markAsDirty(M={}){this.pristine=!1,this._parent&&!M.onlySelf&&this._parent.markAsDirty(M)}markAsPristine(M={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(Ie=>{Ie.markAsPristine({onlySelf:!0})}),this._parent&&!M.onlySelf&&this._parent._updatePristine(M)}markAsPending(M={}){this.status=kt,!1!==M.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!M.onlySelf&&this._parent.markAsPending(M)}disable(M={}){const Ie=this._parentMarkedDirty(M.onlySelf);this.status=ot,this.errors=null,this._forEachChild(W=>{W.disable({...M,onlySelf:!0})}),this._updateValue(),!1!==M.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...M,skipPristineCheck:Ie}),this._onDisabledChange.forEach(W=>W(!0))}enable(M={}){const Ie=this._parentMarkedDirty(M.onlySelf);this.status=mt,this._forEachChild(W=>{W.enable({...M,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:M.emitEvent}),this._updateAncestors({...M,skipPristineCheck:Ie}),this._onDisabledChange.forEach(W=>W(!1))}_updateAncestors(M){this._parent&&!M.onlySelf&&(this._parent.updateValueAndValidity(M),M.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(M){this._parent=M}getRawValue(){return this.value}updateValueAndValidity(M={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===mt||this.status===kt)&&this._runAsyncValidator(M.emitEvent)),!1!==M.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!M.onlySelf&&this._parent.updateValueAndValidity(M)}_updateTreeValidity(M={emitEvent:!0}){this._forEachChild(Ie=>Ie._updateTreeValidity(M)),this.updateValueAndValidity({onlySelf:!0,emitEvent:M.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ot:mt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(M){if(this.asyncValidator){this.status=kt,this._hasOwnPendingAsyncValidator=!0;const Ie=H(this.asyncValidator(this));this._asyncValidationSubscription=Ie.subscribe(W=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(W,{emitEvent:M})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(M,Ie={}){this.errors=M,this._updateControlsErrors(!1!==Ie.emitEvent)}get(M){let Ie=M;return null==Ie||(Array.isArray(Ie)||(Ie=Ie.split(".")),0===Ie.length)?null:Ie.reduce((W,be)=>W&&W._find(be),this)}getError(M,Ie){const W=Ie?this.get(Ie):this;return W&&W.errors?W.errors[M]:null}hasError(M,Ie){return!!this.getError(M,Ie)}get root(){let M=this;for(;M._parent;)M=M._parent;return M}_updateControlsErrors(M){this.status=this._calculateStatus(),M&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(M)}_initObservables(){this.valueChanges=new d.bkB,this.statusChanges=new d.bkB}_calculateStatus(){return this._allControlsDisabled()?ot:this.errors?Je:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(kt)?kt:this._anyControlsHaveStatus(Je)?Je:mt}_anyControlsHaveStatus(M){return this._anyControls(Ie=>Ie.status===M)}_anyControlsDirty(){return this._anyControls(M=>M.dirty)}_anyControlsTouched(){return this._anyControls(M=>M.touched)}_updatePristine(M={}){this.pristine=!this._anyControlsDirty(),this._parent&&!M.onlySelf&&this._parent._updatePristine(M)}_updateTouched(M={}){this.touched=this._anyControlsTouched(),this._parent&&!M.onlySelf&&this._parent._updateTouched(M)}_registerOnCollectionChange(M){this._onCollectionChange=M}_setUpdateStrategy(M){ie(M)&&null!=M.updateOn&&(this._updateOn=M.updateOn)}_parentMarkedDirty(M){return!M&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(M){return null}_assignValidators(M){this._rawValidators=Array.isArray(M)?M.slice():M,this._composedValidatorFn=function ye(G){return Array.isArray(G)?jt(G):G||null}(this._rawValidators)}_assignAsyncValidators(M){this._rawAsyncValidators=Array.isArray(M)?M.slice():M,this._composedAsyncValidatorFn=function pe(G){return Array.isArray(G)?Lt(G):G||null}(this._rawAsyncValidators)}}class Nn extends yn{constructor(M,Ie,W){super(fe(Ie),se(W,Ie)),this.controls=M,this._initObservables(),this._setUpdateStrategy(Ie),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(M,Ie){return this.controls[M]?this.controls[M]:(this.controls[M]=Ie,Ie.setParent(this),Ie._registerOnCollectionChange(this._onCollectionChange),Ie)}addControl(M,Ie,W={}){this.registerControl(M,Ie),this.updateValueAndValidity({emitEvent:W.emitEvent}),this._onCollectionChange()}removeControl(M,Ie={}){this.controls[M]&&this.controls[M]._registerOnCollectionChange(()=>{}),delete this.controls[M],this.updateValueAndValidity({emitEvent:Ie.emitEvent}),this._onCollectionChange()}setControl(M,Ie,W={}){this.controls[M]&&this.controls[M]._registerOnCollectionChange(()=>{}),delete this.controls[M],Ie&&this.registerControl(M,Ie),this.updateValueAndValidity({emitEvent:W.emitEvent}),this._onCollectionChange()}contains(M){return this.controls.hasOwnProperty(M)&&this.controls[M].enabled}setValue(M,Ie={}){qt(this,0,M),Object.keys(M).forEach(W=>{lt(this,!0,W),this.controls[W].setValue(M[W],{onlySelf:!0,emitEvent:Ie.emitEvent})}),this.updateValueAndValidity(Ie)}patchValue(M,Ie={}){null!=M&&(Object.keys(M).forEach(W=>{const be=this.controls[W];be&&be.patchValue(M[W],{onlySelf:!0,emitEvent:Ie.emitEvent})}),this.updateValueAndValidity(Ie))}reset(M={},Ie={}){this._forEachChild((W,be)=>{W.reset(M?M[be]:null,{onlySelf:!0,emitEvent:Ie.emitEvent})}),this._updatePristine(Ie),this._updateTouched(Ie),this.updateValueAndValidity(Ie)}getRawValue(){return this._reduceChildren({},(M,Ie,W)=>(M[W]=Ie.getRawValue(),M))}_syncPendingControls(){let M=this._reduceChildren(!1,(Ie,W)=>!!W._syncPendingControls()||Ie);return M&&this.updateValueAndValidity({onlySelf:!0}),M}_forEachChild(M){Object.keys(this.controls).forEach(Ie=>{const W=this.controls[Ie];W&&M(W,Ie)})}_setUpControls(){this._forEachChild(M=>{M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(M){for(const[Ie,W]of Object.entries(this.controls))if(this.contains(Ie)&&M(W))return!0;return!1}_reduceValue(){return this._reduceChildren({},(Ie,W,be)=>((W.enabled||this.disabled)&&(Ie[be]=W.value),Ie))}_reduceChildren(M,Ie){let W=M;return this._forEachChild((be,sn)=>{W=Ie(W,be,sn)}),W}_allControlsDisabled(){for(const M of Object.keys(this.controls))if(this.controls[M].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(M){return this.controls.hasOwnProperty(M)?this.controls[M]:null}}class Mn extends Nn{}const Xr=new d.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>oi}),oi="always";function Do(G,M){return[...M.path,G]}function Si(G,M,Ie=oi){var W,be;to(G,M),M.valueAccessor.writeValue(G.value),(G.disabled||"always"===Ie)&&(null===(W=(be=M.valueAccessor).setDisabledState)||void 0===W||W.call(be,G.disabled)),function ne(G,M){M.valueAccessor.registerOnChange(Ie=>{G._pendingValue=Ie,G._pendingChange=!0,G._pendingDirty=!0,"change"===G.updateOn&&ke(G,M)})}(G,M),function oe(G,M){const Ie=(W,be)=>{M.valueAccessor.writeValue(W),be&&M.viewToModelUpdate(W)};G.registerOnChange(Ie),M._registerOnDestroy(()=>{G._unregisterOnChange(Ie)})}(G,M),function ee(G,M){M.valueAccessor.registerOnTouched(()=>{G._pendingTouched=!0,"blur"===G.updateOn&&G._pendingChange&&ke(G,M),"submit"!==G.updateOn&&G.markAsTouched()})}(G,M),function ki(G,M){if(M.valueAccessor.setDisabledState){const Ie=W=>{M.valueAccessor.setDisabledState(W)};G.registerOnDisabledChange(Ie),M._registerOnDestroy(()=>{G._unregisterOnDisabledChange(Ie)})}}(G,M)}function Rr(G,M,Ie=!0){const W=()=>{};M.valueAccessor&&(M.valueAccessor.registerOnChange(W),M.valueAccessor.registerOnTouched(W)),$t(G,M),G&&(M._invokeOnDestroyCallbacks(),G._registerOnCollectionChange(()=>{}))}function eo(G,M){G.forEach(Ie=>{Ie.registerOnValidatorChange&&Ie.registerOnValidatorChange(M)})}function to(G,M){const Ie=Sn(G);null!==M.validator?G.setValidators(gn(Ie,M.validator)):"function"==typeof Ie&&G.setValidators([Ie]);const W=Jt(G);null!==M.asyncValidator?G.setAsyncValidators(gn(W,M.asyncValidator)):"function"==typeof W&&G.setAsyncValidators([W]);const be=()=>G.updateValueAndValidity();eo(M._rawValidators,be),eo(M._rawAsyncValidators,be)}function $t(G,M){let Ie=!1;if(null!==G){if(null!==M.validator){const be=Sn(G);if(Array.isArray(be)&&be.length>0){const sn=be.filter(Bn=>Bn!==M.validator);sn.length!==be.length&&(Ie=!0,G.setValidators(sn))}}if(null!==M.asyncValidator){const be=Jt(G);if(Array.isArray(be)&&be.length>0){const sn=be.filter(Bn=>Bn!==M.asyncValidator);sn.length!==be.length&&(Ie=!0,G.setAsyncValidators(sn))}}}const W=()=>{};return eo(M._rawValidators,W),eo(M._rawAsyncValidators,W),Ie}function ke(G,M){G._pendingDirty&&G.markAsDirty(),G.setValue(G._pendingValue,{emitModelToViewChange:!1}),M.viewToModelUpdate(G._pendingValue),G._pendingChange=!1}function yi(G,M){if(!G.hasOwnProperty("model"))return!1;const Ie=G.model;return!!Ie.isFirstChange()||!Object.is(M,Ie.currentValue)}function Ln(G,M){if(!M)return null;let Ie,W,be;return Array.isArray(M),M.forEach(sn=>{sn.constructor===et?Ie=sn:function zi(G){return Object.getPrototypeOf(G.constructor)===We}(sn)?W=sn:be=sn}),be||W||Ie||null}function no(G,M){const Ie=G.indexOf(M);Ie>-1&&G.splice(Ie,1)}function si(G){return"object"==typeof G&&null!==G&&2===Object.keys(G).length&&"value"in G&&"disabled"in G}Promise.resolve();const Nr=class extends yn{constructor(M=null,Ie,W){super(fe(Ie),se(W,Ie)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(M),this._setUpdateStrategy(Ie),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ie(Ie)&&(Ie.nonNullable||Ie.initialValueIsDefault)&&(this.defaultValue=si(M)?M.value:M)}setValue(M,Ie={}){this.value=this._pendingValue=M,this._onChange.length&&!1!==Ie.emitModelToViewChange&&this._onChange.forEach(W=>W(this.value,!1!==Ie.emitViewToModelChange)),this.updateValueAndValidity(Ie)}patchValue(M,Ie={}){this.setValue(M,Ie)}reset(M=this.defaultValue,Ie={}){this._applyFormState(M),this.markAsPristine(Ie),this.markAsUntouched(Ie),this.setValue(this.value,Ie),this._pendingChange=!1}_updateValue(){}_anyControls(M){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(M){this._onChange.push(M)}_unregisterOnChange(M){no(this._onChange,M)}registerOnDisabledChange(M){this._onDisabledChange.push(M)}_unregisterOnDisabledChange(M){no(this._onDisabledChange,M)}_forEachChild(M){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(M){si(M)?(this.value=this._pendingValue=M.value,M.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=M}},Ur={provide:Ft,useExisting:(0,d.Rfq)(()=>lr)},zr=Promise.resolve();let lr=(()=>{var G;class M extends Ft{constructor(W,be,sn,Bn,fr,go){super(),this._changeDetectorRef=fr,this.callSetDisabledState=go,this.control=new Nr,this._registered=!1,this.name="",this.update=new d.bkB,this._parent=W,this._setValidators(be),this._setAsyncValidators(sn),this.valueAccessor=Ln(0,Bn)}ngOnChanges(W){if(this._checkForErrors(),!this._registered||"name"in W){if(this._registered&&(this._checkName(),this.formDirective)){const be=W.name.previousValue;this.formDirective.removeControl({name:be,path:this._getPath(be)})}this._setUpControl()}"isDisabled"in W&&this._updateDisabled(W),yi(W,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(W){this.viewModel=W,this.update.emit(W)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Si(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(W){zr.then(()=>{var be;this.control.setValue(W,{emitViewToModelChange:!1}),null===(be=this._changeDetectorRef)||void 0===be||be.markForCheck()})}_updateDisabled(W){const be=W.isDisabled.currentValue,sn=0!==be&&(0,d.L39)(be);zr.then(()=>{var Bn;sn&&!this.control.disabled?this.control.disable():!sn&&this.control.disabled&&this.control.enable(),null===(Bn=this._changeDetectorRef)||void 0===Bn||Bn.markForCheck()})}_getPath(W){return this._parent?Do(W,this._parent):[W]}}return(G=M).\u0275fac=function(W){return new(W||G)(d.rXU(pt,9),d.rXU(ze,10),d.rXU(dt,10),d.rXU(Ye,10),d.rXU(d.gRc,8),d.rXU(Xr,8))},G.\u0275dir=d.FsC({type:G,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[d.Mj6.None,"disabled","isDisabled"],model:[d.Mj6.None,"ngModel","model"],options:[d.Mj6.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d.Jv_([Ur]),d.Vt3,d.OA$]}),M})(),Vr=(()=>{var G;class M{}return(G=M).\u0275fac=function(W){return new(W||G)},G.\u0275dir=d.FsC({type:G,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),M})();const S=new d.nKC(""),x={provide:pt,useExisting:(0,d.Rfq)(()=>Ce)};let Ce=(()=>{var G;class M extends pt{constructor(W,be,sn){super(),this.callSetDisabledState=sn,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.bkB,this._setValidators(W),this._setAsyncValidators(be)}ngOnChanges(W){this._checkFormPresent(),W.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&($t(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(W){const be=this.form.get(W.path);return Si(be,W,this.callSetDisabledState),be.updateValueAndValidity({emitEvent:!1}),this.directives.push(W),be}getControl(W){return this.form.get(W.path)}removeControl(W){Rr(W.control||null,W,!1),function gi(G,M){const Ie=G.indexOf(M);Ie>-1&&G.splice(Ie,1)}(this.directives,W)}addFormGroup(W){this._setUpFormContainer(W)}removeFormGroup(W){this._cleanUpFormContainer(W)}getFormGroup(W){return this.form.get(W.path)}addFormArray(W){this._setUpFormContainer(W)}removeFormArray(W){this._cleanUpFormContainer(W)}getFormArray(W){return this.form.get(W.path)}updateModel(W,be){this.form.get(W.path).setValue(be)}onSubmit(W){var be;return this.submitted=!0,function Ii(G,M){G._syncPendingControls(),M.forEach(Ie=>{const W=Ie.control;"submit"===W.updateOn&&W._pendingChange&&(Ie.viewToModelUpdate(W._pendingValue),W._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(W),"dialog"===(null==W||null===(be=W.target)||void 0===be?void 0:be.method)}onReset(){this.resetForm()}resetForm(W=void 0){this.form.reset(W),this.submitted=!1}_updateDomValue(){this.directives.forEach(W=>{const be=W.control,sn=this.form.get(W.path);be!==sn&&(Rr(be||null,W),(G=>G instanceof Nr)(sn)&&(Si(sn,W,this.callSetDisabledState),W.control=sn))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(W){const be=this.form.get(W.path);(function re(G,M){to(G,M)})(be,W),be.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(W){if(this.form){const be=this.form.get(W.path);be&&function Le(G,M){return $t(G,M)}(be,W)&&be.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){to(this.form,this),this._oldForm&&$t(this._oldForm,this)}_checkFormPresent(){}}return(G=M).\u0275fac=function(W){return new(W||G)(d.rXU(ze,10),d.rXU(dt,10),d.rXU(Xr,8))},G.\u0275dir=d.FsC({type:G,selectors:[["","formGroup",""]],hostBindings:function(W,be){1&W&&d.bIt("submit",function(Bn){return be.onSubmit(Bn)})("reset",function(){return be.onReset()})},inputs:{form:[d.Mj6.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d.Jv_([x]),d.Vt3,d.OA$]}),M})();const Se={provide:Ft,useExisting:(0,d.Rfq)(()=>He)};let He=(()=>{var G;class M extends Ft{set isDisabled(W){}constructor(W,be,sn,Bn,fr){super(),this._ngModelWarningConfig=fr,this._added=!1,this.name=null,this.update=new d.bkB,this._ngModelWarningSent=!1,this._parent=W,this._setValidators(be),this._setAsyncValidators(sn),this.valueAccessor=Ln(0,Bn)}ngOnChanges(W){this._added||this._setUpControl(),yi(W,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(W){this.viewModel=W,this.update.emit(W)}get path(){return Do(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(G=M)._ngModelWarningSentOnce=!1,G.\u0275fac=function(W){return new(W||G)(d.rXU(pt,13),d.rXU(ze,10),d.rXU(dt,10),d.rXU(Ye,10),d.rXU(S,8))},G.\u0275dir=d.FsC({type:G,selectors:[["","formControlName",""]],inputs:{name:[d.Mj6.None,"formControlName","name"],isDisabled:[d.Mj6.None,"disabled","isDisabled"],model:[d.Mj6.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[d.Jv_([Se]),d.Vt3,d.OA$]}),M})();function Ar(G){return"number"==typeof G?G:parseFloat(G)}let er=(()=>{var G;class M{constructor(){this._validator=B}ngOnChanges(W){if(this.inputName in W){const be=this.normalizeInput(W[this.inputName].currentValue);this._enabled=this.enabled(be),this._validator=this._enabled?this.createValidator(be):B,this._onChange&&this._onChange()}}validate(W){return this._validator(W)}registerOnValidatorChange(W){this._onChange=W}enabled(W){return null!=W}}return(G=M).\u0275fac=function(W){return new(W||G)},G.\u0275dir=d.FsC({type:G,features:[d.OA$]}),M})();const pr={provide:ze,useExisting:(0,d.Rfq)(()=>fi),multi:!0};let fi=(()=>{var G;class M extends er{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=W=>Ar(W),this.createValidator=W=>wt(W)}}return(G=M).\u0275fac=(()=>{let Ie;return function(be){return(Ie||(Ie=d.xGo(G)))(be||G)}})(),G.\u0275dir=d.FsC({type:G,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(W,be){2&W&&d.BMQ("max",be._enabled?be.max:null)},inputs:{max:"max"},features:[d.Jv_([pr]),d.Vt3]}),M})();const ko={provide:ze,useExisting:(0,d.Rfq)(()=>rs),multi:!0};let rs=(()=>{var G;class M extends er{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=W=>Ar(W),this.createValidator=W=>Dt(W)}}return(G=M).\u0275fac=(()=>{let Ie;return function(be){return(Ie||(Ie=d.xGo(G)))(be||G)}})(),G.\u0275dir=d.FsC({type:G,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(W,be){2&W&&d.BMQ("min",be._enabled?be.min:null)},inputs:{min:"min"},features:[d.Jv_([ko]),d.Vt3]}),M})(),po=(()=>{var G;class M{}return(G=M).\u0275fac=function(W){return new(W||G)},G.\u0275mod=d.$C({type:G}),G.\u0275inj=d.G2t({}),M})();class Ko extends yn{constructor(M,Ie,W){super(fe(Ie),se(W,Ie)),this.controls=M,this._initObservables(),this._setUpdateStrategy(Ie),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(M){return this.controls[this._adjustIndex(M)]}push(M,Ie={}){this.controls.push(M),this._registerControl(M),this.updateValueAndValidity({emitEvent:Ie.emitEvent}),this._onCollectionChange()}insert(M,Ie,W={}){this.controls.splice(M,0,Ie),this._registerControl(Ie),this.updateValueAndValidity({emitEvent:W.emitEvent})}removeAt(M,Ie={}){let W=this._adjustIndex(M);W<0&&(W=0),this.controls[W]&&this.controls[W]._registerOnCollectionChange(()=>{}),this.controls.splice(W,1),this.updateValueAndValidity({emitEvent:Ie.emitEvent})}setControl(M,Ie,W={}){let be=this._adjustIndex(M);be<0&&(be=0),this.controls[be]&&this.controls[be]._registerOnCollectionChange(()=>{}),this.controls.splice(be,1),Ie&&(this.controls.splice(be,0,Ie),this._registerControl(Ie)),this.updateValueAndValidity({emitEvent:W.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(M,Ie={}){qt(this,0,M),M.forEach((W,be)=>{lt(this,!1,be),this.at(be).setValue(W,{onlySelf:!0,emitEvent:Ie.emitEvent})}),this.updateValueAndValidity(Ie)}patchValue(M,Ie={}){null!=M&&(M.forEach((W,be)=>{this.at(be)&&this.at(be).patchValue(W,{onlySelf:!0,emitEvent:Ie.emitEvent})}),this.updateValueAndValidity(Ie))}reset(M=[],Ie={}){this._forEachChild((W,be)=>{W.reset(M[be],{onlySelf:!0,emitEvent:Ie.emitEvent})}),this._updatePristine(Ie),this._updateTouched(Ie),this.updateValueAndValidity(Ie)}getRawValue(){return this.controls.map(M=>M.getRawValue())}clear(M={}){this.controls.length<1||(this._forEachChild(Ie=>Ie._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:M.emitEvent}))}_adjustIndex(M){return M<0?M+this.length:M}_syncPendingControls(){let M=this.controls.reduce((Ie,W)=>!!W._syncPendingControls()||Ie,!1);return M&&this.updateValueAndValidity({onlySelf:!0}),M}_forEachChild(M){this.controls.forEach((Ie,W)=>{M(Ie,W)})}_updateValue(){this.value=this.controls.filter(M=>M.enabled||this.disabled).map(M=>M.value)}_anyControls(M){return this.controls.some(Ie=>Ie.enabled&&M(Ie))}_setUpControls(){this._forEachChild(M=>this._registerControl(M))}_allControlsDisabled(){for(const M of this.controls)if(M.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(M){M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange)}_find(M){var Ie;return null!==(Ie=this.at(M))&&void 0!==Ie?Ie:null}}function Eo(G){return!!G&&(void 0!==G.asyncValidators||void 0!==G.validators||void 0!==G.updateOn)}let Pa=(()=>{var G;class M{constructor(){this.useNonNullable=!1}get nonNullable(){const W=new M;return W.useNonNullable=!0,W}group(W,be=null){const sn=this._reduceControls(W);let Bn={};return Eo(be)?Bn=be:null!==be&&(Bn.validators=be.validator,Bn.asyncValidators=be.asyncValidator),new Nn(sn,Bn)}record(W,be=null){const sn=this._reduceControls(W);return new Mn(sn,be)}control(W,be,sn){let Bn={};return this.useNonNullable?(Eo(be)?Bn=be:(Bn.validators=be,Bn.asyncValidators=sn),new Nr(W,{...Bn,nonNullable:!0})):new Nr(W,be,sn)}array(W,be,sn){const Bn=W.map(fr=>this._createControl(fr));return new Ko(Bn,be,sn)}_reduceControls(W){const be={};return Object.keys(W).forEach(sn=>{be[sn]=this._createControl(W[sn])}),be}_createControl(W){return W instanceof Nr||W instanceof yn?W:Array.isArray(W)?this.control(W[0],W.length>1?W[1]:null,W.length>2?W[2]:null):this.control(W)}}return(G=M).\u0275fac=function(W){return new(W||G)},G.\u0275prov=d.jDH({token:G,factory:G.\u0275fac,providedIn:"root"}),M})(),qs=(()=>{var G;class M{static withConfig(W){var be;return{ngModule:M,providers:[{provide:Xr,useValue:null!==(be=W.callSetDisabledState)&&void 0!==be?be:oi}]}}}return(G=M).\u0275fac=function(W){return new(W||G)},G.\u0275mod=d.$C({type:G}),G.\u0275inj=d.G2t({imports:[po]}),M})(),aa=(()=>{var G;class M{static withConfig(W){var be,sn;return{ngModule:M,providers:[{provide:S,useValue:null!==(be=W.warnOnNgModelWithFormControl)&&void 0!==be?be:"always"},{provide:Xr,useValue:null!==(sn=W.callSetDisabledState)&&void 0!==sn?sn:oi}]}}}return(G=M).\u0275fac=function(W){return new(W||G)},G.\u0275mod=d.$C({type:G}),G.\u0275inj=d.G2t({imports:[po]}),M})()},345:(Dn,At,O)=>{"use strict";O.d(At,{Bb:()=>Pn,hE:()=>nn,sG:()=>Lt});var d=O(4438),u=O(177);class N extends u.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Te extends N{static makeCurrent(){(0,u.ZD)(new Te)}onAndCancel(Je,kt,ot){return Je.addEventListener(kt,ot),()=>{Je.removeEventListener(kt,ot)}}dispatchEvent(Je,kt){Je.dispatchEvent(kt)}remove(Je){Je.parentNode&&Je.parentNode.removeChild(Je)}createElement(Je,kt){return(kt=kt||this.getDefaultDocument()).createElement(Je)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Je){return Je.nodeType===Node.ELEMENT_NODE}isShadowRoot(Je){return Je instanceof DocumentFragment}getGlobalEventTarget(Je,kt){return"window"===kt?window:"document"===kt?Je:"body"===kt?Je.body:null}getBaseHref(Je){const kt=function Be(){return de=de||document.querySelector("base"),de?de.getAttribute("href"):null}();return null==kt?null:function ce(mt){return new URL(mt,document.baseURI).pathname}(kt)}resetBaseElement(){de=null}getUserAgent(){return window.navigator.userAgent}getCookie(Je){return(0,u._b)(document.cookie,Je)}}let de=null,Qe=(()=>{var mt;class Je{build(){return new XMLHttpRequest}}return(mt=Je).\u0275fac=function(ot){return new(ot||mt)},mt.\u0275prov=d.jDH({token:mt,factory:mt.\u0275fac}),Je})();const Pe=new d.nKC("");let ve=(()=>{var mt;class Je{constructor(ot,fe){this._zone=fe,this._eventNameToPlugin=new Map,ot.forEach(ye=>{ye.manager=this}),this._plugins=ot.slice().reverse()}addEventListener(ot,fe,ye){return this._findPluginFor(fe).addEventListener(ot,fe,ye)}getZone(){return this._zone}_findPluginFor(ot){let fe=this._eventNameToPlugin.get(ot);if(fe)return fe;if(fe=this._plugins.find(se=>se.supports(ot)),!fe)throw new d.wOt(5101,!1);return this._eventNameToPlugin.set(ot,fe),fe}}return(mt=Je).\u0275fac=function(ot){return new(ot||mt)(d.KVO(Pe),d.KVO(d.SKi))},mt.\u0275prov=d.jDH({token:mt,factory:mt.\u0275fac}),Je})();class qe{constructor(Je){this._doc=Je}}const Ke="ng-app-id";let We=(()=>{var mt;class Je{constructor(ot,fe,ye,se={}){this.doc=ot,this.appId=fe,this.nonce=ye,this.platformId=se,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,u.Vy)(se),this.resetHostNodes()}addStyles(ot){for(const fe of ot)1===this.changeUsageCount(fe,1)&&this.onStyleAdded(fe)}removeStyles(ot){for(const fe of ot)this.changeUsageCount(fe,-1)<=0&&this.onStyleRemoved(fe)}ngOnDestroy(){const ot=this.styleNodesInDOM;ot&&(ot.forEach(fe=>fe.remove()),ot.clear());for(const fe of this.getAllStyles())this.onStyleRemoved(fe);this.resetHostNodes()}addHost(ot){this.hostNodes.add(ot);for(const fe of this.getAllStyles())this.addStyleToHost(ot,fe)}removeHost(ot){this.hostNodes.delete(ot)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(ot){for(const fe of this.hostNodes)this.addStyleToHost(fe,ot)}onStyleRemoved(ot){var fe;const ye=this.styleRef;null===(fe=ye.get(ot))||void 0===fe||null===(fe=fe.elements)||void 0===fe||fe.forEach(se=>se.remove()),ye.delete(ot)}collectServerRenderedStyles(){var ot;const fe=null===(ot=this.doc.head)||void 0===ot?void 0:ot.querySelectorAll(`style[${Ke}="${this.appId}"]`);if(null!=fe&&fe.length){const ye=new Map;return fe.forEach(se=>{null!=se.textContent&&ye.set(se.textContent,se)}),ye}return null}changeUsageCount(ot,fe){const ye=this.styleRef;if(ye.has(ot)){const se=ye.get(ot);return se.usage+=fe,se.usage}return ye.set(ot,{usage:fe,elements:[]}),fe}getStyleElement(ot,fe){const ye=this.styleNodesInDOM,se=null==ye?void 0:ye.get(fe);if((null==se?void 0:se.parentNode)===ot)return ye.delete(fe),se.removeAttribute(Ke),se;{const pe=this.doc.createElement("style");return this.nonce&&pe.setAttribute("nonce",this.nonce),pe.textContent=fe,this.platformIsServer&&pe.setAttribute(Ke,this.appId),ot.appendChild(pe),pe}}addStyleToHost(ot,fe){var ye;const se=this.getStyleElement(ot,fe),pe=this.styleRef,ie=null===(ye=pe.get(fe))||void 0===ye?void 0:ye.elements;ie?ie.push(se):pe.set(fe,{elements:[se],usage:1})}resetHostNodes(){const ot=this.hostNodes;ot.clear(),ot.add(this.doc.head)}}return(mt=Je).\u0275fac=function(ot){return new(ot||mt)(d.KVO(u.qQ),d.KVO(d.sZ2),d.KVO(d.BIS,8),d.KVO(d.Agw))},mt.\u0275prov=d.jDH({token:mt,factory:mt.\u0275fac}),Je})();const Ye={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ct=/%COMP%/g,et=new d.nKC("",{providedIn:"root",factory:()=>!0});function ze(mt,Je){return Je.map(kt=>kt.replace(ct,mt))}let dt=(()=>{var mt;class Je{constructor(ot,fe,ye,se,pe,ie,lt,qt=null){this.eventManager=ot,this.sharedStylesHost=fe,this.appId=ye,this.removeStylesOnCompDestroy=se,this.doc=pe,this.platformId=ie,this.ngZone=lt,this.nonce=qt,this.rendererByCompId=new Map,this.platformIsServer=(0,u.Vy)(ie),this.defaultRenderer=new St(ot,pe,lt,this.platformIsServer)}createRenderer(ot,fe){if(!ot||!fe)return this.defaultRenderer;this.platformIsServer&&fe.encapsulation===d.gXe.ShadowDom&&(fe={...fe,encapsulation:d.gXe.Emulated});const ye=this.getOrCreateRenderer(ot,fe);return ye instanceof It?ye.applyToHost(ot):ye instanceof zt&&ye.applyStyles(),ye}getOrCreateRenderer(ot,fe){const ye=this.rendererByCompId;let se=ye.get(fe.id);if(!se){const pe=this.doc,ie=this.ngZone,lt=this.eventManager,qt=this.sharedStylesHost,yn=this.removeStylesOnCompDestroy,Nn=this.platformIsServer;switch(fe.encapsulation){case d.gXe.Emulated:se=new It(lt,qt,fe,this.appId,yn,pe,ie,Nn);break;case d.gXe.ShadowDom:return new an(lt,qt,ot,fe,pe,ie,this.nonce,Nn);default:se=new zt(lt,qt,fe,yn,pe,ie,Nn)}ye.set(fe.id,se)}return se}ngOnDestroy(){this.rendererByCompId.clear()}}return(mt=Je).\u0275fac=function(ot){return new(ot||mt)(d.KVO(ve),d.KVO(We),d.KVO(d.sZ2),d.KVO(et),d.KVO(u.qQ),d.KVO(d.Agw),d.KVO(d.SKi),d.KVO(d.BIS))},mt.\u0275prov=d.jDH({token:mt,factory:mt.\u0275fac}),Je})();class St{constructor(Je,kt,ot,fe){this.eventManager=Je,this.doc=kt,this.ngZone=ot,this.platformIsServer=fe,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(Je,kt){return kt?this.doc.createElementNS(Ye[kt]||kt,Je):this.doc.createElement(Je)}createComment(Je){return this.doc.createComment(Je)}createText(Je){return this.doc.createTextNode(Je)}appendChild(Je,kt){(wt(Je)?Je.content:Je).appendChild(kt)}insertBefore(Je,kt,ot){Je&&(wt(Je)?Je.content:Je).insertBefore(kt,ot)}removeChild(Je,kt){Je&&Je.removeChild(kt)}selectRootElement(Je,kt){let ot="string"==typeof Je?this.doc.querySelector(Je):Je;if(!ot)throw new d.wOt(-5104,!1);return kt||(ot.textContent=""),ot}parentNode(Je){return Je.parentNode}nextSibling(Je){return Je.nextSibling}setAttribute(Je,kt,ot,fe){if(fe){kt=fe+":"+kt;const ye=Ye[fe];ye?Je.setAttributeNS(ye,kt,ot):Je.setAttribute(kt,ot)}else Je.setAttribute(kt,ot)}removeAttribute(Je,kt,ot){if(ot){const fe=Ye[ot];fe?Je.removeAttributeNS(fe,kt):Je.removeAttribute(`${ot}:${kt}`)}else Je.removeAttribute(kt)}addClass(Je,kt){Je.classList.add(kt)}removeClass(Je,kt){Je.classList.remove(kt)}setStyle(Je,kt,ot,fe){fe&(d.czy.DashCase|d.czy.Important)?Je.style.setProperty(kt,ot,fe&d.czy.Important?"important":""):Je.style[kt]=ot}removeStyle(Je,kt,ot){ot&d.czy.DashCase?Je.style.removeProperty(kt):Je.style[kt]=""}setProperty(Je,kt,ot){null!=Je&&(Je[kt]=ot)}setValue(Je,kt){Je.nodeValue=kt}listen(Je,kt,ot){if("string"==typeof Je&&!(Je=(0,u.QT)().getGlobalEventTarget(this.doc,Je)))throw new Error(`Unsupported event target ${Je} for event ${kt}`);return this.eventManager.addEventListener(Je,kt,this.decoratePreventDefault(ot))}decoratePreventDefault(Je){return kt=>{if("__ngUnwrap__"===kt)return Je;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Je(kt)):Je(kt))&&kt.preventDefault()}}}function wt(mt){return"TEMPLATE"===mt.tagName&&void 0!==mt.content}class an extends St{constructor(Je,kt,ot,fe,ye,se,pe,ie){super(Je,ye,se,ie),this.sharedStylesHost=kt,this.hostEl=ot,this.shadowRoot=ot.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const lt=ze(fe.id,fe.styles);for(const qt of lt){const yn=document.createElement("style");pe&&yn.setAttribute("nonce",pe),yn.textContent=qt,this.shadowRoot.appendChild(yn)}}nodeOrShadowRoot(Je){return Je===this.hostEl?this.shadowRoot:Je}appendChild(Je,kt){return super.appendChild(this.nodeOrShadowRoot(Je),kt)}insertBefore(Je,kt,ot){return super.insertBefore(this.nodeOrShadowRoot(Je),kt,ot)}removeChild(Je,kt){return super.removeChild(this.nodeOrShadowRoot(Je),kt)}parentNode(Je){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Je)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class zt extends St{constructor(Je,kt,ot,fe,ye,se,pe,ie){super(Je,ye,se,pe),this.sharedStylesHost=kt,this.removeStylesOnCompDestroy=fe,this.styles=ie?ze(ie,ot.styles):ot.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class It extends zt{constructor(Je,kt,ot,fe,ye,se,pe,ie){const lt=fe+"-"+ot.id;super(Je,kt,ot,ye,se,pe,ie,lt),this.contentAttr=function we(mt){return"_ngcontent-%COMP%".replace(ct,mt)}(lt),this.hostAttr=function Ge(mt){return"_nghost-%COMP%".replace(ct,mt)}(lt)}applyToHost(Je){this.applyStyles(),this.setAttribute(Je,this.hostAttr,"")}createElement(Je,kt){const ot=super.createElement(Je,kt);return super.setAttribute(ot,this.contentAttr,""),ot}}let Tn=(()=>{var mt;class Je extends qe{constructor(ot){super(ot)}supports(ot){return!0}addEventListener(ot,fe,ye){return ot.addEventListener(fe,ye,!1),()=>this.removeEventListener(ot,fe,ye)}removeEventListener(ot,fe,ye){return ot.removeEventListener(fe,ye)}}return(mt=Je).\u0275fac=function(ot){return new(ot||mt)(d.KVO(u.qQ))},mt.\u0275prov=d.jDH({token:mt,factory:mt.\u0275fac}),Je})();const $e=["alt","control","meta","shift"],J={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},B={alt:mt=>mt.altKey,control:mt=>mt.ctrlKey,meta:mt=>mt.metaKey,shift:mt=>mt.shiftKey};let R=(()=>{var mt;class Je extends qe{constructor(ot){super(ot)}supports(ot){return null!=Je.parseEventName(ot)}addEventListener(ot,fe,ye){const se=Je.parseEventName(fe),pe=Je.eventCallback(se.fullKey,ye,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,u.QT)().onAndCancel(ot,se.domEventName,pe))}static parseEventName(ot){const fe=ot.toLowerCase().split("."),ye=fe.shift();if(0===fe.length||"keydown"!==ye&&"keyup"!==ye)return null;const se=Je._normalizeKey(fe.pop());let pe="",ie=fe.indexOf("code");if(ie>-1&&(fe.splice(ie,1),pe="code."),$e.forEach(qt=>{const yn=fe.indexOf(qt);yn>-1&&(fe.splice(yn,1),pe+=qt+".")}),pe+=se,0!=fe.length||0===se.length)return null;const lt={};return lt.domEventName=ye,lt.fullKey=pe,lt}static matchEventFullKeyCode(ot,fe){let ye=J[ot.key]||ot.key,se="";return fe.indexOf("code.")>-1&&(ye=ot.code,se="code."),!(null==ye||!ye)&&(ye=ye.toLowerCase()," "===ye?ye="space":"."===ye&&(ye="dot"),$e.forEach(pe=>{pe!==ye&&(0,B[pe])(ot)&&(se+=pe+".")}),se+=ye,se===fe)}static eventCallback(ot,fe,ye){return se=>{Je.matchEventFullKeyCode(se,ot)&&ye.runGuarded(()=>fe(se))}}static _normalizeKey(ot){return"esc"===ot?"escape":ot}}return(mt=Je).\u0275fac=function(ot){return new(ot||mt)(d.KVO(u.qQ))},mt.\u0275prov=d.jDH({token:mt,factory:mt.\u0275fac}),Je})();const Lt=(0,d.oH4)(d.fpN,"browser",[{provide:d.Agw,useValue:u.AJ},{provide:d.PLl,useValue:function Me(){Te.makeCurrent()},multi:!0},{provide:u.qQ,useFactory:function jt(){return(0,d.TL$)(document),document},deps:[]}]),gn=new d.nKC(""),Sn=[{provide:d.e01,useClass:class xe{addToWindow(Je){d.JZv.getAngularTestability=(ot,fe=!0)=>{const ye=Je.findTestabilityInTree(ot,fe);if(null==ye)throw new d.wOt(5103,!1);return ye},d.JZv.getAllAngularTestabilities=()=>Je.getAllTestabilities(),d.JZv.getAllAngularRootElements=()=>Je.getAllRootElements(),d.JZv.frameworkStabilizers||(d.JZv.frameworkStabilizers=[]),d.JZv.frameworkStabilizers.push(ot=>{const fe=d.JZv.getAllAngularTestabilities();let ye=fe.length;const se=function(){ye--,0==ye&&ot()};fe.forEach(pe=>{pe.whenStable(se)})})}findTestabilityInTree(Je,kt,ot){if(null==kt)return null;const fe=Je.getTestability(kt);return null!=fe?fe:ot?(0,u.QT)().isShadowRoot(kt)?this.findTestabilityInTree(Je,kt.host,!0):this.findTestabilityInTree(Je,kt.parentElement,!0):null}},deps:[]},{provide:d.WHO,useClass:d.NYb,deps:[d.SKi,d.giA,d.e01]},{provide:d.NYb,useClass:d.NYb,deps:[d.SKi,d.giA,d.e01]}],Jt=[{provide:d.H8p,useValue:"root"},{provide:d.zcH,useFactory:function Xe(){return new d.zcH},deps:[]},{provide:Pe,useClass:Tn,multi:!0,deps:[u.qQ,d.SKi,d.Agw]},{provide:Pe,useClass:R,multi:!0,deps:[u.qQ]},dt,We,ve,{provide:d._9s,useExisting:dt},{provide:u.N0,useClass:Qe,deps:[]},[]];let Pn=(()=>{var mt;class Je{constructor(ot){}static withServerTransition(ot){return{ngModule:Je,providers:[{provide:d.sZ2,useValue:ot.appId}]}}}return(mt=Je).\u0275fac=function(ot){return new(ot||mt)(d.KVO(gn,12))},mt.\u0275mod=d.$C({type:mt}),mt.\u0275inj=d.G2t({providers:[...Jt,...Sn],imports:[u.MD,d.Hbi]}),Je})(),nn=(()=>{var mt;class Je{constructor(ot){this._doc=ot}getTitle(){return this._doc.title}setTitle(ot){this._doc.title=ot||""}}return(mt=Je).\u0275fac=function(ot){return new(ot||mt)(d.KVO(u.qQ))},mt.\u0275prov=d.jDH({token:mt,factory:mt.\u0275fac,providedIn:"root"}),Je})()},4964:(Dn,At,O)=>{"use strict";O.d(At,{nX:()=>Ce,Zp:()=>Oo,Z:()=>Ki,Xk:()=>Lt,Kp:()=>Po,b:()=>_n,Ix:()=>$n,Wk:()=>_i,iI:()=>Xo,Sd:()=>Qn});var d=O(467),u=O(4438),N=O(1985),Te=O(8071),Be=O(8455),ce=O(7673),xe=O(4412),Qe=O(4572),Pe=O(9350),ve=O(8793),qe=O(8750);function Ke(I){return new N.c(D=>{(0,qe.Tg)(I()).subscribe(D)})}var We=O(1203);function Ye(I,D){const P=(0,Te.T)(I)?I:()=>I,T=F=>F.error(P());return new N.c(D?F=>D.schedule(T,0,F):T)}var ct=O(983),rt=O(8359),nt=O(9974),Tt=O(4360);function tt(){return(0,nt.N)((I,D)=>{let P=null;I._refCount++;const T=(0,Tt._)(D,void 0,void 0,void 0,()=>{if(!I||I._refCount<=0||0<--I._refCount)return void(P=null);const F=I._connection,le=P;P=null,F&&(!le||F===le)&&F.unsubscribe(),D.unsubscribe()});I.subscribe(T),T.closed||(P=I.connect())})}class et extends N.c{constructor(D,P){super(),this.source=D,this.subjectFactory=P,this._subject=null,this._refCount=0,this._connection=null,(0,nt.S)(D)&&(this.lift=D.lift)}_subscribe(D){return this.getSubject().subscribe(D)}getSubject(){const D=this._subject;return(!D||D.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:D}=this;this._subject=this._connection=null,null==D||D.unsubscribe()}connect(){let D=this._connection;if(!D){D=this._connection=new rt.yU;const P=this.getSubject();D.add(this.source.subscribe((0,Tt._)(P,void 0,()=>{this._teardown(),P.complete()},T=>{this._teardown(),P.error(T)},()=>this._teardown()))),D.closed&&(this._connection=null,D=rt.yU.EMPTY)}return D}refCount(){return tt()(this)}}var we=O(1413),Ge=O(177),ze=O(6354),dt=O(5558),St=O(6697),te=O(9172),Dt=O(5964),wt=O(1397),an=O(1594);function zt(I,D){return(0,Te.T)(D)?(0,wt.Z)(I,D,1):(0,wt.Z)(I,1)}var It=O(8141);function Tn(I){return(0,nt.N)((D,P)=>{let le,T=null,F=!1;T=D.subscribe((0,Tt._)(P,void 0,void 0,De=>{le=(0,qe.Tg)(I(De,Tn(I)(D))),T?(T.unsubscribe(),T=null,le.subscribe(P)):F=!0})),F&&(T.unsubscribe(),T=null,le.subscribe(P))})}var $e=O(2816),J=O(9901);function B(I){return I<=0?()=>ct.w:(0,nt.N)((D,P)=>{let T=[];D.subscribe((0,Tt._)(P,F=>{T.push(F),I<T.length&&T.shift()},()=>{for(const F of T)P.next(F);P.complete()},void 0,()=>{T=null}))})}var R=O(3774),H=O(3669);function it(I){return(0,nt.N)((D,P)=>{try{D.subscribe(P)}finally{P.add(I)}})}var Me=O(5343),jt=O(6365),ft=O(345);const Lt="primary",gn=Symbol("RouteTitle");class Sn{constructor(D){this.params=D||{}}has(D){return Object.prototype.hasOwnProperty.call(this.params,D)}get(D){if(this.has(D)){const P=this.params[D];return Array.isArray(P)?P[0]:P}return null}getAll(D){if(this.has(D)){const P=this.params[D];return Array.isArray(P)?P:[P]}return[]}get keys(){return Object.keys(this.params)}}function Jt(I){return new Sn(I)}function Pn(I,D,P){const T=P.path.split("/");if(T.length>I.length||"full"===P.pathMatch&&(D.hasChildren()||T.length<I.length))return null;const F={};for(let le=0;le<T.length;le++){const De=T[le],Pt=I[le];if(De.startsWith(":"))F[De.substring(1)]=Pt;else if(De!==Pt.path)return null}return{consumed:I.slice(0,T.length),posParams:F}}function bn(I,D){const P=I?nn(I):void 0,T=D?nn(D):void 0;if(!P||!T||P.length!=T.length)return!1;let F;for(let le=0;le<P.length;le++)if(F=P[le],!vt(I[F],D[F]))return!1;return!0}function nn(I){return[...Object.keys(I),...Object.getOwnPropertySymbols(I)]}function vt(I,D){if(Array.isArray(I)&&Array.isArray(D)){if(I.length!==D.length)return!1;const P=[...I].sort(),T=[...D].sort();return P.every((F,le)=>T[le]===F)}return I===D}function pt(I){return I.length>0?I[I.length-1]:null}function Ft(I){return function de(I){return!!I&&(I instanceof N.c||(0,Te.T)(I.lift)&&(0,Te.T)(I.subscribe))}(I)?I:(0,u.jNT)(I)?(0,Be.H)(Promise.resolve(I)):(0,ce.of)(I)}const rn={exact:function wn(I,D,P){if(!ui(I.segments,D.segments)||!ur(I.segments,D.segments,P)||I.numberOfChildren!==D.numberOfChildren)return!1;for(const T in D.children)if(!I.children[T]||!wn(I.children[T],D.children[T],P))return!1;return!0},subset:Un},Qt={exact:function Wn(I,D){return bn(I,D)},subset:function hn(I,D){return Object.keys(D).length<=Object.keys(I).length&&Object.keys(D).every(P=>vt(I[P],D[P]))},ignored:()=>!0};function or(I,D,P){return rn[P.paths](I.root,D.root,P.matrixParams)&&Qt[P.queryParams](I.queryParams,D.queryParams)&&!("exact"===P.fragment&&I.fragment!==D.fragment)}function Un(I,D,P){return tr(I,D,D.segments,P)}function tr(I,D,P,T){if(I.segments.length>P.length){const F=I.segments.slice(0,P.length);return!(!ui(F,P)||D.hasChildren()||!ur(F,P,T))}if(I.segments.length===P.length){if(!ui(I.segments,P)||!ur(I.segments,P,T))return!1;for(const F in D.children)if(!I.children[F]||!Un(I.children[F],D.children[F],T))return!1;return!0}{const F=P.slice(0,I.segments.length),le=P.slice(I.segments.length);return!!(ui(I.segments,F)&&ur(I.segments,F,T)&&I.children[Lt])&&tr(I.children[Lt],D,le,T)}}function ur(I,D,P){return D.every((T,F)=>Qt[P](I[F].parameters,T.parameters))}class Br{constructor(D=new Kn([],{}),P={},T=null){this.root=D,this.queryParams=P,this.fragment=T}get queryParamMap(){var D;return null!==(D=this._queryParamMap)&&void 0!==D||(this._queryParamMap=Jt(this.queryParams)),this._queryParamMap}toString(){return at.serialize(this)}}class Kn{constructor(D,P){this.segments=D,this.children=P,this.parent=null,Object.values(P).forEach(T=>T.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Dr(this)}}class Ir{constructor(D,P){this.path=D,this.parameters=P}get parameterMap(){var D;return null!==(D=this._parameterMap)&&void 0!==D||(this._parameterMap=Jt(this.parameters)),this._parameterMap}toString(){return fe(this)}}function ui(I,D){return I.length===D.length&&I.every((P,T)=>P.path===D[T].path)}let Qn=(()=>{var I;class D{}return(I=D).\u0275fac=function(T){return new(T||I)},I.\u0275prov=u.jDH({token:I,factory:()=>new mi,providedIn:"root"}),D})();class mi{parse(D){const P=new On(D);return new Br(P.parseRootSegment(),P.parseQueryParams(),P.parseFragment())}serialize(D){const P=`/${Mr(D.root,!0)}`,T=function se(I){const D=Object.entries(I).map(([P,T])=>Array.isArray(T)?T.map(F=>`${ii(P)}=${ii(F)}`).join("&"):`${ii(P)}=${ii(T)}`).filter(P=>P);return D.length?`?${D.join("&")}`:""}(D.queryParams);return`${P}${T}${"string"==typeof D.fragment?`#${function mt(I){return encodeURI(I)}(D.fragment)}`:""}`}}const at=new mi;function Dr(I){return I.segments.map(D=>fe(D)).join("/")}function Mr(I,D){if(!I.hasChildren())return Dr(I);if(D){const P=I.children[Lt]?Mr(I.children[Lt],!1):"",T=[];return Object.entries(I.children).forEach(([F,le])=>{F!==Lt&&T.push(`${F}:${Mr(le,!1)}`)}),T.length>0?`${P}(${T.join("//")})`:P}{const P=function jn(I,D){let P=[];return Object.entries(I.children).forEach(([T,F])=>{T===Lt&&(P=P.concat(D(F,T)))}),Object.entries(I.children).forEach(([T,F])=>{T!==Lt&&(P=P.concat(D(F,T)))}),P}(I,(T,F)=>F===Lt?[Mr(I.children[Lt],!1)]:[`${F}:${Mr(T,!1)}`]);return 1===Object.keys(I.children).length&&null!=I.children[Lt]?`${Dr(I)}/${P[0]}`:`${Dr(I)}/(${P.join("//")})`}}function Oi(I){return encodeURIComponent(I).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ii(I){return Oi(I).replace(/%3B/gi,";")}function Je(I){return Oi(I).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function kt(I){return decodeURIComponent(I)}function ot(I){return kt(I.replace(/\+/g,"%20"))}function fe(I){return`${Je(I.path)}${function ye(I){return Object.entries(I).map(([D,P])=>`;${Je(D)}=${Je(P)}`).join("")}(I.parameters)}`}const pe=/^[^\/()?;#]+/;function ie(I){const D=I.match(pe);return D?D[0]:""}const lt=/^[^\/()?;=#]+/,yn=/^[^=?&#]+/,dr=/^[^&#]+/;class On{constructor(D){this.url=D,this.remaining=D}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Kn([],{}):new Kn([],this.parseChildren())}parseQueryParams(){const D={};if(this.consumeOptional("?"))do{this.parseQueryParam(D)}while(this.consumeOptional("&"));return D}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const D=[];for(this.peekStartsWith("(")||D.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),D.push(this.parseSegment());let P={};this.peekStartsWith("/(")&&(this.capture("/"),P=this.parseParens(!0));let T={};return this.peekStartsWith("(")&&(T=this.parseParens(!1)),(D.length>0||Object.keys(P).length>0)&&(T[Lt]=new Kn(D,P)),T}parseSegment(){const D=ie(this.remaining);if(""===D&&this.peekStartsWith(";"))throw new u.wOt(4009,!1);return this.capture(D),new Ir(kt(D),this.parseMatrixParams())}parseMatrixParams(){const D={};for(;this.consumeOptional(";");)this.parseParam(D);return D}parseParam(D){const P=function qt(I){const D=I.match(lt);return D?D[0]:""}(this.remaining);if(!P)return;this.capture(P);let T="";if(this.consumeOptional("=")){const F=ie(this.remaining);F&&(T=F,this.capture(T))}D[kt(P)]=kt(T)}parseQueryParam(D){const P=function Nn(I){const D=I.match(yn);return D?D[0]:""}(this.remaining);if(!P)return;this.capture(P);let T="";if(this.consumeOptional("=")){const De=function Sr(I){const D=I.match(dr);return D?D[0]:""}(this.remaining);De&&(T=De,this.capture(T))}const F=ot(P),le=ot(T);if(D.hasOwnProperty(F)){let De=D[F];Array.isArray(De)||(De=[De],D[F]=De),De.push(le)}else D[F]=le}parseParens(D){const P={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const T=ie(this.remaining),F=this.remaining[T.length];if("/"!==F&&")"!==F&&";"!==F)throw new u.wOt(4010,!1);let le;T.indexOf(":")>-1?(le=T.slice(0,T.indexOf(":")),this.capture(le),this.capture(":")):D&&(le=Lt);const De=this.parseChildren();P[le]=1===Object.keys(De).length?De[Lt]:new Kn([],De),this.consumeOptional("//")}return P}peekStartsWith(D){return this.remaining.startsWith(D)}consumeOptional(D){return!!this.peekStartsWith(D)&&(this.remaining=this.remaining.substring(D.length),!0)}capture(D){if(!this.consumeOptional(D))throw new u.wOt(4011,!1)}}function Mn(I){return I.segments.length>0?new Kn([],{[Lt]:I}):I}function nr(I){const D={};for(const[T,F]of Object.entries(I.children)){const le=nr(F);if(T===Lt&&0===le.segments.length&&le.hasChildren())for(const[De,Pt]of Object.entries(le.children))D[De]=Pt;else(le.segments.length>0||le.hasChildren())&&(D[T]=le)}return function Xr(I){if(1===I.numberOfChildren&&I.children[Lt]){const D=I.children[Lt];return new Kn(I.segments.concat(D.segments),D.children)}return I}(new Kn(I.segments,D))}function oi(I){return I instanceof Br}function Si(I){var D;let P;const le=Mn(function T(De){const Pt={};for(const Bt of De.children){const Fn=T(Bt);Pt[Bt.outlet]=Fn}const pn=new Kn(De.url,Pt);return De===I&&(P=pn),pn}(I.root));return null!==(D=P)&&void 0!==D?D:le}function Rr(I,D,P,T){let F=I;for(;F.parent;)F=F.parent;if(0===D.length)return to(F,F,F,P,T);const le=function ee(I){if("string"==typeof I[0]&&1===I.length&&"/"===I[0])return new ne(!0,0,I);let D=0,P=!1;const T=I.reduce((F,le,De)=>{if("object"==typeof le&&null!=le){if(le.outlets){const Pt={};return Object.entries(le.outlets).forEach(([pn,Bt])=>{Pt[pn]="string"==typeof Bt?Bt.split("/"):Bt}),[...F,{outlets:Pt}]}if(le.segmentPath)return[...F,le.segmentPath]}return"string"!=typeof le?[...F,le]:0===De?(le.split("/").forEach((Pt,pn)=>{0==pn&&"."===Pt||(0==pn&&""===Pt?P=!0:".."===Pt?D++:""!=Pt&&F.push(Pt))}),F):[...F,le]},[]);return new ne(P,D,T)}(D);if(le.toRoot())return to(F,F,new Kn([],{}),P,T);const De=function oe(I,D,P){if(I.isAbsolute)return new ke(D,!0,0);if(!P)return new ke(D,!1,NaN);if(null===P.parent)return new ke(P,!0,0);const T=eo(I.commands[0])?0:1;return function re(I,D,P){let T=I,F=D,le=P;for(;le>F;){if(le-=F,T=T.parent,!T)throw new u.wOt(4005,!1);F=T.segments.length}return new ke(T,!1,F-le)}(P,P.segments.length-1+T,I.numberOfDoubleDots)}(le,F,I),Pt=De.processChildren?Nt(De.segmentGroup,De.index,le.commands):Mt(De.segmentGroup,De.index,le.commands);return to(F,De.segmentGroup,Pt,P,T)}function eo(I){return"object"==typeof I&&null!=I&&!I.outlets&&!I.segmentPath}function ki(I){return"object"==typeof I&&null!=I&&I.outlets}function to(I,D,P,T,F){let De,le={};T&&Object.entries(T).forEach(([pn,Bt])=>{le[pn]=Array.isArray(Bt)?Bt.map(Fn=>`${Fn}`):`${Bt}`}),De=I===D?P:$t(I,D,P);const Pt=Mn(nr(De));return new Br(Pt,le,F)}function $t(I,D,P){const T={};return Object.entries(I.children).forEach(([F,le])=>{T[F]=le===D?P:$t(le,D,P)}),new Kn(I.segments,T)}class ne{constructor(D,P,T){if(this.isAbsolute=D,this.numberOfDoubleDots=P,this.commands=T,D&&T.length>0&&eo(T[0]))throw new u.wOt(4003,!1);const F=T.find(ki);if(F&&F!==pt(T))throw new u.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ke{constructor(D,P,T){this.segmentGroup=D,this.processChildren=P,this.index=T}}function Mt(I,D,P){var T;if(null!==(T=I)&&void 0!==T||(I=new Kn([],{})),0===I.segments.length&&I.hasChildren())return Nt(I,D,P);const F=function An(I,D,P){let T=0,F=D;const le={match:!1,pathIndex:0,commandIndex:0};for(;F<I.segments.length;){if(T>=P.length)return le;const De=I.segments[F],Pt=P[T];if(ki(Pt))break;const pn=`${Pt}`,Bt=T<P.length-1?P[T+1]:null;if(F>0&&void 0===pn)break;if(pn&&Bt&&"object"==typeof Bt&&void 0===Bt.outlets){if(!zi(pn,Bt,De))return le;T+=2}else{if(!zi(pn,{},De))return le;T++}F++}return{match:!0,pathIndex:F,commandIndex:T}}(I,D,P),le=P.slice(F.commandIndex);if(F.match&&F.pathIndex<I.segments.length){const De=new Kn(I.segments.slice(0,F.pathIndex),{});return De.children[Lt]=new Kn(I.segments.slice(F.pathIndex),I.children),Nt(De,0,le)}return F.match&&0===le.length?new Kn(I.segments,{}):F.match&&!I.hasChildren()?rr(I,D,P):F.match?Nt(I,0,le):rr(I,D,P)}function Nt(I,D,P){if(0===P.length)return new Kn(I.segments,{});{const T=function Le(I){return ki(I[0])?I[0].outlets:{[Lt]:I}}(P),F={};if(Object.keys(T).some(le=>le!==Lt)&&I.children[Lt]&&1===I.numberOfChildren&&0===I.children[Lt].segments.length){const le=Nt(I.children[Lt],D,P);return new Kn(I.segments,le.children)}return Object.entries(T).forEach(([le,De])=>{"string"==typeof De&&(De=[De]),null!==De&&(F[le]=Mt(I.children[le],D,De))}),Object.entries(I.children).forEach(([le,De])=>{void 0===T[le]&&(F[le]=De)}),new Kn(I.segments,F)}}function rr(I,D,P){const T=I.segments.slice(0,D);let F=0;for(;F<P.length;){const le=P[F];if(ki(le)){const pn=Yn(le.outlets);return new Kn(T,pn)}if(0===F&&eo(P[0])){T.push(new Ir(I.segments[D].path,yi(P[0]))),F++;continue}const De=ki(le)?le.outlets[Lt]:`${le}`,Pt=F<P.length-1?P[F+1]:null;De&&Pt&&eo(Pt)?(T.push(new Ir(De,yi(Pt))),F+=2):(T.push(new Ir(De,{})),F++)}return new Kn(T,{})}function Yn(I){const D={};return Object.entries(I).forEach(([P,T])=>{"string"==typeof T&&(T=[T]),null!==T&&(D[P]=rr(new Kn([],{}),0,T))}),D}function yi(I){const D={};return Object.entries(I).forEach(([P,T])=>D[P]=`${T}`),D}function zi(I,D,P){return I==P.path&&bn(D,P.parameters)}const Ii="imperative";var Ln=function(I){return I[I.NavigationStart=0]="NavigationStart",I[I.NavigationEnd=1]="NavigationEnd",I[I.NavigationCancel=2]="NavigationCancel",I[I.NavigationError=3]="NavigationError",I[I.RoutesRecognized=4]="RoutesRecognized",I[I.ResolveStart=5]="ResolveStart",I[I.ResolveEnd=6]="ResolveEnd",I[I.GuardsCheckStart=7]="GuardsCheckStart",I[I.GuardsCheckEnd=8]="GuardsCheckEnd",I[I.RouteConfigLoadStart=9]="RouteConfigLoadStart",I[I.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",I[I.ChildActivationStart=11]="ChildActivationStart",I[I.ChildActivationEnd=12]="ChildActivationEnd",I[I.ActivationStart=13]="ActivationStart",I[I.ActivationEnd=14]="ActivationEnd",I[I.Scroll=15]="Scroll",I[I.NavigationSkipped=16]="NavigationSkipped",I}(Ln||{});class gi{constructor(D,P){this.id=D,this.url=P}}class Ki extends gi{constructor(D,P,T="imperative",F=null){super(D,P),this.type=Ln.NavigationStart,this.navigationTrigger=T,this.restoredState=F}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ei extends gi{constructor(D,P,T){super(D,P),this.urlAfterRedirects=T,this.type=Ln.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var jr=function(I){return I[I.Redirect=0]="Redirect",I[I.SupersededByNewNavigation=1]="SupersededByNewNavigation",I[I.NoDataFromResolver=2]="NoDataFromResolver",I[I.GuardRejected=3]="GuardRejected",I}(jr||{}),Er=function(I){return I[I.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",I[I.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",I}(Er||{});class no extends gi{constructor(D,P,T,F){super(D,P),this.reason=T,this.code=F,this.type=Ln.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class si extends gi{constructor(D,P,T,F){super(D,P),this.reason=T,this.code=F,this.type=Ln.NavigationSkipped}}class Nr extends gi{constructor(D,P,T,F){super(D,P),this.error=T,this.target=F,this.type=Ln.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class bo extends gi{constructor(D,P,T,F){super(D,P),this.urlAfterRedirects=T,this.state=F,this.type=Ln.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fi extends gi{constructor(D,P,T,F){super(D,P),this.urlAfterRedirects=T,this.state=F,this.type=Ln.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qr extends gi{constructor(D,P,T,F,le){super(D,P),this.urlAfterRedirects=T,this.state=F,this.shouldActivate=le,this.type=Ln.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class hr extends gi{constructor(D,P,T,F){super(D,P),this.urlAfterRedirects=T,this.state=F,this.type=Ln.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fr extends gi{constructor(D,P,T,F){super(D,P),this.urlAfterRedirects=T,this.state=F,this.type=Ln.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Li{constructor(D){this.route=D,this.type=Ln.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Hi{constructor(D){this.route=D,this.type=Ln.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Io{constructor(D){this.snapshot=D,this.type=Ln.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vi{constructor(D){this.snapshot=D,this.type=Ln.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ur{constructor(D){this.snapshot=D,this.type=Ln.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zr{constructor(D){this.snapshot=D,this.type=Ln.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lr{constructor(D,P,T){this.routerEvent=D,this.position=P,this.anchor=T,this.type=Ln.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Vr{}class vs{constructor(D){this.url=D}}class No{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Oo,this.attachRef=null}}let Oo=(()=>{var I;class D{constructor(){this.contexts=new Map}onChildOutletCreated(T,F){const le=this.getOrCreateContext(T);le.outlet=F,this.contexts.set(T,le)}onChildOutletDestroyed(T){const F=this.getContext(T);F&&(F.outlet=null,F.attachRef=null)}onOutletDeactivated(){const T=this.contexts;return this.contexts=new Map,T}onOutletReAttached(T){this.contexts=T}getOrCreateContext(T){let F=this.getContext(T);return F||(F=new No,this.contexts.set(T,F)),F}getContext(T){return this.contexts.get(T)||null}}return(I=D).\u0275fac=function(T){return new(T||I)},I.\u0275prov=u.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),D})();class Go{constructor(D){this._root=D}get root(){return this._root.value}parent(D){const P=this.pathFromRoot(D);return P.length>1?P[P.length-2]:null}children(D){const P=Ri(D,this._root);return P?P.children.map(T=>T.value):[]}firstChild(D){const P=Ri(D,this._root);return P&&P.children.length>0?P.children[0].value:null}siblings(D){const P=wo(D,this._root);return P.length<2?[]:P[P.length-2].children.map(F=>F.value).filter(F=>F!==D)}pathFromRoot(D){return wo(D,this._root).map(P=>P.value)}}function Ri(I,D){if(I===D.value)return D;for(const P of D.children){const T=Ri(I,P);if(T)return T}return null}function wo(I,D){if(I===D.value)return[D];for(const P of D.children){const T=wo(I,P);if(T.length)return T.unshift(D),T}return[]}class ai{constructor(D,P){this.value=D,this.children=P}toString(){return`TreeNode(${this.value})`}}function S(I){const D={};return I&&I.children.forEach(P=>D[P.value.outlet]=P),D}class Q extends Go{constructor(D,P){super(D),this.snapshot=P,K(this,D)}toString(){return this.snapshot.toString()}}function _e(I){const D=function x(I){const le=new mr([],{},{},"",{},Lt,I,null,{});return new Ai("",new ai(le,[]))}(I),P=new xe.t([new Ir("",{})]),T=new xe.t({}),F=new xe.t({}),le=new xe.t({}),De=new xe.t(""),Pt=new Ce(P,T,le,De,F,Lt,I,D.root);return Pt.snapshot=D.root,new Q(new ai(Pt,[]),D)}class Ce{constructor(D,P,T,F,le,De,Pt,pn){var Bt,Fn;this.urlSubject=D,this.paramsSubject=P,this.queryParamsSubject=T,this.fragmentSubject=F,this.dataSubject=le,this.outlet=De,this.component=Pt,this._futureSnapshot=pn,this.title=null!==(Bt=null===(Fn=this.dataSubject)||void 0===Fn?void 0:Fn.pipe((0,ze.T)(Pr=>Pr[gn])))&&void 0!==Bt?Bt:(0,ce.of)(void 0),this.url=D,this.params=P,this.queryParams=T,this.fragment=F,this.data=le}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var D;return null!==(D=this._paramMap)&&void 0!==D||(this._paramMap=this.params.pipe((0,ze.T)(P=>Jt(P)))),this._paramMap}get queryParamMap(){var D;return null!==(D=this._queryParamMap)&&void 0!==D||(this._queryParamMap=this.queryParams.pipe((0,ze.T)(P=>Jt(P)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ht(I,D,P="emptyOnly"){var T;let F;const{routeConfig:le}=I;var De;return F=null===D||"always"!==P&&""!==(null==le?void 0:le.path)&&(D.component||null!==(T=D.routeConfig)&&void 0!==T&&T.loadComponent)?{params:{...I.params},data:{...I.data},resolve:{...I.data,...null!==(De=I._resolvedData)&&void 0!==De?De:{}}}:{params:{...D.params,...I.params},data:{...D.data,...I.data},resolve:{...I.data,...D.data,...null==le?void 0:le.data,...I._resolvedData}},le&&bt(le)&&(F.resolve[gn]=le.title),F}class mr{get title(){var D;return null===(D=this.data)||void 0===D?void 0:D[gn]}constructor(D,P,T,F,le,De,Pt,pn,Bt){this.url=D,this.params=P,this.queryParams=T,this.fragment=F,this.data=le,this.outlet=De,this.component=Pt,this.routeConfig=pn,this._resolve=Bt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var D;return null!==(D=this._paramMap)&&void 0!==D||(this._paramMap=Jt(this.params)),this._paramMap}get queryParamMap(){var D;return null!==(D=this._queryParamMap)&&void 0!==D||(this._queryParamMap=Jt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(T=>T.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ai extends Go{constructor(D,P){super(P),this.url=D,K(this,P)}toString(){return he(this._root)}}function K(I,D){D.value._routerState=I,D.children.forEach(P=>K(I,P))}function he(I){const D=I.children.length>0?` { ${I.children.map(he).join(", ")} } `:"";return`${I.value}${D}`}function Se(I){if(I.snapshot){const D=I.snapshot,P=I._futureSnapshot;I.snapshot=P,bn(D.queryParams,P.queryParams)||I.queryParamsSubject.next(P.queryParams),D.fragment!==P.fragment&&I.fragmentSubject.next(P.fragment),bn(D.params,P.params)||I.paramsSubject.next(P.params),function Jn(I,D){if(I.length!==D.length)return!1;for(let P=0;P<I.length;++P)if(!bn(I[P],D[P]))return!1;return!0}(D.url,P.url)||I.urlSubject.next(P.url),bn(D.data,P.data)||I.dataSubject.next(P.data)}else I.snapshot=I._futureSnapshot,I.dataSubject.next(I._futureSnapshot.data)}function He(I,D){const P=bn(I.params,D.params)&&function qn(I,D){return ui(I,D)&&I.every((P,T)=>bn(P.parameters,D[T].parameters))}(I.url,D.url);return P&&!(!I.parent!=!D.parent)&&(!I.parent||He(I.parent,D.parent))}function bt(I){return"string"==typeof I.title||null===I.title}let Et=(()=>{var I;class D{constructor(){this.activated=null,this._activatedRoute=null,this.name=Lt,this.activateEvents=new u.bkB,this.deactivateEvents=new u.bkB,this.attachEvents=new u.bkB,this.detachEvents=new u.bkB,this.parentContexts=(0,u.WQX)(Oo),this.location=(0,u.WQX)(u.c1b),this.changeDetector=(0,u.WQX)(u.gRc),this.environmentInjector=(0,u.WQX)(u.uvJ),this.inputBinder=(0,u.WQX)(on,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(T){if(T.name){const{firstChange:F,previousValue:le}=T.name;if(F)return;this.isTrackedInParentContexts(le)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(le)),this.initializeOutletWithName()}}ngOnDestroy(){var T;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(T=this.inputBinder)||void 0===T||T.unsubscribeFromRouteData(this)}isTrackedInParentContexts(T){var F;return(null===(F=this.parentContexts.getContext(T))||void 0===F?void 0:F.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const T=this.parentContexts.getContext(this.name);null!=T&&T.route&&(T.attachRef?this.attach(T.attachRef,T.route):this.activateWith(T.route,T.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.wOt(4012,!1);this.location.detach();const T=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(T.instance),T}attach(T,F){var le;this.activated=T,this._activatedRoute=F,this.location.insert(T.hostView),null===(le=this.inputBinder)||void 0===le||le.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(T.instance)}deactivate(){if(this.activated){const T=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(T)}}activateWith(T,F){var le;if(this.isActivated)throw new u.wOt(4013,!1);this._activatedRoute=T;const De=this.location,pn=T.snapshot.component,Bt=this.parentContexts.getOrCreateContext(this.name).children,Fn=new Yt(T,Bt,De.injector);this.activated=De.createComponent(pn,{index:De.length,injector:Fn,environmentInjector:null!=F?F:this.environmentInjector}),this.changeDetector.markForCheck(),null===(le=this.inputBinder)||void 0===le||le.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(I=D).\u0275fac=function(T){return new(T||I)},I.\u0275dir=u.FsC({type:I,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[u.OA$]}),D})();class Yt{__ngOutletInjector(D){return new Yt(this.route,this.childContexts,D)}constructor(D,P,T){this.route=D,this.childContexts=P,this.parent=T}get(D,P){return D===Ce?this.route:D===Oo?this.childContexts:this.parent.get(D,P)}}const on=new u.nKC("");let Zt=(()=>{var I;class D{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(T){this.unsubscribeFromRouteData(T),this.subscribeToRouteData(T)}unsubscribeFromRouteData(T){var F;null===(F=this.outletDataSubscriptions.get(T))||void 0===F||F.unsubscribe(),this.outletDataSubscriptions.delete(T)}subscribeToRouteData(T){const{activatedRoute:F}=T,le=(0,Qe.z)([F.queryParams,F.params,F.data]).pipe((0,dt.n)(([De,Pt,pn],Bt)=>(pn={...De,...Pt,...pn},0===Bt?(0,ce.of)(pn):Promise.resolve(pn)))).subscribe(De=>{if(!T.isActivated||!T.activatedComponentRef||T.activatedRoute!==F||null===F.component)return void this.unsubscribeFromRouteData(T);const Pt=(0,u.HJs)(F.component);if(Pt)for(const{templateName:pn}of Pt.inputs)T.activatedComponentRef.setInput(pn,De[pn]);else this.unsubscribeFromRouteData(T)});this.outletDataSubscriptions.set(T,le)}}return(I=D).\u0275fac=function(T){return new(T||I)},I.\u0275prov=u.jDH({token:I,factory:I.\u0275fac}),D})();function dn(I,D,P){if(P&&I.shouldReuseRoute(D.value,P.value.snapshot)){const T=P.value;T._futureSnapshot=D.value;const F=function kn(I,D,P){return D.children.map(T=>{for(const F of P.children)if(I.shouldReuseRoute(T.value,F.value.snapshot))return dn(I,T,F);return dn(I,T)})}(I,D,P);return new ai(T,F)}{if(I.shouldAttach(D.value)){const le=I.retrieve(D.value);if(null!==le){const De=le.route;return De.value._futureSnapshot=D.value,De.children=D.children.map(Pt=>dn(I,Pt)),De}}const T=function zn(I){return new Ce(new xe.t(I.url),new xe.t(I.params),new xe.t(I.queryParams),new xe.t(I.fragment),new xe.t(I.data),I.outlet,I.component,I)}(D.value),F=D.children.map(le=>dn(I,le));return new ai(T,F)}}const ir="ngNavigationCancelingError";function vr(I,D){const{redirectTo:P,navigationBehaviorOptions:T}=oi(D)?{redirectTo:D,navigationBehaviorOptions:void 0}:D,F=qi(!1,jr.Redirect);return F.url=P,F.navigationBehaviorOptions=T,F}function qi(I,D){const P=new Error(`NavigationCancelingError: ${I||""}`);return P[ir]=!0,P.cancellationCode=D,P}function er(I){return!!I&&I[ir]}let pr=(()=>{var I;class D{}return(I=D).\u0275fac=function(T){return new(T||I)},I.\u0275cmp=u.VBU({type:I,selectors:[["ng-component"]],standalone:!0,features:[u.aNF],decls:1,vars:0,template:function(T,F){1&T&&u.nrm(0,"router-outlet")},dependencies:[Et],encapsulation:2}),D})();function Jo(I){const D=I.children&&I.children.map(Jo),P=D?{...I,children:D}:{...I};return!P.component&&!P.loadComponent&&(D||P.loadChildren)&&P.outlet&&P.outlet!==Lt&&(P.component=pr),P}function pi(I){return I.outlet||Lt}function Or(I){var D;if(!I)return null;if(null!==(D=I.routeConfig)&&void 0!==D&&D._injector)return I.routeConfig._injector;for(let P=I.parent;P;P=P.parent){const T=P.routeConfig;if(null!=T&&T._loadedInjector)return T._loadedInjector;if(null!=T&&T._injector)return T._injector}return null}class Ra{constructor(D,P,T,F,le){this.routeReuseStrategy=D,this.futureState=P,this.currState=T,this.forwardEvent=F,this.inputBindingEnabled=le}activate(D){const P=this.futureState._root,T=this.currState?this.currState._root:null;this.deactivateChildRoutes(P,T,D),Se(this.futureState.root),this.activateChildRoutes(P,T,D)}deactivateChildRoutes(D,P,T){const F=S(P);D.children.forEach(le=>{const De=le.value.outlet;this.deactivateRoutes(le,F[De],T),delete F[De]}),Object.values(F).forEach(le=>{this.deactivateRouteAndItsChildren(le,T)})}deactivateRoutes(D,P,T){const F=D.value,le=P?P.value:null;if(F===le)if(F.component){const De=T.getContext(F.outlet);De&&this.deactivateChildRoutes(D,P,De.children)}else this.deactivateChildRoutes(D,P,T);else le&&this.deactivateRouteAndItsChildren(P,T)}deactivateRouteAndItsChildren(D,P){D.value.component&&this.routeReuseStrategy.shouldDetach(D.value.snapshot)?this.detachAndStoreRouteSubtree(D,P):this.deactivateRouteAndOutlet(D,P)}detachAndStoreRouteSubtree(D,P){const T=P.getContext(D.value.outlet),F=T&&D.value.component?T.children:P,le=S(D);for(const De of Object.values(le))this.deactivateRouteAndItsChildren(De,F);if(T&&T.outlet){const De=T.outlet.detach(),Pt=T.children.onOutletDeactivated();this.routeReuseStrategy.store(D.value.snapshot,{componentRef:De,route:D,contexts:Pt})}}deactivateRouteAndOutlet(D,P){const T=P.getContext(D.value.outlet),F=T&&D.value.component?T.children:P,le=S(D);for(const De of Object.values(le))this.deactivateRouteAndItsChildren(De,F);T&&(T.outlet&&(T.outlet.deactivate(),T.children.onOutletDeactivated()),T.attachRef=null,T.route=null)}activateChildRoutes(D,P,T){const F=S(P);D.children.forEach(le=>{this.activateRoutes(le,F[le.value.outlet],T),this.forwardEvent(new zr(le.value.snapshot))}),D.children.length&&this.forwardEvent(new vi(D.value.snapshot))}activateRoutes(D,P,T){const F=D.value,le=P?P.value:null;if(Se(F),F===le)if(F.component){const De=T.getOrCreateContext(F.outlet);this.activateChildRoutes(D,P,De.children)}else this.activateChildRoutes(D,P,T);else if(F.component){const De=T.getOrCreateContext(F.outlet);if(this.routeReuseStrategy.shouldAttach(F.snapshot)){const Pt=this.routeReuseStrategy.retrieve(F.snapshot);this.routeReuseStrategy.store(F.snapshot,null),De.children.onOutletReAttached(Pt.contexts),De.attachRef=Pt.componentRef,De.route=Pt.route.value,De.outlet&&De.outlet.attach(Pt.componentRef,Pt.route.value),Se(Pt.route.value),this.activateChildRoutes(D,null,De.children)}else{const Pt=Or(F.snapshot);De.attachRef=null,De.route=F,De.injector=Pt,De.outlet&&De.outlet.activateWith(F,De.injector),this.activateChildRoutes(D,null,De.children)}}else this.activateChildRoutes(D,null,T)}}class is{constructor(D){this.path=D,this.route=this.path[this.path.length-1]}}class _s{constructor(D,P){this.component=D,this.route=P}}function po(I,D,P){const T=I._root;return Lo(T,D?D._root:null,P,[T.value])}function lo(I,D){const P=Symbol(),T=D.get(I,P);return T===P?"function"!=typeof I||(0,u.LfX)(I)?D.get(I):I:T}function Lo(I,D,P,T,F={canDeactivateChecks:[],canActivateChecks:[]}){const le=S(D);return I.children.forEach(De=>{(function Eo(I,D,P,T,F={canDeactivateChecks:[],canActivateChecks:[]}){const le=I.value,De=D?D.value:null,Pt=P?P.getContext(I.value.outlet):null;if(De&&le.routeConfig===De.routeConfig){const pn=function Pa(I,D,P){if("function"==typeof P)return P(I,D);switch(P){case"pathParamsChange":return!ui(I.url,D.url);case"pathParamsOrQueryParamsChange":return!ui(I.url,D.url)||!bn(I.queryParams,D.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!He(I,D)||!bn(I.queryParams,D.queryParams);default:return!He(I,D)}}(De,le,le.routeConfig.runGuardsAndResolvers);pn?F.canActivateChecks.push(new is(T)):(le.data=De.data,le._resolvedData=De._resolvedData),Lo(I,D,le.component?Pt?Pt.children:null:P,T,F),pn&&Pt&&Pt.outlet&&Pt.outlet.isActivated&&F.canDeactivateChecks.push(new _s(Pt.outlet.component,De))}else De&&yo(D,Pt,F),F.canActivateChecks.push(new is(T)),Lo(I,null,le.component?Pt?Pt.children:null:P,T,F)})(De,le[De.value.outlet],P,T.concat([De.value]),F),delete le[De.value.outlet]}),Object.entries(le).forEach(([De,Pt])=>yo(Pt,P.getContext(De),F)),F}function yo(I,D,P){const T=S(I),F=I.value;Object.entries(T).forEach(([le,De])=>{yo(De,F.component?D?D.children.getContext(le):null:D,P)}),P.canDeactivateChecks.push(new _s(F.component&&D&&D.outlet&&D.outlet.isActivated?D.outlet.component:null,F))}function ys(I){return"function"==typeof I}function W(I){return I instanceof Pe.G||"EmptyError"===(null==I?void 0:I.name)}const be=Symbol("INITIAL_VALUE");function sn(){return(0,dt.n)(I=>(0,Qe.z)(I.map(D=>D.pipe((0,St.s)(1),(0,te.Z)(be)))).pipe((0,ze.T)(D=>{for(const P of D)if(!0!==P){if(P===be)return be;if(!1===P||P instanceof Br)return P}return!0}),(0,Dt.p)(D=>D!==be),(0,St.s)(1)))}function Qi(I){return(0,We.F)((0,It.M)(D=>{if(oi(D))throw vr(0,D)}),(0,ze.T)(D=>!0===D))}class Is{constructor(D){this.segmentGroup=D||null}}class Ba extends Error{constructor(D){super(),this.urlTree=D}}function uo(I){return Ye(new Is(I))}class Uo{constructor(D,P){this.urlSerializer=D,this.urlTree=P}lineralizeSegments(D,P){let T=[],F=P.root;for(;;){if(T=T.concat(F.segments),0===F.numberOfChildren)return(0,ce.of)(T);if(F.numberOfChildren>1||!F.children[Lt])return Ye(new u.wOt(4e3,!1));F=F.children[Lt]}}applyRedirectCommands(D,P,T){const F=this.applyRedirectCreateUrlTree(P,this.urlSerializer.parse(P),D,T);if(P.startsWith("/"))throw new Ba(F);return F}applyRedirectCreateUrlTree(D,P,T,F){const le=this.createSegmentGroup(D,P.root,T,F);return new Br(le,this.createQueryParams(P.queryParams,this.urlTree.queryParams),P.fragment)}createQueryParams(D,P){const T={};return Object.entries(D).forEach(([F,le])=>{if("string"==typeof le&&le.startsWith(":")){const Pt=le.substring(1);T[F]=P[Pt]}else T[F]=le}),T}createSegmentGroup(D,P,T,F){const le=this.createSegments(D,P.segments,T,F);let De={};return Object.entries(P.children).forEach(([Pt,pn])=>{De[Pt]=this.createSegmentGroup(D,pn,T,F)}),new Kn(le,De)}createSegments(D,P,T,F){return P.map(le=>le.path.startsWith(":")?this.findPosParam(D,le,F):this.findOrReturn(le,T))}findPosParam(D,P,T){const F=T[P.path.substring(1)];if(!F)throw new u.wOt(4001,!1);return F}findOrReturn(D,P){let T=0;for(const F of P){if(F.path===D.path)return P.splice(T),F;T++}return D}}const sr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ja(I,D,P,T,F){const le=Es(I,D,P);return le.matched?(T=function fi(I,D){var P;return I.providers&&!I._injector&&(I._injector=(0,u.Ol2)(I.providers,D,`Route: ${I.path}`)),null!==(P=I._injector)&&void 0!==P?P:D}(D,T),function la(I,D,P,T){const F=D.canMatch;if(!F||0===F.length)return(0,ce.of)(!0);const le=F.map(De=>{const Pt=lo(De,I);return Ft(function Ie(I){return I&&ys(I.canMatch)}(Pt)?Pt.canMatch(D,P):(0,u.N4e)(I,()=>Pt(D,P)))});return(0,ce.of)(le).pipe(sn(),Qi())}(T,D,P).pipe((0,ze.T)(De=>!0===De?le:{...sr}))):(0,ce.of)(le)}function Es(I,D,P){var T,F;if("**"===D.path)return function As(I){return{matched:!0,parameters:I.length>0?pt(I).parameters:{},consumedSegments:I,remainingSegments:[],positionalParamSegments:{}}}(P);if(""===D.path)return"full"===D.pathMatch&&(I.hasChildren()||P.length>0)?{...sr}:{matched:!0,consumedSegments:[],remainingSegments:P,parameters:{},positionalParamSegments:{}};const De=(D.matcher||Pn)(P,I,D);if(!De)return{...sr};const Pt={};Object.entries(null!==(T=De.posParams)&&void 0!==T?T:{}).forEach(([Bt,Fn])=>{Pt[Bt]=Fn.path});const pn=De.consumed.length>0?{...Pt,...De.consumed[De.consumed.length-1].parameters}:Pt;return{matched:!0,consumedSegments:De.consumed,remainingSegments:P.slice(De.consumed.length),parameters:pn,positionalParamSegments:null!==(F=De.posParams)&&void 0!==F?F:{}}}function xl(I,D,P,T){return P.length>0&&function za(I,D,P){return P.some(T=>Yi(I,D,T)&&pi(T)!==Lt)}(I,P,T)?{segmentGroup:new Kn(D,Xs(T,new Kn(P,I.children))),slicedSegments:[]}:0===P.length&&function Ma(I,D,P){return P.some(T=>Yi(I,D,T))}(I,P,T)?{segmentGroup:new Kn(I.segments,rl(I,P,T,I.children)),slicedSegments:P}:{segmentGroup:new Kn(I.segments,I.children),slicedSegments:P}}function rl(I,D,P,T){const F={};for(const le of P)if(Yi(I,D,le)&&!T[pi(le)]){const De=new Kn([],{});F[pi(le)]=De}return{...T,...F}}function Xs(I,D){const P={};P[Lt]=D;for(const T of I)if(""===T.path&&pi(T)!==Lt){const F=new Kn([],{});P[pi(T)]=F}return P}function Yi(I,D,P){return(!(I.hasChildren()||D.length>0)||"full"!==P.pathMatch)&&""===P.path}class Qs{}class _a{constructor(D,P,T,F,le,De,Pt){this.injector=D,this.configLoader=P,this.rootComponentType=T,this.config=F,this.urlTree=le,this.paramsInheritanceStrategy=De,this.urlSerializer=Pt,this.applyRedirects=new Uo(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(D){return new u.wOt(4002,`'${D.segmentGroup}'`)}recognize(){const D=xl(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(D).pipe((0,ze.T)(P=>{const T=new mr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Lt,this.rootComponentType,null,{}),F=new ai(T,P),le=new Ai("",F),De=function Do(I,D,P=null,T=null){return Rr(Si(I),D,P,T)}(T,[],this.urlTree.queryParams,this.urlTree.fragment);return De.queryParams=this.urlTree.queryParams,le.url=this.urlSerializer.serialize(De),this.inheritParamsAndData(le._root,null),{state:le,tree:De}}))}match(D){return this.processSegmentGroup(this.injector,this.config,D,Lt).pipe(Tn(T=>{if(T instanceof Ba)return this.urlTree=T.urlTree,this.match(T.urlTree.root);throw T instanceof Is?this.noMatchError(T):T}))}inheritParamsAndData(D,P){const T=D.value,F=ht(T,P,this.paramsInheritanceStrategy);T.params=Object.freeze(F.params),T.data=Object.freeze(F.data),D.children.forEach(le=>this.inheritParamsAndData(le,T))}processSegmentGroup(D,P,T,F){return 0===T.segments.length&&T.hasChildren()?this.processChildren(D,P,T):this.processSegment(D,P,T,T.segments,F,!0).pipe((0,ze.T)(le=>le instanceof ai?[le]:[]))}processChildren(D,P,T){const F=[];for(const le of Object.keys(T.children))"primary"===le?F.unshift(le):F.push(le);return(0,Be.H)(F).pipe(zt(le=>{const De=T.children[le],Pt=function fo(I,D){const P=I.filter(T=>pi(T)===D);return P.push(...I.filter(T=>pi(T)!==D)),P}(P,le);return this.processSegmentGroup(D,Pt,De,le)}),(0,$e.S)((le,De)=>(le.push(...De),le)),(0,J.U)(null),function Ee(I,D){const P=arguments.length>=2;return T=>T.pipe(I?(0,Dt.p)((F,le)=>I(F,le,T)):H.D,B(1),P?(0,J.U)(D):(0,R.v)(()=>new Pe.G))}(),(0,wt.Z)(le=>{if(null===le)return uo(T);const De=ya(le);return function qo(I){I.sort((D,P)=>D.value.outlet===Lt?-1:P.value.outlet===Lt?1:D.value.outlet.localeCompare(P.value.outlet))}(De),(0,ce.of)(De)}))}processSegment(D,P,T,F,le,De){return(0,Be.H)(P).pipe(zt(Pt=>{var pn;return this.processSegmentAgainstRoute(null!==(pn=Pt._injector)&&void 0!==pn?pn:D,P,Pt,T,F,le,De).pipe(Tn(Bt=>{if(Bt instanceof Is)return(0,ce.of)(null);throw Bt}))}),(0,an.$)(Pt=>!!Pt),Tn(Pt=>{if(W(Pt))return function ua(I,D,P){return 0===D.length&&!I.children[P]}(T,F,le)?(0,ce.of)(new Qs):uo(T);throw Pt}))}processSegmentAgainstRoute(D,P,T,F,le,De,Pt){return function Cs(I,D,P,T){return!!(pi(I)===T||T!==Lt&&Yi(D,P,I))&&Es(D,I,P).matched}(T,F,le,De)?void 0===T.redirectTo?this.matchSegmentAgainstRoute(D,F,T,le,De):this.allowRedirects&&Pt?this.expandSegmentAgainstRouteUsingRedirect(D,F,P,T,le,De):uo(F):uo(F)}expandSegmentAgainstRouteUsingRedirect(D,P,T,F,le,De){const{matched:Pt,consumedSegments:pn,positionalParamSegments:Bt,remainingSegments:Fn}=Es(P,F,le);if(!Pt)return uo(P);F.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Pr=this.applyRedirects.applyRedirectCommands(pn,F.redirectTo,Bt);return this.applyRedirects.lineralizeSegments(F,Pr).pipe((0,wt.Z)(Zi=>this.processSegment(D,T,P,Zi.concat(Fn),De,!1)))}matchSegmentAgainstRoute(D,P,T,F,le){const De=ja(P,T,F,D);return"**"===T.path&&(P.children={}),De.pipe((0,dt.n)(Pt=>{var pn;return Pt.matched?(D=null!==(pn=T._injector)&&void 0!==pn?pn:D,this.getChildConfig(D,T,F).pipe((0,dt.n)(({routes:Bt})=>{var Fn,Pr,Zi;const ni=null!==(Fn=T._loadedInjector)&&void 0!==Fn?Fn:D,{consumedSegments:vo,remainingSegments:as,parameters:Fl}=Pt,gl=new mr(vo,Fl,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function ol(I){return I.data||{}}(T),pi(T),null!==(Pr=null!==(Zi=T.component)&&void 0!==Zi?Zi:T._loadedComponent)&&void 0!==Pr?Pr:null,T,function Ci(I){return I.resolve||{}}(T)),{segmentGroup:ml,slicedSegments:Oa}=xl(P,vo,as,Bt);if(0===Oa.length&&ml.hasChildren())return this.processChildren(ni,Bt,ml).pipe((0,ze.T)(Ps=>null===Ps?null:new ai(gl,Ps)));if(0===Bt.length&&0===Oa.length)return(0,ce.of)(new ai(gl,[]));const Kc=pi(T)===le;return this.processSegment(ni,Bt,ml,Oa,Kc?Lt:le,!0).pipe((0,ze.T)(Ps=>new ai(gl,Ps instanceof ai?[Ps]:[])))}))):uo(P)}))}getChildConfig(D,P,T){return P.children?(0,ce.of)({routes:P.children,injector:D}):P.loadChildren?void 0!==P._loadedRoutes?(0,ce.of)({routes:P._loadedRoutes,injector:P._loadedInjector}):function lu(I,D,P,T){const F=D.canLoad;if(void 0===F||0===F.length)return(0,ce.of)(!0);const le=F.map(De=>{const Pt=lo(De,I);return Ft(function qs(I){return I&&ys(I.canLoad)}(Pt)?Pt.canLoad(D,P):(0,u.N4e)(I,()=>Pt(D,P)))});return(0,ce.of)(le).pipe(sn(),Qi())}(D,P,T).pipe((0,wt.Z)(F=>F?this.configLoader.loadChildren(D,P).pipe((0,It.M)(le=>{P._loadedRoutes=le.routes,P._loadedInjector=le.injector})):function ro(I){return Ye(qi(!1,jr.GuardRejected))}())):(0,ce.of)({routes:[],injector:D})}}function Ys(I){const D=I.value.routeConfig;return D&&""===D.path}function ya(I){const D=[],P=new Set;for(const T of I){if(!Ys(T)){D.push(T);continue}const F=D.find(le=>T.value.routeConfig===le.value.routeConfig);void 0!==F?(F.children.push(...T.children),P.add(F)):D.push(T)}for(const T of P){const F=ya(T.children);D.push(new ai(T.value,F))}return D.filter(T=>!P.has(T))}function es(I){const D=I.children.map(P=>es(P)).flat();return[I,...D]}function sl(I){return(0,dt.n)(D=>{const P=I(D);return P?(0,Be.H)(P).pipe((0,ze.T)(()=>D)):(0,ce.of)(D)})}let Ts=(()=>{var I;class D{buildTitle(T){let F,le=T.root;for(;void 0!==le;){var De;F=null!==(De=this.getResolvedTitleForRoute(le))&&void 0!==De?De:F,le=le.children.find(Pt=>Pt.outlet===Lt)}return F}getResolvedTitleForRoute(T){return T.data[gn]}}return(I=D).\u0275fac=function(T){return new(T||I)},I.\u0275prov=u.jDH({token:I,factory:()=>(0,u.WQX)($o),providedIn:"root"}),D})(),$o=(()=>{var I;class D extends Ts{constructor(T){super(),this.title=T}updateTitle(T){const F=this.buildTitle(T);void 0!==F&&this.title.setTitle(F)}}return(I=D).\u0275fac=function(T){return new(T||I)(u.KVO(ft.hE))},I.\u0275prov=u.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),D})();const Fs=new u.nKC("",{providedIn:"root",factory:()=>({})}),Ea=new u.nKC("");let al=(()=>{var I;class D{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,u.WQX)(u.Ql9)}loadComponent(T){if(this.componentLoaders.get(T))return this.componentLoaders.get(T);if(T._loadedComponent)return(0,ce.of)(T._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(T);const F=Ft(T.loadComponent()).pipe((0,ze.T)(xa),(0,It.M)(De=>{this.onLoadEndListener&&this.onLoadEndListener(T),T._loadedComponent=De}),it(()=>{this.componentLoaders.delete(T)})),le=new et(F,()=>new we.B).pipe(tt());return this.componentLoaders.set(T,le),le}loadChildren(T,F){if(this.childrenLoaders.get(F))return this.childrenLoaders.get(F);if(F._loadedRoutes)return(0,ce.of)({routes:F._loadedRoutes,injector:F._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(F);const De=function Js(I,D,P,T){return Ft(I.loadChildren()).pipe((0,ze.T)(xa),(0,wt.Z)(F=>F instanceof u.Co$||Array.isArray(F)?(0,ce.of)(F):(0,Be.H)(D.compileModuleAsync(F))),(0,ze.T)(F=>{T&&T(I);let le,De,Pt=!1;return Array.isArray(F)?(De=F,!0):(le=F.create(P).injector,De=le.get(Ea,[],{optional:!0,self:!0}).flat()),{routes:De.map(Jo),injector:le}}))}(F,this.compiler,T,this.onLoadEndListener).pipe(it(()=>{this.childrenLoaders.delete(F)})),Pt=new et(De,()=>new we.B).pipe(tt());return this.childrenLoaders.set(F,Pt),Pt}}return(I=D).\u0275fac=function(T){return new(T||I)},I.\u0275prov=u.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),D})();function xa(I){return function Ds(I){return I&&"object"==typeof I&&"default"in I}(I)?I.default:I}let os=(()=>{var I;class D{}return(I=D).\u0275fac=function(T){return new(T||I)},I.\u0275prov=u.jDH({token:I,factory:()=>(0,u.WQX)(C),providedIn:"root"}),D})(),C=(()=>{var I;class D{shouldProcessUrl(T){return!0}extract(T){return T}merge(T,F){return T}}return(I=D).\u0275fac=function(T){return new(T||I)},I.\u0275prov=u.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),D})();const z=new u.nKC(""),Ne=new u.nKC("");function k(I,D,P){const T=I.get(Ne),F=I.get(Ge.qQ);return I.get(u.SKi).runOutsideAngular(()=>{if(!F.startViewTransition||T.skipNextTransition)return T.skipNextTransition=!1,new Promise(Bt=>setTimeout(Bt));let le;const De=new Promise(Bt=>{le=Bt}),Pt=F.startViewTransition(()=>(le(),function ae(I){return new Promise(D=>{(0,u.mal)(D,{injector:I})})}(I))),{onViewTransitionCreated:pn}=T;return pn&&(0,u.N4e)(I,()=>pn({transition:Pt,from:D,to:P})),De})}let je=(()=>{var I;class D{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new we.B,this.transitionAbortSubject=new we.B,this.configLoader=(0,u.WQX)(al),this.environmentInjector=(0,u.WQX)(u.uvJ),this.urlSerializer=(0,u.WQX)(Qn),this.rootContexts=(0,u.WQX)(Oo),this.location=(0,u.WQX)(Ge.aZ),this.inputBindingEnabled=null!==(0,u.WQX)(on,{optional:!0}),this.titleStrategy=(0,u.WQX)(Ts),this.options=(0,u.WQX)(Fs,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,u.WQX)(os),this.createViewTransition=(0,u.WQX)(z,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ce.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=le=>this.events.next(new Hi(le)),this.configLoader.onLoadStartListener=le=>this.events.next(new Li(le))}complete(){var T;null===(T=this.transitions)||void 0===T||T.complete()}handleNavigationRequest(T){var F;const le=++this.navigationId;null===(F=this.transitions)||void 0===F||F.next({...this.transitions.value,...T,id:le})}setupNavigations(T,F,le){return this.transitions=new xe.t({id:0,currentUrlTree:F,currentRawUrl:F,extractedUrl:this.urlHandlingStrategy.extract(F),urlAfterRedirects:this.urlHandlingStrategy.extract(F),rawUrl:F,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ii,restoredState:null,currentSnapshot:le.snapshot,targetSnapshot:null,currentRouterState:le,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Dt.p)(De=>0!==De.id),(0,ze.T)(De=>({...De,extractedUrl:this.urlHandlingStrategy.extract(De.rawUrl)})),(0,dt.n)(De=>{let Pt=!1,pn=!1;return(0,ce.of)(De).pipe((0,dt.n)(Bt=>{var Fn;if(this.navigationId>De.id)return this.cancelNavigationTransition(De,"",jr.SupersededByNewNavigation),ct.w;this.currentTransition=De,this.currentNavigation={id:Bt.id,initialUrl:Bt.rawUrl,extractedUrl:Bt.extractedUrl,trigger:Bt.source,extras:Bt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Pr=!T.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),Zi=null!==(Fn=Bt.extras.onSameUrlNavigation)&&void 0!==Fn?Fn:T.onSameUrlNavigation;if(!Pr&&"reload"!==Zi){const ni="";return this.events.next(new si(Bt.id,this.urlSerializer.serialize(Bt.rawUrl),ni,Er.IgnoredSameUrlNavigation)),Bt.resolve(null),ct.w}if(this.urlHandlingStrategy.shouldProcessUrl(Bt.rawUrl))return(0,ce.of)(Bt).pipe((0,dt.n)(ni=>{var vo,as;const Fl=null===(vo=this.transitions)||void 0===vo?void 0:vo.getValue();return this.events.next(new Ki(ni.id,this.urlSerializer.serialize(ni.extractedUrl),ni.source,ni.restoredState)),Fl!==(null===(as=this.transitions)||void 0===as?void 0:as.getValue())?ct.w:Promise.resolve(ni)}),function hs(I,D,P,T,F,le){return(0,wt.Z)(De=>function Os(I,D,P,T,F,le,De="emptyOnly"){return new _a(I,D,P,T,F,De,le).recognize()}(I,D,P,T,De.extractedUrl,F,le).pipe((0,ze.T)(({state:Pt,tree:pn})=>({...De,targetSnapshot:Pt,urlAfterRedirects:pn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,T.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,It.M)(ni=>{De.targetSnapshot=ni.targetSnapshot,De.urlAfterRedirects=ni.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:ni.urlAfterRedirects};const vo=new bo(ni.id,this.urlSerializer.serialize(ni.extractedUrl),this.urlSerializer.serialize(ni.urlAfterRedirects),ni.targetSnapshot);this.events.next(vo)}));if(Pr&&this.urlHandlingStrategy.shouldProcessUrl(Bt.currentRawUrl)){const{id:ni,extractedUrl:vo,source:as,restoredState:Fl,extras:gl}=Bt,ml=new Ki(ni,this.urlSerializer.serialize(vo),as,Fl);this.events.next(ml);const Oa=_e(this.rootComponentType).snapshot;return this.currentTransition=De={...Bt,targetSnapshot:Oa,urlAfterRedirects:vo,extras:{...gl,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=vo,(0,ce.of)(De)}{const ni="";return this.events.next(new si(Bt.id,this.urlSerializer.serialize(Bt.extractedUrl),ni,Er.IgnoredByUrlHandlingStrategy)),Bt.resolve(null),ct.w}}),(0,It.M)(Bt=>{const Fn=new Fi(Bt.id,this.urlSerializer.serialize(Bt.extractedUrl),this.urlSerializer.serialize(Bt.urlAfterRedirects),Bt.targetSnapshot);this.events.next(Fn)}),(0,ze.T)(Bt=>(this.currentTransition=De={...Bt,guards:po(Bt.targetSnapshot,Bt.currentSnapshot,this.rootContexts)},De)),function Bn(I,D){return(0,wt.Z)(P=>{const{targetSnapshot:T,currentSnapshot:F,guards:{canActivateChecks:le,canDeactivateChecks:De}}=P;return 0===De.length&&0===le.length?(0,ce.of)({...P,guardsResult:!0}):function fr(I,D,P,T){return(0,Be.H)(I).pipe((0,wt.Z)(F=>function ds(I,D,P,T,F){const le=D&&D.routeConfig?D.routeConfig.canDeactivate:null;if(!le||0===le.length)return(0,ce.of)(!0);const De=le.map(Pt=>{var pn;const Bt=null!==(pn=Or(D))&&void 0!==pn?pn:F,Fn=lo(Pt,Bt);return Ft(function M(I){return I&&ys(I.canDeactivate)}(Fn)?Fn.canDeactivate(I,D,P,T):(0,u.N4e)(Bt,()=>Fn(I,D,P,T))).pipe((0,an.$)())});return(0,ce.of)(De).pipe(sn())}(F.component,F.route,P,D,T)),(0,an.$)(F=>!0!==F,!0))}(De,T,F,I).pipe((0,wt.Z)(Pt=>Pt&&function Pi(I){return"boolean"==typeof I}(Pt)?function go(I,D,P,T){return(0,Be.H)(D).pipe(zt(F=>(0,ve.x)(function Xi(I,D){return null!==I&&D&&D(new Io(I)),(0,ce.of)(!0)}(F.route.parent,T),function Vo(I,D){return null!==I&&D&&D(new Ur(I)),(0,ce.of)(!0)}(F.route,T),function va(I,D,P){const T=D[D.length-1],le=D.slice(0,D.length-1).reverse().map(De=>function Ko(I){const D=I.routeConfig?I.routeConfig.canActivateChild:null;return D&&0!==D.length?{node:I,guards:D}:null}(De)).filter(De=>null!==De).map(De=>Ke(()=>{const Pt=De.guards.map(pn=>{var Bt;const Fn=null!==(Bt=Or(De.node))&&void 0!==Bt?Bt:P,Pr=lo(pn,Fn);return Ft(function G(I){return I&&ys(I.canActivateChild)}(Pr)?Pr.canActivateChild(T,I):(0,u.N4e)(Fn,()=>Pr(T,I))).pipe((0,an.$)())});return(0,ce.of)(Pt).pipe(sn())}));return(0,ce.of)(le).pipe(sn())}(I,F.path,P),function Ro(I,D,P){const T=D.routeConfig?D.routeConfig.canActivate:null;if(!T||0===T.length)return(0,ce.of)(!0);const F=T.map(le=>Ke(()=>{var De;const Pt=null!==(De=Or(D))&&void 0!==De?De:P,pn=lo(le,Pt);return Ft(function aa(I){return I&&ys(I.canActivate)}(pn)?pn.canActivate(D,I):(0,u.N4e)(Pt,()=>pn(D,I))).pipe((0,an.$)())}));return(0,ce.of)(F).pipe(sn())}(I,F.route,P))),(0,an.$)(F=>!0!==F,!0))}(T,le,I,D):(0,ce.of)(Pt)),(0,ze.T)(Pt=>({...P,guardsResult:Pt})))})}(this.environmentInjector,Bt=>this.events.next(Bt)),(0,It.M)(Bt=>{if(De.guardsResult=Bt.guardsResult,oi(Bt.guardsResult))throw vr(0,Bt.guardsResult);const Fn=new Qr(Bt.id,this.urlSerializer.serialize(Bt.extractedUrl),this.urlSerializer.serialize(Bt.urlAfterRedirects),Bt.targetSnapshot,!!Bt.guardsResult);this.events.next(Fn)}),(0,Dt.p)(Bt=>!!Bt.guardsResult||(this.cancelNavigationTransition(Bt,"",jr.GuardRejected),!1)),sl(Bt=>{if(Bt.guards.canActivateChecks.length)return(0,ce.of)(Bt).pipe((0,It.M)(Fn=>{const Pr=new hr(Fn.id,this.urlSerializer.serialize(Fn.extractedUrl),this.urlSerializer.serialize(Fn.urlAfterRedirects),Fn.targetSnapshot);this.events.next(Pr)}),(0,dt.n)(Fn=>{let Pr=!1;return(0,ce.of)(Fn).pipe(function ks(I,D){return(0,wt.Z)(P=>{const{targetSnapshot:T,guards:{canActivateChecks:F}}=P;if(!F.length)return(0,ce.of)(P);const le=new Set(F.map(pn=>pn.route)),De=new Set;for(const pn of le)if(!De.has(pn))for(const Bt of es(pn))De.add(Bt);let Pt=0;return(0,Be.H)(De).pipe(zt(pn=>le.has(pn)?function Zs(I,D,P,T){const F=I.routeConfig,le=I._resolve;return void 0!==(null==F?void 0:F.title)&&!bt(F)&&(le[gn]=F.title),function Ia(I,D,P,T){const F=nn(I);if(0===F.length)return(0,ce.of)({});const le={};return(0,Be.H)(F).pipe((0,wt.Z)(De=>function Nl(I,D,P,T){var F;const le=null!==(F=Or(D))&&void 0!==F?F:T,De=lo(I,le);return Ft(De.resolve?De.resolve(D,P):(0,u.N4e)(le,()=>De(D,P)))}(I[De],D,P,T).pipe((0,an.$)(),(0,It.M)(Pt=>{le[De]=Pt}))),B(1),function Ve(I){return(0,ze.T)(()=>I)}(le),Tn(De=>W(De)?ct.w:Ye(De)))}(le,I,D,T).pipe((0,ze.T)(De=>(I._resolvedData=De,I.data=ht(I,I.parent,P).resolve,null)))}(pn,T,I,D):(pn.data=ht(pn,pn.parent,I).resolve,(0,ce.of)(void 0))),(0,It.M)(()=>Pt++),B(1),(0,wt.Z)(pn=>Pt===De.size?(0,ce.of)(P):ct.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,It.M)({next:()=>Pr=!0,complete:()=>{Pr||this.cancelNavigationTransition(Fn,"",jr.NoDataFromResolver)}}))}),(0,It.M)(Fn=>{const Pr=new Fr(Fn.id,this.urlSerializer.serialize(Fn.extractedUrl),this.urlSerializer.serialize(Fn.urlAfterRedirects),Fn.targetSnapshot);this.events.next(Pr)}))}),sl(Bt=>{const Fn=Pr=>{var Zi;const ni=[];null!==(Zi=Pr.routeConfig)&&void 0!==Zi&&Zi.loadComponent&&!Pr.routeConfig._loadedComponent&&ni.push(this.configLoader.loadComponent(Pr.routeConfig).pipe((0,It.M)(vo=>{Pr.component=vo}),(0,ze.T)(()=>{})));for(const vo of Pr.children)ni.push(...Fn(vo));return ni};return(0,Qe.z)(Fn(Bt.targetSnapshot.root)).pipe((0,J.U)(null),(0,St.s)(1))}),sl(()=>this.afterPreactivation()),(0,dt.n)(()=>{var Bt;const{currentSnapshot:Fn,targetSnapshot:Pr}=De,Zi=null===(Bt=this.createViewTransition)||void 0===Bt?void 0:Bt.call(this,this.environmentInjector,Fn.root,Pr.root);return Zi?(0,Be.H)(Zi).pipe((0,ze.T)(()=>De)):(0,ce.of)(De)}),(0,ze.T)(Bt=>{const Fn=function cn(I,D,P){const T=dn(I,D._root,P?P._root:void 0);return new Q(T,D)}(T.routeReuseStrategy,Bt.targetSnapshot,Bt.currentRouterState);return this.currentTransition=De={...Bt,targetRouterState:Fn},this.currentNavigation.targetRouterState=Fn,De}),(0,It.M)(()=>{this.events.next(new Vr)}),((I,D,P,T)=>(0,ze.T)(F=>(new Ra(D,F.targetRouterState,F.currentRouterState,P,T).activate(I),F)))(this.rootContexts,T.routeReuseStrategy,Bt=>this.events.next(Bt),this.inputBindingEnabled),(0,St.s)(1),(0,It.M)({next:Bt=>{var Fn;Pt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ei(Bt.id,this.urlSerializer.serialize(Bt.extractedUrl),this.urlSerializer.serialize(Bt.urlAfterRedirects))),null===(Fn=this.titleStrategy)||void 0===Fn||Fn.updateTitle(Bt.targetRouterState.snapshot),Bt.resolve(!0)},complete:()=>{Pt=!0}}),function Xe(I){return(0,nt.N)((D,P)=>{(0,qe.Tg)(I).subscribe((0,Tt._)(P,()=>P.complete(),Me.l)),!P.closed&&D.subscribe(P)})}(this.transitionAbortSubject.pipe((0,It.M)(Bt=>{throw Bt}))),it(()=>{var Bt;!Pt&&!pn&&this.cancelNavigationTransition(De,"",jr.SupersededByNewNavigation),(null===(Bt=this.currentTransition)||void 0===Bt?void 0:Bt.id)===De.id&&(this.currentNavigation=null,this.currentTransition=null)}),Tn(Bt=>{if(pn=!0,er(Bt))this.events.next(new no(De.id,this.urlSerializer.serialize(De.extractedUrl),Bt.message,Bt.cancellationCode)),function Ar(I){return er(I)&&oi(I.url)}(Bt)?this.events.next(new vs(Bt.url)):De.resolve(!1);else{var Fn;this.events.next(new Nr(De.id,this.urlSerializer.serialize(De.extractedUrl),Bt,null!==(Fn=De.targetSnapshot)&&void 0!==Fn?Fn:void 0));try{De.resolve(T.errorHandler(Bt))}catch(Pr){this.options.resolveNavigationPromiseOnError?De.resolve(!1):De.reject(Pr)}}return ct.w}))}))}cancelNavigationTransition(T,F,le){const De=new no(T.id,this.urlSerializer.serialize(T.extractedUrl),F,le);this.events.next(De),T.resolve(!1)}isUpdatingInternalState(){var T,F;return(null===(T=this.currentTransition)||void 0===T?void 0:T.extractedUrl.toString())!==(null===(F=this.currentTransition)||void 0===F?void 0:F.currentUrlTree.toString())}isUpdatedBrowserUrl(){var T,F;return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==(null===(T=this.currentTransition)||void 0===T?void 0:T.extractedUrl.toString())&&!(null!==(F=this.currentTransition)&&void 0!==F&&F.extras.skipLocationChange)}}return(I=D).\u0275fac=function(T){return new(T||I)},I.\u0275prov=u.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),D})();function Xt(I){return I!==Ii}let _n=(()=>{var I;class D{}return(I=D).\u0275fac=function(T){return new(T||I)},I.\u0275prov=u.jDH({token:I,factory:()=>(0,u.WQX)($r),providedIn:"root"}),D})();class br{shouldDetach(D){return!1}store(D,P){}shouldAttach(D){return!1}retrieve(D){return null}shouldReuseRoute(D,P){return D.routeConfig===P.routeConfig}}let $r=(()=>{var I;class D extends br{}return(I=D).\u0275fac=(()=>{let P;return function(F){return(P||(P=u.xGo(I)))(F||I)}})(),I.\u0275prov=u.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),D})(),Yr=(()=>{var I;class D{}return(I=D).\u0275fac=function(T){return new(T||I)},I.\u0275prov=u.jDH({token:I,factory:()=>(0,u.WQX)(kr),providedIn:"root"}),D})(),kr=(()=>{var I;class D extends Yr{constructor(){super(...arguments),this.location=(0,u.WQX)(Ge.aZ),this.urlSerializer=(0,u.WQX)(Qn),this.options=(0,u.WQX)(Fs,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,u.WQX)(os),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Br,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=_e(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var T,F;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(T=null===(F=this.restoredState())||void 0===F?void 0:F.\u0275routerPageId)&&void 0!==T?T:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(T){return this.location.subscribe(F=>{"popstate"===F.type&&T(F.url,F.state)})}handleRouterEvent(T,F){if(T instanceof Ki)this.stateMemento=this.createStateMemento();else if(T instanceof si)this.rawUrlTree=F.initialUrl;else if(T instanceof bo){if("eager"===this.urlUpdateStrategy&&!F.extras.skipLocationChange){const le=this.urlHandlingStrategy.merge(F.finalUrl,F.initialUrl);this.setBrowserUrl(le,F)}}else T instanceof Vr?(this.currentUrlTree=F.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(F.finalUrl,F.initialUrl),this.routerState=F.targetRouterState,"deferred"===this.urlUpdateStrategy&&(F.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,F))):T instanceof no&&(T.code===jr.GuardRejected||T.code===jr.NoDataFromResolver)?this.restoreHistory(F):T instanceof Nr?this.restoreHistory(F,!0):T instanceof Ei&&(this.lastSuccessfulId=T.id,this.currentPageId=this.browserPageId)}setBrowserUrl(T,F){const le=this.urlSerializer.serialize(T);if(this.location.isCurrentPathEqualTo(le)||F.extras.replaceUrl){const Pt={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId)};this.location.replaceState(le,"",Pt)}else{const De={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId+1)};this.location.go(le,"",De)}}restoreHistory(T,F=!1){if("computed"===this.canceledNavigationResolution){const De=this.currentPageId-this.browserPageId;0!==De?this.location.historyGo(De):this.currentUrlTree===T.finalUrl&&0===De&&(this.resetState(T),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(F&&this.resetState(T),this.resetUrlToCurrentUrlTree())}resetState(T){var F;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(F=T.finalUrl)&&void 0!==F?F:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(T,F){return"computed"===this.canceledNavigationResolution?{navigationId:T,\u0275routerPageId:F}:{navigationId:T}}}return(I=D).\u0275fac=(()=>{let P;return function(F){return(P||(P=u.xGo(I)))(F||I)}})(),I.\u0275prov=u.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),D})();var ei=function(I){return I[I.COMPLETE=0]="COMPLETE",I[I.FAILED=1]="FAILED",I[I.REDIRECTING=2]="REDIRECTING",I}(ei||{});function Wr(I,D){I.events.pipe((0,Dt.p)(P=>P instanceof Ei||P instanceof no||P instanceof Nr||P instanceof si),(0,ze.T)(P=>P instanceof Ei||P instanceof si?ei.COMPLETE:P instanceof no&&(P.code===jr.Redirect||P.code===jr.SupersededByNewNavigation)?ei.REDIRECTING:ei.FAILED),(0,Dt.p)(P=>P!==ei.REDIRECTING),(0,St.s)(1)).subscribe(()=>{D()})}function Vi(I){throw I}const Zr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},En={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let $n=(()=>{var I;class D{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var T,F;this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,u.WQX)(u.H3F),this.stateManager=(0,u.WQX)(Yr),this.options=(0,u.WQX)(Fs,{optional:!0})||{},this.pendingTasks=(0,u.WQX)(u.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,u.WQX)(je),this.urlSerializer=(0,u.WQX)(Qn),this.location=(0,u.WQX)(Ge.aZ),this.urlHandlingStrategy=(0,u.WQX)(os),this._events=new we.B,this.errorHandler=this.options.errorHandler||Vi,this.navigated=!1,this.routeReuseStrategy=(0,u.WQX)(_n),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(T=null===(F=(0,u.WQX)(Ea,{optional:!0}))||void 0===F?void 0:F.flat())&&void 0!==T?T:[],this.componentInputBindingEnabled=!!(0,u.WQX)(on,{optional:!0}),this.eventsSubscription=new rt.yU,this.isNgZoneEnabled=(0,u.WQX)(u.SKi)instanceof u.SKi&&u.SKi.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:le=>{this.console.warn(le)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const T=this.navigationTransitions.events.subscribe(F=>{try{const le=this.navigationTransitions.currentTransition,De=this.navigationTransitions.currentNavigation;if(null!==le&&null!==De)if(this.stateManager.handleRouterEvent(F,De),F instanceof no&&F.code!==jr.Redirect&&F.code!==jr.SupersededByNewNavigation)this.navigated=!0;else if(F instanceof Ei)this.navigated=!0;else if(F instanceof vs){const Pt=this.urlHandlingStrategy.merge(F.url,le.currentRawUrl),pn={info:le.extras.info,skipLocationChange:le.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Xt(le.source)};this.scheduleNavigation(Pt,Ii,null,pn,{resolve:le.resolve,reject:le.reject,promise:le.promise})}(function xi(I){return!(I instanceof Vr||I instanceof vs)})(F)&&this._events.next(F)}catch(le){this.navigationTransitions.transitionAbortSubject.next(le)}});this.eventsSubscription.add(T)}resetRootComponentType(T){this.routerState.root.component=T,this.navigationTransitions.rootComponentType=T}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ii,this.stateManager.restoredState())}setUpLocationChangeListener(){var T;null!==(T=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==T||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((F,le)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(F,"popstate",le)},0)}))}navigateToSyncWithBrowser(T,F,le){const De={replaceUrl:!0},Pt=null!=le&&le.navigationId?le:null;if(le){const Bt={...le};delete Bt.navigationId,delete Bt.\u0275routerPageId,0!==Object.keys(Bt).length&&(De.state=Bt)}const pn=this.parseUrl(T);this.scheduleNavigation(pn,F,Pt,De)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(T){this.config=T.map(Jo),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(T,F={}){const{relativeTo:le,queryParams:De,fragment:Pt,queryParamsHandling:pn,preserveFragment:Bt}=F,Fn=Bt?this.currentUrlTree.fragment:Pt;let Zi,Pr=null;switch(pn){case"merge":Pr={...this.currentUrlTree.queryParams,...De};break;case"preserve":Pr=this.currentUrlTree.queryParams;break;default:Pr=De||null}null!==Pr&&(Pr=this.removeEmptyProps(Pr));try{Zi=Si(le?le.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof T[0]||!T[0].startsWith("/"))&&(T=[]),Zi=this.currentUrlTree.root}return Rr(Zi,T,Pr,null!=Fn?Fn:null)}navigateByUrl(T,F={skipLocationChange:!1}){const le=oi(T)?T:this.parseUrl(T),De=this.urlHandlingStrategy.merge(le,this.rawUrlTree);return this.scheduleNavigation(De,Ii,null,F)}navigate(T,F={skipLocationChange:!1}){return function ci(I){for(let D=0;D<I.length;D++)if(null==I[D])throw new u.wOt(4008,!1)}(T),this.navigateByUrl(this.createUrlTree(T,F),F)}serializeUrl(T){return this.urlSerializer.serialize(T)}parseUrl(T){try{return this.urlSerializer.parse(T)}catch{return this.urlSerializer.parse("/")}}isActive(T,F){let le;if(le=!0===F?{...Zr}:!1===F?{...En}:F,oi(T))return or(this.currentUrlTree,T,le);const De=this.parseUrl(T);return or(this.currentUrlTree,De,le)}removeEmptyProps(T){return Object.entries(T).reduce((F,[le,De])=>(null!=De&&(F[le]=De),F),{})}scheduleNavigation(T,F,le,De,Pt){if(this.disposed)return Promise.resolve(!1);let pn,Bt,Fn;Pt?(pn=Pt.resolve,Bt=Pt.reject,Fn=Pt.promise):Fn=new Promise((Zi,ni)=>{pn=Zi,Bt=ni});const Pr=this.pendingTasks.add();return Wr(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Pr))}),this.navigationTransitions.handleNavigationRequest({source:F,restoredState:le,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:T,extras:De,resolve:pn,reject:Bt,promise:Fn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Fn.catch(Zi=>Promise.reject(Zi))}}return(I=D).\u0275fac=function(T){return new(T||I)},I.\u0275prov=u.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),D})(),_i=(()=>{var I;class D{constructor(T,F,le,De,Pt,pn){var Bt;this.router=T,this.route=F,this.tabIndexAttribute=le,this.renderer=De,this.el=Pt,this.locationStrategy=pn,this.href=null,this.commands=null,this.onChanges=new we.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Fn=null===(Bt=Pt.nativeElement.tagName)||void 0===Bt?void 0:Bt.toLowerCase();this.isAnchorElement="a"===Fn||"area"===Fn,this.isAnchorElement?this.subscription=T.events.subscribe(Pr=>{Pr instanceof Ei&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(T){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",T)}ngOnChanges(T){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(T){null!=T?(this.commands=Array.isArray(T)?T:[T],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(T,F,le,De,Pt){const pn=this.urlTree;return!!(null===pn||this.isAnchorElement&&(0!==T||F||le||De||Pt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(pn,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var T;null===(T=this.subscription)||void 0===T||T.unsubscribe()}updateHref(){var T;const F=this.urlTree;this.href=null!==F&&this.locationStrategy?null===(T=this.locationStrategy)||void 0===T?void 0:T.prepareExternalUrl(this.router.serializeUrl(F)):null;const le=null===this.href?null:(0,u.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",le)}applyAttributeValue(T,F){const le=this.renderer,De=this.el.nativeElement;null!==F?le.setAttribute(De,T,F):le.removeAttribute(De,T)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(I=D).\u0275fac=function(T){return new(T||I)(u.rXU($n),u.rXU(Ce),u.kS0("tabindex"),u.rXU(u.sFG),u.rXU(u.aKT),u.rXU(Ge.hb))},I.\u0275dir=u.FsC({type:I,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(T,F){1&T&&u.bIt("click",function(De){return F.onClick(De.button,De.ctrlKey,De.shiftKey,De.altKey,De.metaKey)}),2&T&&u.BMQ("target",F.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[u.Mj6.HasDecoratorInputTransform,"preserveFragment","preserveFragment",u.L39],skipLocationChange:[u.Mj6.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",u.L39],replaceUrl:[u.Mj6.HasDecoratorInputTransform,"replaceUrl","replaceUrl",u.L39],routerLink:"routerLink"},standalone:!0,features:[u.GFd,u.OA$]}),D})();class Ui{}let Po=(()=>{var I;class D{preload(T,F){return F().pipe(Tn(()=>(0,ce.of)(null)))}}return(I=D).\u0275fac=function(T){return new(T||I)},I.\u0275prov=u.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),D})(),Tr=(()=>{var I;class D{constructor(T,F,le,De,Pt){this.router=T,this.injector=le,this.preloadingStrategy=De,this.loader=Pt}setUpPreloading(){this.subscription=this.router.events.pipe((0,Dt.p)(T=>T instanceof Ei),zt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(T,F){const le=[];for(const Bt of F){var De,Pt;Bt.providers&&!Bt._injector&&(Bt._injector=(0,u.Ol2)(Bt.providers,T,`Route: ${Bt.path}`));const Fn=null!==(De=Bt._injector)&&void 0!==De?De:T,Pr=null!==(Pt=Bt._loadedInjector)&&void 0!==Pt?Pt:Fn;var pn;(Bt.loadChildren&&!Bt._loadedRoutes&&void 0===Bt.canLoad||Bt.loadComponent&&!Bt._loadedComponent)&&le.push(this.preloadConfig(Fn,Bt)),(Bt.children||Bt._loadedRoutes)&&le.push(this.processRoutes(Pr,null!==(pn=Bt.children)&&void 0!==pn?pn:Bt._loadedRoutes))}return(0,Be.H)(le).pipe((0,jt.U)())}preloadConfig(T,F){return this.preloadingStrategy.preload(F,()=>{let le;le=F.loadChildren&&void 0===F.canLoad?this.loader.loadChildren(T,F):(0,ce.of)(null);const De=le.pipe((0,wt.Z)(Pt=>{var pn;return null===Pt?(0,ce.of)(void 0):(F._loadedRoutes=Pt.routes,F._loadedInjector=Pt.injector,this.processRoutes(null!==(pn=Pt.injector)&&void 0!==pn?pn:T,Pt.routes))}));if(F.loadComponent&&!F._loadedComponent){const Pt=this.loader.loadComponent(F);return(0,Be.H)([De,Pt]).pipe((0,jt.U)())}return De})}}return(I=D).\u0275fac=function(T){return new(T||I)(u.KVO($n),u.KVO(u.Ql9),u.KVO(u.uvJ),u.KVO(Ui),u.KVO(al))},I.\u0275prov=u.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),D})();const ss=new u.nKC("");let Ls=(()=>{var I;class D{constructor(T,F,le,De,Pt={}){this.urlSerializer=T,this.transitions=F,this.viewportScroller=le,this.zone=De,this.options=Pt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=(0,u.WQX)(u.uvJ),Pt.scrollPositionRestoration||(Pt.scrollPositionRestoration="disabled"),Pt.anchorScrolling||(Pt.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(T=>{T instanceof Ki?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=T.navigationTrigger,this.restoredId=T.restoredState?T.restoredState.navigationId:0):T instanceof Ei?(this.lastId=T.id,this.scheduleScrollEvent(T,this.urlSerializer.parse(T.urlAfterRedirects).fragment)):T instanceof si&&T.code===Er.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(T,this.urlSerializer.parse(T.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(T=>{T instanceof lr&&(T.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(T.position):T.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(T.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(T,F){var le=this;this.zone.runOutsideAngular((0,d.A)(function*(){yield new Promise(De=>{setTimeout(()=>{De()}),(0,u.mal)(()=>{De()},{injector:le.environmentInjector})}),le.zone.run(()=>{le.transitions.events.next(new lr(T,"popstate"===le.lastSource?le.store[le.restoredId]:null,F))})}))}ngOnDestroy(){var T,F;null===(T=this.routerEventsSubscription)||void 0===T||T.unsubscribe(),null===(F=this.scrollEventsSubscription)||void 0===F||F.unsubscribe()}}return(I=D).\u0275fac=function(T){u.QTQ()},I.\u0275prov=u.jDH({token:I,factory:I.\u0275fac}),D})();function Jr(I,D){return{\u0275kind:I,\u0275providers:D}}function Ao(){const I=(0,u.WQX)(u.zZn);return D=>{var P,T;const F=I.get(u.o8S);if(D!==F.components[0])return;const le=I.get($n),De=I.get(Wa);1===I.get(ws)&&le.initialNavigation(),null===(P=I.get(Rs,null,u.$GK.Optional))||void 0===P||P.setUpPreloading(),null===(T=I.get(ss,null,u.$GK.Optional))||void 0===T||T.init(),le.resetRootComponentType(F.componentTypes[0]),De.closed||(De.next(),De.complete(),De.unsubscribe())}}const Wa=new u.nKC("",{factory:()=>new we.B}),ws=new u.nKC("",{providedIn:"root",factory:()=>1}),Rs=new u.nKC("");function io(I){return Jr(0,[{provide:Rs,useExisting:Tr},{provide:Ui,useExisting:I}])}function jo(I){return Jr(9,[{provide:z,useValue:k},{provide:Ne,useValue:{skipNextTransition:!(null==I||!I.skipInitialTransition),...I}}])}const ta=new u.nKC("ROUTER_FORROOT_GUARD"),hl=[Ge.aZ,{provide:Qn,useClass:mi},$n,Oo,{provide:Ce,useFactory:function ti(I){return I.routerState.root},deps:[$n]},al,[]];let Xo=(()=>{var I;class D{constructor(T){}static forRoot(T,F){return{ngModule:D,providers:[hl,[],{provide:Ea,multi:!0,useValue:T},{provide:ta,useFactory:pl,deps:[[$n,new u.Xx1,new u.kdw]]},{provide:Fs,useValue:F||{}},null!=F&&F.useHash?{provide:Ge.hb,useClass:Ge.fw}:{provide:Ge.hb,useClass:Ge.Sm},{provide:ss,useFactory:()=>{const I=(0,u.WQX)(Ge.Xr),D=(0,u.WQX)(u.SKi),P=(0,u.WQX)(Fs),T=(0,u.WQX)(je),F=(0,u.WQX)(Qn);return P.scrollOffset&&I.setOffset(P.scrollOffset),new Ls(F,T,I,D,P)}},null!=F&&F.preloadingStrategy?io(F.preloadingStrategy).\u0275providers:[],null!=F&&F.initialNavigation?Us(F):[],null!=F&&F.bindToComponentInputs?Jr(8,[Zt,{provide:on,useExisting:Zt}]).\u0275providers:[],null!=F&&F.enableViewTransitions?jo().\u0275providers:[],[{provide:Aa,useFactory:Ao},{provide:u.iLQ,multi:!0,useExisting:Aa}]]}}static forChild(T){return{ngModule:D,providers:[{provide:Ea,multi:!0,useValue:T}]}}}return(I=D).\u0275fac=function(T){return new(T||I)(u.KVO(ta,8))},I.\u0275mod=u.$C({type:I}),I.\u0275inj=u.G2t({}),D})();function pl(I){return"guarded"}function Us(I){return["disabled"===I.initialNavigation?Jr(3,[{provide:u.hnV,multi:!0,useFactory:()=>{const D=(0,u.WQX)($n);return()=>{D.setUpLocationChangeListener()}}},{provide:ws,useValue:2}]).\u0275providers:[],"enabledBlocking"===I.initialNavigation?Jr(2,[{provide:ws,useValue:0},{provide:u.hnV,multi:!0,deps:[u.zZn],useFactory:D=>{const P=D.get(Ge.hj,Promise.resolve());return()=>P.then(()=>new Promise(T=>{const F=D.get($n),le=D.get(Wa);Wr(F,()=>{T(!0)}),D.get(je).afterPreactivation=()=>(T(!0),le.closed?(0,ce.of)(void 0):le),F.initialNavigation()}))}}]).\u0275providers:[]]}const Aa=new u.nKC("")},3345:(Dn,At,O)=>{"use strict";O.d(At,{A:()=>Ye});var d=O(1076),u=O(1362),N=O(7852),Te=O(8041);class de{constructor(rt,nt){this._delegate=rt,this.firebase=nt,(0,N._addComponent)(rt,new u.uA("app-compat",()=>this,"PUBLIC")),this.container=rt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(rt){this._delegate.automaticDataCollectionEnabled=rt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(rt=>{this._delegate.checkDestroyed(),rt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(rt,nt=N._DEFAULT_ENTRY_NAME){var Tt;this._delegate.checkDestroyed();const tt=this._delegate.container.getProvider(rt);return!tt.isInitialized()&&"EXPLICIT"===(null===(Tt=tt.getComponent())||void 0===Tt?void 0:Tt.instantiationMode)&&tt.initialize(),tt.getImmediate({identifier:nt})}_removeServiceInstance(rt,nt=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(rt).clearInstance(nt)}_addComponent(rt){(0,N._addComponent)(this._delegate,rt)}_addOrOverwriteComponent(rt){(0,N._addOrOverwriteComponent)(this._delegate,rt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ce=new d.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Pe=function Qe(){const ct=function xe(ct){const rt={},nt={__esModule:!0,initializeApp:function et(dt,St={}){const te=N.initializeApp(dt,St);if((0,d.gR)(rt,te.name))return rt[te.name];const Dt=new ct(te,nt);return rt[te.name]=Dt,Dt},app:tt,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function Ge(dt){const St=dt.name,te=St.replace("-compat","");if(N._registerComponent(dt)&&"PUBLIC"===dt.type){const Dt=(wt=tt())=>{if("function"!=typeof wt[te])throw ce.create("invalid-app-argument",{appName:St});return wt[te]()};void 0!==dt.serviceProps&&(0,d.zw)(Dt,dt.serviceProps),nt[te]=Dt,ct.prototype[te]=function(...wt){return this._getService.bind(this,St).apply(this,dt.multipleInstances?wt:[])}}return"PUBLIC"===dt.type?nt[te]:null},removeApp:function Tt(dt){delete rt[dt]},useAsService:function ze(dt,St){return"serverAuth"===St?null:St},modularAPIs:N}};function tt(dt){if(!(0,d.gR)(rt,dt=dt||N._DEFAULT_ENTRY_NAME))throw ce.create("no-app",{appName:dt});return rt[dt]}return nt.default=nt,Object.defineProperty(nt,"apps",{get:function we(){return Object.keys(rt).map(dt=>rt[dt])}}),tt.App=ct,nt}(de);return ct.INTERNAL=Object.assign(Object.assign({},ct.INTERNAL),{createFirebaseNamespace:Qe,extendNamespace:function rt(nt){(0,d.zw)(ct,nt)},createSubscribe:d.tD,ErrorFactory:d.FA,deepExtend:d.zw}),ct}(),ve=new Te.Vy("@firebase/app-compat");if((0,d.Bd)()&&void 0!==self.firebase){ve.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ct=self.firebase.SDK_VERSION;ct&&ct.indexOf("LITE")>=0&&ve.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ye=Pe;!function We(ct){(0,N.registerVersion)("@firebase/app-compat","0.2.35",ct)}()},7852:(Dn,At,O)=>{"use strict";O.r(At),O.d(At,{FirebaseError:()=>Te.g,SDK_VERSION:()=>Oi,_DEFAULT_ENTRY_NAME:()=>Wn,_addComponent:()=>ur,_addOrOverwriteComponent:()=>Br,_apps:()=>hn,_clearComponents:()=>Qn,_components:()=>tr,_getProvider:()=>Ir,_isFirebaseApp:()=>ui,_isFirebaseServerApp:()=>jn,_registerComponent:()=>Kn,_removeServiceInstance:()=>qn,_serverApps:()=>Un,deleteApp:()=>ot,getApp:()=>Je,getApps:()=>kt,initializeApp:()=>ii,initializeServerApp:()=>mt,onLog:()=>se,registerVersion:()=>ye,setLogLevel:()=>pe});var d=O(467),u=O(1362),N=O(8041),Te=O(1076);const de=($t,ne)=>ne.some(ee=>$t instanceof ee);let Be,ce;const Pe=new WeakMap,ve=new WeakMap,qe=new WeakMap,Ke=new WeakMap,We=new WeakMap;let rt={get($t,ne,ee){if($t instanceof IDBTransaction){if("done"===ne)return ve.get($t);if("objectStoreNames"===ne)return $t.objectStoreNames||qe.get($t);if("store"===ne)return ee.objectStoreNames[1]?void 0:ee.objectStore(ee.objectStoreNames[0])}return et($t[ne])},set:($t,ne,ee)=>($t[ne]=ee,!0),has:($t,ne)=>$t instanceof IDBTransaction&&("done"===ne||"store"===ne)||ne in $t};function tt($t){return"function"==typeof $t?function Tt($t){return $t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Qe(){return ce||(ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes($t)?function(...ne){return $t.apply(we(this),ne),et(Pe.get(this))}:function(...ne){return et($t.apply(we(this),ne))}:function(ne,...ee){const ke=$t.call(we(this),ne,...ee);return qe.set(ke,ne.sort?ne.sort():[ne]),et(ke)}}($t):($t instanceof IDBTransaction&&function ct($t){if(ve.has($t))return;const ne=new Promise((ee,ke)=>{const oe=()=>{$t.removeEventListener("complete",re),$t.removeEventListener("error",Le),$t.removeEventListener("abort",Le)},re=()=>{ee(),oe()},Le=()=>{ke($t.error||new DOMException("AbortError","AbortError")),oe()};$t.addEventListener("complete",re),$t.addEventListener("error",Le),$t.addEventListener("abort",Le)});ve.set($t,ne)}($t),de($t,function xe(){return Be||(Be=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy($t,rt):$t)}function et($t){if($t instanceof IDBRequest)return function Ye($t){const ne=new Promise((ee,ke)=>{const oe=()=>{$t.removeEventListener("success",re),$t.removeEventListener("error",Le)},re=()=>{ee(et($t.result)),oe()},Le=()=>{ke($t.error),oe()};$t.addEventListener("success",re),$t.addEventListener("error",Le)});return ne.then(ee=>{ee instanceof IDBCursor&&Pe.set(ee,$t)}).catch(()=>{}),We.set(ne,$t),ne}($t);if(Ke.has($t))return Ke.get($t);const ne=tt($t);return ne!==$t&&(Ke.set($t,ne),We.set(ne,$t)),ne}const we=$t=>We.get($t),dt=["get","getKey","getAll","getAllKeys","count"],St=["put","add","delete","clear"],te=new Map;function Dt($t,ne){if(!($t instanceof IDBDatabase)||ne in $t||"string"!=typeof ne)return;if(te.get(ne))return te.get(ne);const ee=ne.replace(/FromIndex$/,""),ke=ne!==ee,oe=St.includes(ee);if(!(ee in(ke?IDBIndex:IDBObjectStore).prototype)||!oe&&!dt.includes(ee))return;const re=function(){var Le=(0,d.A)(function*(Mt,...Nt){const An=this.transaction(Mt,oe?"readwrite":"readonly");let rr=An.store;return ke&&(rr=rr.index(Nt.shift())),(yield Promise.all([rr[ee](...Nt),oe&&An.done]))[0]});return function(Nt){return Le.apply(this,arguments)}}();return te.set(ne,re),re}!function nt($t){rt=$t(rt)}($t=>({...$t,get:(ne,ee,ke)=>Dt(ne,ee)||$t.get(ne,ee,ke),has:(ne,ee)=>!!Dt(ne,ee)||$t.has(ne,ee)}));class wt{constructor(ne){this.container=ne}getPlatformInfoString(){return this.container.getProviders().map(ee=>{if(function an($t){const ne=$t.getComponent();return"VERSION"===(null==ne?void 0:ne.type)}(ee)){const ke=ee.getImmediate();return`${ke.library}/${ke.version}`}return null}).filter(ee=>ee).join(" ")}}const zt="@firebase/app",It="0.10.5",Tn=new N.Vy("@firebase/app"),Wn="[DEFAULT]",wn={[zt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},hn=new Map,Un=new Map,tr=new Map;function ur($t,ne){try{$t.container.addComponent(ne)}catch(ee){Tn.debug(`Component ${ne.name} failed to register with FirebaseApp ${$t.name}`,ee)}}function Br($t,ne){$t.container.addOrOverwriteComponent(ne)}function Kn($t){const ne=$t.name;if(tr.has(ne))return Tn.debug(`There were multiple attempts to register component ${ne}.`),!1;tr.set(ne,$t);for(const ee of hn.values())ur(ee,$t);for(const ee of Un.values())ur(ee,$t);return!0}function Ir($t,ne){const ee=$t.container.getProvider("heartbeat").getImmediate({optional:!0});return ee&&ee.triggerHeartbeat(),$t.container.getProvider(ne)}function qn($t,ne,ee=Wn){Ir($t,ne).clearInstance(ee)}function ui($t){return void 0!==$t.options}function jn($t){return void 0!==$t.settings}function Qn(){tr.clear()}const at=new Te.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Dr{constructor(ne,ee,ke){this._isDeleted=!1,this._options=Object.assign({},ne),this._config=Object.assign({},ee),this._name=ee.name,this._automaticDataCollectionEnabled=ee.automaticDataCollectionEnabled,this._container=ke,this.container.addComponent(new u.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ne){this.checkDestroyed(),this._automaticDataCollectionEnabled=ne}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ne){this._isDeleted=ne}checkDestroyed(){if(this.isDeleted)throw at.create("app-deleted",{appName:this._name})}}class Mr extends Dr{constructor(ne,ee,ke,oe){const re=void 0!==ee.automaticDataCollectionEnabled&&ee.automaticDataCollectionEnabled,Le={name:ke,automaticDataCollectionEnabled:re};super(void 0!==ne.apiKey?ne:ne.options,Le,oe),this._serverConfig=Object.assign({automaticDataCollectionEnabled:re},ee),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,ee.releaseOnDeref=void 0,ye(zt,It,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(ne){this.isDeleted||(this._refCount++,void 0!==ne&&this._finalizationRegistry.register(ne,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){ot(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw at.create("server-app-deleted")}}const Oi="10.12.2";function ii($t,ne={}){let ee=$t;"object"!=typeof ne&&(ne={name:ne});const ke=Object.assign({name:Wn,automaticDataCollectionEnabled:!1},ne),oe=ke.name;if("string"!=typeof oe||!oe)throw at.create("bad-app-name",{appName:String(oe)});if(ee||(ee=(0,Te.T9)()),!ee)throw at.create("no-options");const re=hn.get(oe);if(re){if((0,Te.bD)(ee,re.options)&&(0,Te.bD)(ke,re.config))return re;throw at.create("duplicate-app",{appName:oe})}const Le=new u.h1(oe);for(const Nt of tr.values())Le.addComponent(Nt);const Mt=new Dr(ee,ke,Le);return hn.set(oe,Mt),Mt}function mt($t,ne){if((0,Te.Bd)())throw at.create("invalid-server-app-environment");let ee;void 0===ne.automaticDataCollectionEnabled&&(ne.automaticDataCollectionEnabled=!1),ee=ui($t)?$t.options:$t;const ke=Object.assign(Object.assign({},ne),ee);if(void 0!==ke.releaseOnDeref&&delete ke.releaseOnDeref,void 0!==ne.releaseOnDeref&&typeof FinalizationRegistry>"u")throw at.create("finalization-registry-not-supported",{});const re=""+(An=JSON.stringify(ke),[...An].reduce((rr,Yn)=>Math.imul(31,rr)+Yn.charCodeAt(0)|0,0)),Le=Un.get(re);var An;if(Le)return Le.incRefCount(ne.releaseOnDeref),Le;const Mt=new u.h1(re);for(const An of tr.values())Mt.addComponent(An);const Nt=new Mr(ee,ne,re,Mt);return Un.set(re,Nt),Nt}function Je($t=Wn){const ne=hn.get($t);if(!ne&&$t===Wn&&(0,Te.T9)())return ii();if(!ne)throw at.create("no-app",{appName:$t});return ne}function kt(){return Array.from(hn.values())}function ot($t){return fe.apply(this,arguments)}function fe(){return(fe=(0,d.A)(function*($t){let ne=!1;const ee=$t.name;hn.has(ee)?(ne=!0,hn.delete(ee)):Un.has(ee)&&$t.decRefCount()<=0&&(Un.delete(ee),ne=!0),ne&&(yield Promise.all($t.container.getProviders().map(ke=>ke.delete())),$t.isDeleted=!0)})).apply(this,arguments)}function ye($t,ne,ee){var ke;let oe=null!==(ke=wn[$t])&&void 0!==ke?ke:$t;ee&&(oe+=`-${ee}`);const re=oe.match(/\s|\//),Le=ne.match(/\s|\//);if(re||Le){const Mt=[`Unable to register library "${oe}" with version "${ne}":`];return re&&Mt.push(`library name "${oe}" contains illegal characters (whitespace or "/")`),re&&Le&&Mt.push("and"),Le&&Mt.push(`version name "${ne}" contains illegal characters (whitespace or "/")`),void Tn.warn(Mt.join(" "))}Kn(new u.uA(`${oe}-version`,()=>({library:oe,version:ne}),"VERSION"))}function se($t,ne){if(null!==$t&&"function"!=typeof $t)throw at.create("invalid-log-argument");(0,N.Ey)($t,ne)}function pe($t){(0,N.He)($t)}const ie="firebase-heartbeat-database",lt=1,qt="firebase-heartbeat-store";let yn=null;function Nn(){return yn||(yn=function Ge($t,ne,{blocked:ee,upgrade:ke,blocking:oe,terminated:re}={}){const Le=indexedDB.open($t,ne),Mt=et(Le);return ke&&Le.addEventListener("upgradeneeded",Nt=>{ke(et(Le.result),Nt.oldVersion,Nt.newVersion,et(Le.transaction),Nt)}),ee&&Le.addEventListener("blocked",Nt=>ee(Nt.oldVersion,Nt.newVersion,Nt)),Mt.then(Nt=>{re&&Nt.addEventListener("close",()=>re()),oe&&Nt.addEventListener("versionchange",An=>oe(An.oldVersion,An.newVersion,An))}).catch(()=>{}),Mt}(ie,lt,{upgrade:($t,ne)=>{if(0===ne)try{$t.createObjectStore(qt)}catch(ee){console.warn(ee)}}}).catch($t=>{throw at.create("idb-open",{originalErrorMessage:$t.message})})),yn}function Sr(){return(Sr=(0,d.A)(function*($t){try{const ee=(yield Nn()).transaction(qt),ke=yield ee.objectStore(qt).get(nr($t));return yield ee.done,ke}catch(ne){if(ne instanceof Te.g)Tn.warn(ne.message);else{const ee=at.create("idb-get",{originalErrorMessage:null==ne?void 0:ne.message});Tn.warn(ee.message)}}})).apply(this,arguments)}function On($t,ne){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,d.A)(function*($t,ne){try{const ke=(yield Nn()).transaction(qt,"readwrite");yield ke.objectStore(qt).put(ne,nr($t)),yield ke.done}catch(ee){if(ee instanceof Te.g)Tn.warn(ee.message);else{const ke=at.create("idb-set",{originalErrorMessage:null==ee?void 0:ee.message});Tn.warn(ke.message)}}})).apply(this,arguments)}function nr($t){return`${$t.name}!${$t.options.appId}`}class Do{constructor(ne){this.container=ne,this._heartbeatsCache=null;const ee=this.container.getProvider("app").getImmediate();this._storage=new eo(ee),this._heartbeatsCachePromise=this._storage.read().then(ke=>(this._heartbeatsCache=ke,ke))}triggerHeartbeat(){var ne=this;return(0,d.A)(function*(){var ee,ke;const re=ne.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Le=Si();if((null!=(null===(ee=ne._heartbeatsCache)||void 0===ee?void 0:ee.heartbeats)||(ne._heartbeatsCache=yield ne._heartbeatsCachePromise,null!=(null===(ke=ne._heartbeatsCache)||void 0===ke?void 0:ke.heartbeats)))&&ne._heartbeatsCache.lastSentHeartbeatDate!==Le&&!ne._heartbeatsCache.heartbeats.some(Mt=>Mt.date===Le))return ne._heartbeatsCache.heartbeats.push({date:Le,agent:re}),ne._heartbeatsCache.heartbeats=ne._heartbeatsCache.heartbeats.filter(Mt=>{const Nt=new Date(Mt.date).valueOf();return Date.now()-Nt<=2592e6}),ne._storage.overwrite(ne._heartbeatsCache)})()}getHeartbeatsHeader(){var ne=this;return(0,d.A)(function*(){var ee;if(null===ne._heartbeatsCache&&(yield ne._heartbeatsCachePromise),null==(null===(ee=ne._heartbeatsCache)||void 0===ee?void 0:ee.heartbeats)||0===ne._heartbeatsCache.heartbeats.length)return"";const ke=Si(),{heartbeatsToSend:oe,unsentEntries:re}=function Rr($t,ne=1024){const ee=[];let ke=$t.slice();for(const oe of $t){const re=ee.find(Le=>Le.agent===oe.agent);if(re){if(re.dates.push(oe.date),ki(ee)>ne){re.dates.pop();break}}else if(ee.push({agent:oe.agent,dates:[oe.date]}),ki(ee)>ne){ee.pop();break}ke=ke.slice(1)}return{heartbeatsToSend:ee,unsentEntries:ke}}(ne._heartbeatsCache.heartbeats),Le=(0,Te.Uj)(JSON.stringify({version:2,heartbeats:oe}));return ne._heartbeatsCache.lastSentHeartbeatDate=ke,re.length>0?(ne._heartbeatsCache.heartbeats=re,yield ne._storage.overwrite(ne._heartbeatsCache)):(ne._heartbeatsCache.heartbeats=[],ne._storage.overwrite(ne._heartbeatsCache)),Le})()}}function Si(){return(new Date).toISOString().substring(0,10)}class eo{constructor(ne){this.app=ne,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.A)(function*(){return!!(0,Te.zW)()&&(0,Te.eX)().then(()=>!0).catch(()=>!1)})()}read(){var ne=this;return(0,d.A)(function*(){if(yield ne._canUseIndexedDBPromise){const ke=yield function dr($t){return Sr.apply(this,arguments)}(ne.app);return null!=ke&&ke.heartbeats?ke:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(ne){var ee=this;return(0,d.A)(function*(){var ke;if(yield ee._canUseIndexedDBPromise){const re=yield ee.read();return On(ee.app,{lastSentHeartbeatDate:null!==(ke=ne.lastSentHeartbeatDate)&&void 0!==ke?ke:re.lastSentHeartbeatDate,heartbeats:ne.heartbeats})}})()}add(ne){var ee=this;return(0,d.A)(function*(){var ke;if(yield ee._canUseIndexedDBPromise){const re=yield ee.read();return On(ee.app,{lastSentHeartbeatDate:null!==(ke=ne.lastSentHeartbeatDate)&&void 0!==ke?ke:re.lastSentHeartbeatDate,heartbeats:[...re.heartbeats,...ne.heartbeats]})}})()}}function ki($t){return(0,Te.Uj)(JSON.stringify({version:2,heartbeats:$t})).length}!function to($t){Kn(new u.uA("platform-logger",ne=>new wt(ne),"PRIVATE")),Kn(new u.uA("heartbeat",ne=>new Do(ne),"PRIVATE")),ye(zt,It,$t),ye(zt,It,"esm2017"),ye("fire-js","")}("")},1362:(Dn,At,O)=>{"use strict";O.d(At,{h1:()=>xe,uA:()=>N});var d=O(467),u=O(1076);class N{constructor(Pe,ve,qe){this.name=Pe,this.instanceFactory=ve,this.type=qe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Pe){return this.instantiationMode=Pe,this}setMultipleInstances(Pe){return this.multipleInstances=Pe,this}setServiceProps(Pe){return this.serviceProps=Pe,this}setInstanceCreatedCallback(Pe){return this.onInstanceCreated=Pe,this}}const Te="[DEFAULT]";class de{constructor(Pe,ve){this.name=Pe,this.container=ve,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Pe){const ve=this.normalizeInstanceIdentifier(Pe);if(!this.instancesDeferred.has(ve)){const qe=new u.cY;if(this.instancesDeferred.set(ve,qe),this.isInitialized(ve)||this.shouldAutoInitialize())try{const Ke=this.getOrInitializeService({instanceIdentifier:ve});Ke&&qe.resolve(Ke)}catch{}}return this.instancesDeferred.get(ve).promise}getImmediate(Pe){var ve;const qe=this.normalizeInstanceIdentifier(null==Pe?void 0:Pe.identifier),Ke=null!==(ve=null==Pe?void 0:Pe.optional)&&void 0!==ve&&ve;if(!this.isInitialized(qe)&&!this.shouldAutoInitialize()){if(Ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:qe})}catch(We){if(Ke)return null;throw We}}getComponent(){return this.component}setComponent(Pe){if(Pe.name!==this.name)throw Error(`Mismatching Component ${Pe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Pe,this.shouldAutoInitialize()){if(function ce(Qe){return"EAGER"===Qe.instantiationMode}(Pe))try{this.getOrInitializeService({instanceIdentifier:Te})}catch{}for(const[ve,qe]of this.instancesDeferred.entries()){const Ke=this.normalizeInstanceIdentifier(ve);try{const We=this.getOrInitializeService({instanceIdentifier:Ke});qe.resolve(We)}catch{}}}}clearInstance(Pe=Te){this.instancesDeferred.delete(Pe),this.instancesOptions.delete(Pe),this.instances.delete(Pe)}delete(){var Pe=this;return(0,d.A)(function*(){const ve=Array.from(Pe.instances.values());yield Promise.all([...ve.filter(qe=>"INTERNAL"in qe).map(qe=>qe.INTERNAL.delete()),...ve.filter(qe=>"_delete"in qe).map(qe=>qe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Pe=Te){return this.instances.has(Pe)}getOptions(Pe=Te){return this.instancesOptions.get(Pe)||{}}initialize(Pe={}){const{options:ve={}}=Pe,qe=this.normalizeInstanceIdentifier(Pe.instanceIdentifier);if(this.isInitialized(qe))throw Error(`${this.name}(${qe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ke=this.getOrInitializeService({instanceIdentifier:qe,options:ve});for(const[We,Ye]of this.instancesDeferred.entries())qe===this.normalizeInstanceIdentifier(We)&&Ye.resolve(Ke);return Ke}onInit(Pe,ve){var qe;const Ke=this.normalizeInstanceIdentifier(ve),We=null!==(qe=this.onInitCallbacks.get(Ke))&&void 0!==qe?qe:new Set;We.add(Pe),this.onInitCallbacks.set(Ke,We);const Ye=this.instances.get(Ke);return Ye&&Pe(Ye,Ke),()=>{We.delete(Pe)}}invokeOnInitCallbacks(Pe,ve){const qe=this.onInitCallbacks.get(ve);if(qe)for(const Ke of qe)try{Ke(Pe,ve)}catch{}}getOrInitializeService({instanceIdentifier:Pe,options:ve={}}){let qe=this.instances.get(Pe);if(!qe&&this.component&&(qe=this.component.instanceFactory(this.container,{instanceIdentifier:(Qe=Pe,Qe===Te?void 0:Qe),options:ve}),this.instances.set(Pe,qe),this.instancesOptions.set(Pe,ve),this.invokeOnInitCallbacks(qe,Pe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Pe,qe)}catch{}var Qe;return qe||null}normalizeInstanceIdentifier(Pe=Te){return this.component?this.component.multipleInstances?Pe:Te:Pe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class xe{constructor(Pe){this.name=Pe,this.providers=new Map}addComponent(Pe){const ve=this.getProvider(Pe.name);if(ve.isComponentSet())throw new Error(`Component ${Pe.name} has already been registered with ${this.name}`);ve.setComponent(Pe)}addOrOverwriteComponent(Pe){this.getProvider(Pe.name).isComponentSet()&&this.providers.delete(Pe.name),this.addComponent(Pe)}getProvider(Pe){if(this.providers.has(Pe))return this.providers.get(Pe);const ve=new de(Pe,this);return this.providers.set(Pe,ve),ve}getProviders(){return Array.from(this.providers.values())}}},8041:(Dn,At,O)=>{"use strict";O.d(At,{$b:()=>u,Ey:()=>Qe,He:()=>xe,Vy:()=>ce});const d=[];var u=function(Pe){return Pe[Pe.DEBUG=0]="DEBUG",Pe[Pe.VERBOSE=1]="VERBOSE",Pe[Pe.INFO=2]="INFO",Pe[Pe.WARN=3]="WARN",Pe[Pe.ERROR=4]="ERROR",Pe[Pe.SILENT=5]="SILENT",Pe}(u||{});const N={debug:u.DEBUG,verbose:u.VERBOSE,info:u.INFO,warn:u.WARN,error:u.ERROR,silent:u.SILENT},Te=u.INFO,de={[u.DEBUG]:"log",[u.VERBOSE]:"log",[u.INFO]:"info",[u.WARN]:"warn",[u.ERROR]:"error"},Be=(Pe,ve,...qe)=>{if(ve<Pe.logLevel)return;const Ke=(new Date).toISOString(),We=de[ve];if(!We)throw new Error(`Attempted to log a message with an invalid logType (value: ${ve})`);console[We](`[${Ke}]  ${Pe.name}:`,...qe)};class ce{constructor(ve){this.name=ve,this._logLevel=Te,this._logHandler=Be,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(ve){if(!(ve in u))throw new TypeError(`Invalid value "${ve}" assigned to \`logLevel\``);this._logLevel=ve}setLogLevel(ve){this._logLevel="string"==typeof ve?N[ve]:ve}get logHandler(){return this._logHandler}set logHandler(ve){if("function"!=typeof ve)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ve}get userLogHandler(){return this._userLogHandler}set userLogHandler(ve){this._userLogHandler=ve}debug(...ve){this._userLogHandler&&this._userLogHandler(this,u.DEBUG,...ve),this._logHandler(this,u.DEBUG,...ve)}log(...ve){this._userLogHandler&&this._userLogHandler(this,u.VERBOSE,...ve),this._logHandler(this,u.VERBOSE,...ve)}info(...ve){this._userLogHandler&&this._userLogHandler(this,u.INFO,...ve),this._logHandler(this,u.INFO,...ve)}warn(...ve){this._userLogHandler&&this._userLogHandler(this,u.WARN,...ve),this._logHandler(this,u.WARN,...ve)}error(...ve){this._userLogHandler&&this._userLogHandler(this,u.ERROR,...ve),this._logHandler(this,u.ERROR,...ve)}}function xe(Pe){d.forEach(ve=>{ve.setLogLevel(Pe)})}function Qe(Pe,ve){for(const qe of d){let Ke=null;ve&&ve.level&&(Ke=N[ve.level]),qe.userLogHandler=null===Pe?null:(We,Ye,...ct)=>{const rt=ct.map(nt=>{if(null==nt)return null;if("string"==typeof nt)return nt;if("number"==typeof nt||"boolean"==typeof nt)return nt.toString();if(nt instanceof Error)return nt.message;try{return JSON.stringify(nt)}catch{return null}}).filter(nt=>nt).join(" ");Ye>=(null!=Ke?Ke:We.logLevel)&&Pe({level:u[Ye].toLowerCase(),message:rt,args:ct,type:We.name})}}}},2872:(Dn,At,O)=>{"use strict";O.d(At,{Yq:()=>vt,TS:()=>Pn,sR:()=>Jn,el:()=>Nn,Sb:()=>jn,QE:()=>nr,CF:()=>Ir,Rg:()=>ye,p4:()=>Xr,jM:()=>to,q9:()=>Lt,Kb:()=>$t,CE:()=>dr,pF:()=>Sr,fL:()=>Do,YV:()=>lt,er:()=>oi,z3:()=>Si});var d=O(467),u=O(9842),N=O(4438),Te=O(4964),de=O(177),Be=O(5531),ce=O(4442);var wt=O(1413),an=O(3726),zt=O(4412),It=O(4572),Tn=O(7673),$e=O(1635),J=O(5964),B=O(5558),R=O(3294),H=O(4341);const Ee=["tabsInner"];let Xe=(()=>{var ne;class ee{constructor(oe,re){(0,u.A)(this,"doc",void 0),(0,u.A)(this,"_readyPromise",void 0),(0,u.A)(this,"win",void 0),(0,u.A)(this,"backButton",new wt.B),(0,u.A)(this,"keyboardDidShow",new wt.B),(0,u.A)(this,"keyboardDidHide",new wt.B),(0,u.A)(this,"pause",new wt.B),(0,u.A)(this,"resume",new wt.B),(0,u.A)(this,"resize",new wt.B),this.doc=oe,re.run(()=>{var Le;let Mt;this.win=oe.defaultView,this.backButton.subscribeWithPriority=function(Nt,An){return this.subscribe(rr=>rr.register(Nt,Yn=>re.run(()=>An(Yn))))},ft(this.pause,oe,"pause",re),ft(this.resume,oe,"resume",re),ft(this.backButton,oe,"ionBackButton",re),ft(this.resize,this.win,"resize",re),ft(this.keyboardDidShow,this.win,"ionKeyboardDidShow",re),ft(this.keyboardDidHide,this.win,"ionKeyboardDidHide",re),this._readyPromise=new Promise(Nt=>{Mt=Nt}),null!==(Le=this.win)&&void 0!==Le&&Le.cordova?oe.addEventListener("deviceready",()=>{Mt("cordova")},{once:!0}):Mt("dom")})}is(oe){return(0,Be.a)(this.win,oe)}platforms(){return(0,Be.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(oe){return jt(this.win.location.href,oe)}isLandscape(){return!this.isPortrait()}isPortrait(){var oe,re;return null===(oe=(re=this.win).matchMedia)||void 0===oe?void 0:oe.call(re,"(orientation: portrait)").matches}testUserAgent(oe){const re=this.win.navigator;return!!(null!=re&&re.userAgent&&re.userAgent.indexOf(oe)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return ne=ee,(0,u.A)(ee,"\u0275fac",function(oe){return new(oe||ne)(N.KVO(de.qQ),N.KVO(N.SKi))}),(0,u.A)(ee,"\u0275prov",N.jDH({token:ne,factory:ne.\u0275fac,providedIn:"root"})),ee})();const jt=(ne,ee)=>{ee=ee.replace(/[[\]\\]/g,"\\$&");const oe=new RegExp("[\\?&]"+ee+"=([^&#]*)").exec(ne);return oe?decodeURIComponent(oe[1].replace(/\+/g," ")):null},ft=(ne,ee,ke,oe)=>{ee&&ee.addEventListener(ke,re=>{oe.run(()=>{ne.next(null!=re?re.detail:void 0)})})};let Lt=(()=>{var ne;class ee{constructor(oe,re,Le,Mt){(0,u.A)(this,"location",void 0),(0,u.A)(this,"serializer",void 0),(0,u.A)(this,"router",void 0),(0,u.A)(this,"topOutlet",void 0),(0,u.A)(this,"direction",Sn),(0,u.A)(this,"animated",Jt),(0,u.A)(this,"animationBuilder",void 0),(0,u.A)(this,"guessDirection","forward"),(0,u.A)(this,"guessAnimation",void 0),(0,u.A)(this,"lastNavId",-1),this.location=re,this.serializer=Le,this.router=Mt,Mt&&Mt.events.subscribe(Nt=>{if(Nt instanceof Te.Z){const An=Nt.restoredState?Nt.restoredState.navigationId:Nt.id;this.guessDirection=this.guessAnimation=An<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?Nt.id:An}}),oe.backButton.subscribeWithPriority(0,Nt=>{this.pop(),Nt()})}navigateForward(oe,re={}){return this.setDirection("forward",re.animated,re.animationDirection,re.animation),this.navigate(oe,re)}navigateBack(oe,re={}){return this.setDirection("back",re.animated,re.animationDirection,re.animation),this.navigate(oe,re)}navigateRoot(oe,re={}){return this.setDirection("root",re.animated,re.animationDirection,re.animation),this.navigate(oe,re)}back(oe={animated:!0,animationDirection:"back"}){return this.setDirection("back",oe.animated,oe.animationDirection,oe.animation),this.location.back()}pop(){var oe=this;return(0,d.A)(function*(){let re=oe.topOutlet;for(;re;){if(yield re.pop())return!0;re=re.parentOutlet}return!1})()}setDirection(oe,re,Le,Mt){this.direction=oe,this.animated=gn(oe,re,Le),this.animationBuilder=Mt}setTopOutlet(oe){this.topOutlet=oe}consumeTransition(){let re,oe="root";const Le=this.animationBuilder;return"auto"===this.direction?(oe=this.guessDirection,re=this.guessAnimation):(re=this.animated,oe=this.direction),this.direction=Sn,this.animated=Jt,this.animationBuilder=void 0,{direction:oe,animation:re,animationBuilder:Le}}navigate(oe,re){if(Array.isArray(oe))return this.router.navigate(oe,re);{const Le=this.serializer.parse(oe.toString());return void 0!==re.queryParams&&(Le.queryParams={...re.queryParams}),void 0!==re.fragment&&(Le.fragment=re.fragment),this.router.navigateByUrl(Le,re)}}}return ne=ee,(0,u.A)(ee,"\u0275fac",function(oe){return new(oe||ne)(N.KVO(Xe),N.KVO(de.aZ),N.KVO(Te.Sd),N.KVO(Te.Ix,8))}),(0,u.A)(ee,"\u0275prov",N.jDH({token:ne,factory:ne.\u0275fac,providedIn:"root"})),ee})();const gn=(ne,ee,ke)=>{if(!1!==ee){if(void 0!==ke)return ke;if("forward"===ne||"back"===ne)return ne;if("root"===ne&&!0===ee)return"forward"}},Sn="auto",Jt=void 0;let Pn=(()=>{var ne;class ee{get(oe,re){const Le=bn();return Le?Le.get(oe,re):null}getBoolean(oe,re){const Le=bn();return!!Le&&Le.getBoolean(oe,re)}getNumber(oe,re){const Le=bn();return Le?Le.getNumber(oe,re):0}}return ne=ee,(0,u.A)(ee,"\u0275fac",function(oe){return new(oe||ne)}),(0,u.A)(ee,"\u0275prov",N.jDH({token:ne,factory:ne.\u0275fac,providedIn:"root"})),ee})();const Jn=new N.nKC("USERCONFIG"),bn=()=>{if(typeof window<"u"){const ne=window.Ionic;if(null!=ne&&ne.config)return ne.config}return null};class nn{constructor(ee={}){(0,u.A)(this,"data",void 0),this.data=ee,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(ee){return this.data[ee]}}let vt=(()=>{var ne;class ee{constructor(){(0,u.A)(this,"zone",(0,N.WQX)(N.SKi)),(0,u.A)(this,"applicationRef",(0,N.WQX)(N.o8S)),(0,u.A)(this,"config",(0,N.WQX)(Jn))}create(oe,re,Le){var Mt;return new pt(oe,re,this.applicationRef,this.zone,Le,null!==(Mt=this.config.useSetInputAPI)&&void 0!==Mt&&Mt)}}return ne=ee,(0,u.A)(ee,"\u0275fac",function(oe){return new(oe||ne)}),(0,u.A)(ee,"\u0275prov",N.jDH({token:ne,factory:ne.\u0275fac})),ee})();class pt{constructor(ee,ke,oe,re,Le,Mt){(0,u.A)(this,"environmentInjector",void 0),(0,u.A)(this,"injector",void 0),(0,u.A)(this,"applicationRef",void 0),(0,u.A)(this,"zone",void 0),(0,u.A)(this,"elementReferenceKey",void 0),(0,u.A)(this,"enableSignalsSupport",void 0),(0,u.A)(this,"elRefMap",new WeakMap),(0,u.A)(this,"elEventsMap",new WeakMap),this.environmentInjector=ee,this.injector=ke,this.applicationRef=oe,this.zone=re,this.elementReferenceKey=Le,this.enableSignalsSupport=Mt}attachViewToDom(ee,ke,oe,re){return this.zone.run(()=>new Promise(Le=>{const Mt={...oe};void 0!==this.elementReferenceKey&&(Mt[this.elementReferenceKey]=ee),Le(Ft(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,ee,ke,Mt,re,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(ee,ke){return this.zone.run(()=>new Promise(oe=>{const re=this.elRefMap.get(ke);if(re){re.destroy(),this.elRefMap.delete(ke);const Le=this.elEventsMap.get(ke);Le&&(Le(),this.elEventsMap.delete(ke))}oe()}))}}const Ft=(ne,ee,ke,oe,re,Le,Mt,Nt,An,rr,Yn,yi)=>{const zi=N.zZn.create({providers:Wn(An),parent:ke}),Ii=(0,N.a0P)(Nt,{environmentInjector:ee,elementInjector:zi}),Ln=Ii.instance,gi=Ii.location.nativeElement;if(An)if(Yn&&void 0!==Ln[Yn]&&console.error(`[Ionic Error]: ${Yn} is a reserved property when using ${Mt.tagName.toLowerCase()}. Rename or remove the "${Yn}" property from ${Nt.name}.`),!0===yi&&void 0!==Ii.setInput){const{modal:Ei,popover:jr,...Er}=An;for(const no in Er)Ii.setInput(no,Er[no]);void 0!==Ei&&Object.assign(Ln,{modal:Ei}),void 0!==jr&&Object.assign(Ln,{popover:jr})}else Object.assign(Ln,An);if(rr)for(const Ei of rr)gi.classList.add(Ei);const Ki=Qt(ne,Ln,gi);return Mt.appendChild(gi),oe.attachView(Ii.hostView),re.set(gi,Ii),Le.set(gi,Ki),gi},rn=[ce.L,ce.a,ce.b,ce.c,ce.d],Qt=(ne,ee,ke)=>ne.run(()=>{const oe=rn.filter(re=>"function"==typeof ee[re]).map(re=>{const Le=Mt=>ee[re](Mt.detail);return ke.addEventListener(re,Le),()=>ke.removeEventListener(re,Le)});return()=>oe.forEach(re=>re())}),or=new N.nKC("NavParamsToken"),Wn=ne=>[{provide:or,useValue:ne},{provide:nn,useFactory:wn,deps:[or]}],wn=ne=>new nn(ne),hn=(ne,ee)=>{const ke=ne.prototype;ee.forEach(oe=>{Object.defineProperty(ke,oe,{get(){return this.el[oe]},set(re){this.z.runOutsideAngular(()=>this.el[oe]=re)}})})},Un=(ne,ee)=>{const ke=ne.prototype;ee.forEach(oe=>{ke[oe]=function(){const re=arguments;return this.z.runOutsideAngular(()=>this.el[oe].apply(this.el,re))}})},tr=(ne,ee,ke)=>{ke.forEach(oe=>ne[oe]=(0,an.R)(ee,oe))};function ur(ne){return function(ke){const{defineCustomElementFn:oe,inputs:re,methods:Le}=ne;return void 0!==oe&&oe(),re&&hn(ke,re),Le&&Un(ke,Le),ke}}const Br=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],Kn=["present","dismiss","onDidDismiss","onWillDismiss"];let Ir=(()=>{var ne;let ee=((0,u.A)(ne=class{constructor(oe,re,Le){(0,u.A)(this,"z",void 0),(0,u.A)(this,"template",void 0),(0,u.A)(this,"isCmpOpen",!1),(0,u.A)(this,"el",void 0),this.z=Le,this.el=re.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,oe.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,oe.detectChanges()}),tr(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(oe){return new(oe||ne)(N.rXU(N.gRc),N.rXU(N.aKT),N.rXU(N.SKi))}),(0,u.A)(ne,"\u0275dir",N.FsC({type:ne,selectors:[["ion-popover"]],contentQueries:function(oe,re,Le){if(1&oe&&N.wni(Le,N.C4Q,5),2&oe){let Mt;N.mGM(Mt=N.lsd())&&(re.template=Mt.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}})),ne);return ee=(0,$e.Cg)([ur({inputs:Br,methods:Kn})],ee),ee})();const qn=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],ui=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let jn=(()=>{var ne;let ee=((0,u.A)(ne=class{constructor(oe,re,Le){(0,u.A)(this,"z",void 0),(0,u.A)(this,"template",void 0),(0,u.A)(this,"isCmpOpen",!1),(0,u.A)(this,"el",void 0),this.z=Le,this.el=re.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,oe.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,oe.detectChanges()}),tr(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(oe){return new(oe||ne)(N.rXU(N.gRc),N.rXU(N.aKT),N.rXU(N.SKi))}),(0,u.A)(ne,"\u0275dir",N.FsC({type:ne,selectors:[["ion-modal"]],contentQueries:function(oe,re,Le){if(1&oe&&N.wni(Le,N.C4Q,5),2&oe){let Mt;N.mGM(Mt=N.lsd())&&(re.template=Mt.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}})),ne);return ee=(0,$e.Cg)([ur({inputs:qn,methods:ui})],ee),ee})();const mi=(ne,ee)=>((ne=ne.filter(ke=>ke.stackId!==ee.stackId)).push(ee),ne),Mr=(ne,ee)=>{const ke=ne.createUrlTree(["."],{relativeTo:ee});return ne.serializeUrl(ke)},Oi=(ne,ee)=>!ee||ne.stackId!==ee.stackId,ii=(ne,ee)=>{if(!ne)return;const ke=mt(ee);for(let oe=0;oe<ke.length;oe++){if(oe>=ne.length)return ke[oe];if(ke[oe]!==ne[oe])return}},mt=ne=>ne.split("/").map(ee=>ee.trim()).filter(ee=>""!==ee),Je=ne=>{ne&&(ne.ref.destroy(),ne.unlistenEvents())};class kt{constructor(ee,ke,oe,re,Le,Mt){(0,u.A)(this,"containerEl",void 0),(0,u.A)(this,"router",void 0),(0,u.A)(this,"navCtrl",void 0),(0,u.A)(this,"zone",void 0),(0,u.A)(this,"location",void 0),(0,u.A)(this,"views",[]),(0,u.A)(this,"runningTask",void 0),(0,u.A)(this,"skipTransition",!1),(0,u.A)(this,"tabsPrefix",void 0),(0,u.A)(this,"activeView",void 0),(0,u.A)(this,"nextId",0),this.containerEl=ke,this.router=oe,this.navCtrl=re,this.zone=Le,this.location=Mt,this.tabsPrefix=void 0!==ee?mt(ee):void 0}createView(ee,ke){var oe;const re=Mr(this.router,ke),Le=null==ee||null===(oe=ee.location)||void 0===oe?void 0:oe.nativeElement,Mt=Qt(this.zone,ee.instance,Le);return{id:this.nextId++,stackId:ii(this.tabsPrefix,re),unlistenEvents:Mt,element:Le,ref:ee,url:re}}getExistingView(ee){const ke=Mr(this.router,ee),oe=this.views.find(re=>re.url===ke);return oe&&oe.ref.changeDetectorRef.reattach(),oe}setActive(ee){var ke,oe;const re=this.navCtrl.consumeTransition();let{direction:Le,animation:Mt,animationBuilder:Nt}=re;const An=this.activeView,rr=Oi(ee,An);rr&&(Le="back",Mt=void 0);const Yn=this.views.slice();let yi;const zi=this.router;zi.getCurrentNavigation?yi=zi.getCurrentNavigation():null!==(ke=zi.navigations)&&void 0!==ke&&ke.value&&(yi=zi.navigations.value),null!==(oe=yi)&&void 0!==oe&&null!==(oe=oe.extras)&&void 0!==oe&&oe.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Ii=this.views.includes(ee),Ln=this.insertView(ee,Le);Ii||ee.ref.changeDetectorRef.detectChanges();const gi=ee.animationBuilder;return void 0===Nt&&"back"===Le&&!rr&&void 0!==gi&&(Nt=gi),An&&(An.animationBuilder=Nt),this.zone.runOutsideAngular(()=>this.wait(()=>(An&&An.ref.changeDetectorRef.detach(),ee.ref.changeDetectorRef.reattach(),this.transition(ee,An,Mt,this.canGoBack(1),!1,Nt).then(()=>ot(ee,Ln,Yn,this.location,this.zone)).then(()=>({enteringView:ee,direction:Le,animation:Mt,tabSwitch:rr})))))}canGoBack(ee,ke=this.getActiveStackId()){return this.getStack(ke).length>ee}pop(ee,ke=this.getActiveStackId()){return this.zone.run(()=>{const oe=this.getStack(ke);if(oe.length<=ee)return Promise.resolve(!1);const re=oe[oe.length-ee-1];let Le=re.url;const Mt=re.savedData;if(Mt){var Nt;const rr=Mt.get("primary");null!=rr&&null!==(Nt=rr.route)&&void 0!==Nt&&null!==(Nt=Nt._routerState)&&void 0!==Nt&&Nt.snapshot.url&&(Le=rr.route._routerState.snapshot.url)}const{animationBuilder:An}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Le,{...re.savedExtras,animation:An}).then(()=>!0)})}startBackTransition(){const ee=this.activeView;if(ee){const ke=this.getStack(ee.stackId),oe=ke[ke.length-2],re=oe.animationBuilder;return this.wait(()=>this.transition(oe,ee,"back",this.canGoBack(2),!0,re))}return Promise.resolve()}endBackTransition(ee){ee?(this.skipTransition=!0,this.pop(1)):this.activeView&&fe(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(ee){const ke=this.getStack(ee);return ke.length>0?ke[ke.length-1]:void 0}getRootUrl(ee){const ke=this.getStack(ee);return ke.length>0?ke[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Je),this.activeView=void 0,this.views=[]}getStack(ee){return this.views.filter(ke=>ke.stackId===ee)}insertView(ee,ke){return this.activeView=ee,this.views=((ne,ee,ke)=>"root"===ke?mi(ne,ee):"forward"===ke?((ne,ee)=>(ne.indexOf(ee)>=0?ne=ne.filter(oe=>oe.stackId!==ee.stackId||oe.id<=ee.id):ne.push(ee),ne))(ne,ee):((ne,ee)=>ne.indexOf(ee)>=0?ne.filter(oe=>oe.stackId!==ee.stackId||oe.id<=ee.id):mi(ne,ee))(ne,ee))(this.views,ee,ke),this.views.slice()}transition(ee,ke,oe,re,Le,Mt){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(ke===ee)return Promise.resolve(!1);const Nt=ee?ee.element:void 0,An=ke?ke.element:void 0,rr=this.containerEl;return Nt&&Nt!==An&&(Nt.classList.add("ion-page"),Nt.classList.add("ion-page-invisible"),rr.commit)?rr.commit(Nt,An,{duration:void 0===oe?0:void 0,direction:oe,showGoBack:re,progressAnimation:Le,animationBuilder:Mt}):Promise.resolve(!1)}wait(ee){var ke=this;return(0,d.A)(function*(){void 0!==ke.runningTask&&(yield ke.runningTask,ke.runningTask=void 0);const oe=ke.runningTask=ee();return oe.finally(()=>ke.runningTask=void 0),oe})()}}const ot=(ne,ee,ke,oe,re)=>"function"==typeof requestAnimationFrame?new Promise(Le=>{requestAnimationFrame(()=>{fe(ne,ee,ke,oe,re),Le()})}):Promise.resolve(),fe=(ne,ee,ke,oe,re)=>{re.run(()=>ke.filter(Le=>!ee.includes(Le)).forEach(Je)),ee.forEach(Le=>{const Nt=oe.path().split("?")[0].split("#")[0];if(Le!==ne&&Le.url!==Nt){const An=Le.element;An.setAttribute("aria-hidden","true"),An.classList.add("ion-page-hidden"),Le.ref.changeDetectorRef.detach()}})};let ye=(()=>{var ne;class ee{get activatedComponentRef(){return this.activated}set animation(oe){this.nativeEl.animation=oe}set animated(oe){this.nativeEl.animated=oe}set swipeGesture(oe){this._swipeGesture=oe,this.nativeEl.swipeHandler=oe?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:re=>this.stackCtrl.endBackTransition(re)}:void 0}constructor(oe,re,Le,Mt,Nt,An,rr,Yn){(0,u.A)(this,"parentOutlet",void 0),(0,u.A)(this,"nativeEl",void 0),(0,u.A)(this,"activatedView",null),(0,u.A)(this,"tabsPrefix",void 0),(0,u.A)(this,"_swipeGesture",void 0),(0,u.A)(this,"stackCtrl",void 0),(0,u.A)(this,"proxyMap",new WeakMap),(0,u.A)(this,"currentActivatedRoute$",new zt.t(null)),(0,u.A)(this,"activated",null),(0,u.A)(this,"_activatedRoute",null),(0,u.A)(this,"name",Te.Xk),(0,u.A)(this,"stackWillChange",new N.bkB),(0,u.A)(this,"stackDidChange",new N.bkB),(0,u.A)(this,"activateEvents",new N.bkB),(0,u.A)(this,"deactivateEvents",new N.bkB),(0,u.A)(this,"parentContexts",(0,N.WQX)(Te.Zp)),(0,u.A)(this,"location",(0,N.WQX)(N.c1b)),(0,u.A)(this,"environmentInjector",(0,N.WQX)(N.uvJ)),(0,u.A)(this,"inputBinder",(0,N.WQX)(pe,{optional:!0})),(0,u.A)(this,"supportsBindingToComponentInputs",!0),(0,u.A)(this,"config",(0,N.WQX)(Pn)),(0,u.A)(this,"navCtrl",(0,N.WQX)(Lt)),this.parentOutlet=Yn,this.nativeEl=Mt.nativeElement,this.name=oe||Te.Xk,this.tabsPrefix="true"===re?Mr(Nt,rr):void 0,this.stackCtrl=new kt(this.tabsPrefix,this.nativeEl,Nt,this.navCtrl,An,Le),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){var oe;this.stackCtrl.destroy(),null===(oe=this.inputBinder)||void 0===oe||oe.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const oe=this.getContext();null!=oe&&oe.route&&this.activateWith(oe.route,oe.injector)}new Promise(oe=>((ne,ee)=>{ne.componentOnReady?ne.componentOnReady().then(ke=>ee(ke)):(ne=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ne):"function"==typeof requestAnimationFrame?requestAnimationFrame(ne):setTimeout(ne)})(()=>ee(ne))})(this.nativeEl,oe)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(oe,re){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const re=this.getContext();this.activatedView.savedData=new Map(re.children.contexts);const Le=this.activatedView.savedData.get("primary");if(Le&&re.route&&(Le.route={...re.route}),this.activatedView.savedExtras={},re.route){const Mt=re.route.snapshot;this.activatedView.savedExtras.queryParams=Mt.queryParams,this.activatedView.savedExtras.fragment=Mt.fragment}}const oe=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(oe)}}activateWith(oe,re){var Le;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=oe;let Mt,Nt=this.stackCtrl.getExistingView(oe);if(Nt){Mt=this.activated=Nt.ref;const Yn=Nt.savedData;Yn&&(this.getContext().children.contexts=Yn),this.updateActivatedRouteProxy(Mt.instance,oe)}else{var An;const Yn=oe._futureSnapshot,yi=this.parentContexts.getOrCreateContext(this.name).children,zi=new zt.t(null),Ii=this.createActivatedRouteProxy(zi,oe),Ln=new se(Ii,yi,this.location.injector),gi=null!==(An=Yn.routeConfig.component)&&void 0!==An?An:Yn.component;Mt=this.activated=this.outletContent.createComponent(gi,{index:this.outletContent.length,injector:Ln,environmentInjector:null!=re?re:this.environmentInjector}),zi.next(Mt.instance),Nt=this.stackCtrl.createView(this.activated,oe),this.proxyMap.set(Mt.instance,Ii),this.currentActivatedRoute$.next({component:Mt.instance,activatedRoute:oe})}null===(Le=this.inputBinder)||void 0===Le||Le.bindActivatedRouteToOutletComponent(this),this.activatedView=Nt,this.navCtrl.setTopOutlet(this);const rr=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:Nt,tabSwitch:Oi(Nt,rr)}),this.stackCtrl.setActive(Nt).then(Yn=>{this.activateEvents.emit(Mt.instance),this.stackDidChange.emit(Yn)})}canGoBack(oe=1,re){return this.stackCtrl.canGoBack(oe,re)}pop(oe=1,re){return this.stackCtrl.pop(oe,re)}getLastUrl(oe){const re=this.stackCtrl.getLastUrl(oe);return re?re.url:void 0}getLastRouteView(oe){return this.stackCtrl.getLastUrl(oe)}getRootView(oe){return this.stackCtrl.getRootUrl(oe)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(oe,re){const Le=new Te.nX;return Le._futureSnapshot=re._futureSnapshot,Le._routerState=re._routerState,Le.snapshot=re.snapshot,Le.outlet=re.outlet,Le.component=re.component,Le._paramMap=this.proxyObservable(oe,"paramMap"),Le._queryParamMap=this.proxyObservable(oe,"queryParamMap"),Le.url=this.proxyObservable(oe,"url"),Le.params=this.proxyObservable(oe,"params"),Le.queryParams=this.proxyObservable(oe,"queryParams"),Le.fragment=this.proxyObservable(oe,"fragment"),Le.data=this.proxyObservable(oe,"data"),Le}proxyObservable(oe,re){return oe.pipe((0,J.p)(Le=>!!Le),(0,B.n)(Le=>this.currentActivatedRoute$.pipe((0,J.p)(Mt=>null!==Mt&&Mt.component===Le),(0,B.n)(Mt=>Mt&&Mt.activatedRoute[re]),(0,R.F)())))}updateActivatedRouteProxy(oe,re){const Le=this.proxyMap.get(oe);if(!Le)throw new Error("Could not find activated route proxy for view");Le._futureSnapshot=re._futureSnapshot,Le._routerState=re._routerState,Le.snapshot=re.snapshot,Le.outlet=re.outlet,Le.component=re.component,this.currentActivatedRoute$.next({component:oe,activatedRoute:re})}}return ne=ee,(0,u.A)(ee,"\u0275fac",function(oe){return new(oe||ne)(N.kS0("name"),N.kS0("tabs"),N.rXU(de.aZ),N.rXU(N.aKT),N.rXU(Te.Ix),N.rXU(N.SKi),N.rXU(Te.nX),N.rXU(ne,12))}),(0,u.A)(ee,"\u0275dir",N.FsC({type:ne,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]})),ee})();class se{constructor(ee,ke,oe){(0,u.A)(this,"route",void 0),(0,u.A)(this,"childContexts",void 0),(0,u.A)(this,"parent",void 0),this.route=ee,this.childContexts=ke,this.parent=oe}get(ee,ke){return ee===Te.nX?this.route:ee===Te.Zp?this.childContexts:this.parent.get(ee,ke)}}const pe=new N.nKC("");let ie=(()=>{var ne;class ee{constructor(){(0,u.A)(this,"outletDataSubscriptions",new Map)}bindActivatedRouteToOutletComponent(oe){this.unsubscribeFromRouteData(oe),this.subscribeToRouteData(oe)}unsubscribeFromRouteData(oe){var re;null===(re=this.outletDataSubscriptions.get(oe))||void 0===re||re.unsubscribe(),this.outletDataSubscriptions.delete(oe)}subscribeToRouteData(oe){const{activatedRoute:re}=oe,Le=(0,It.z)([re.queryParams,re.params,re.data]).pipe((0,B.n)(([Mt,Nt,An],rr)=>(An={...Mt,...Nt,...An},0===rr?(0,Tn.of)(An):Promise.resolve(An)))).subscribe(Mt=>{if(!oe.isActivated||!oe.activatedComponentRef||oe.activatedRoute!==re||null===re.component)return void this.unsubscribeFromRouteData(oe);const Nt=(0,N.HJs)(re.component);if(Nt)for(const{templateName:An}of Nt.inputs)oe.activatedComponentRef.setInput(An,Mt[An]);else this.unsubscribeFromRouteData(oe)});this.outletDataSubscriptions.set(oe,Le)}}return ne=ee,(0,u.A)(ee,"\u0275fac",function(oe){return new(oe||ne)}),(0,u.A)(ee,"\u0275prov",N.jDH({token:ne,factory:ne.\u0275fac})),ee})();const lt=()=>({provide:pe,useFactory:qt,deps:[Te.Ix]});function qt(ne){return null!=ne&&ne.componentInputBindingEnabled?new ie:null}const yn=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let Nn=(()=>{var ne;let ee=((0,u.A)(ne=class{constructor(oe,re,Le,Mt,Nt,An){(0,u.A)(this,"routerOutlet",void 0),(0,u.A)(this,"navCtrl",void 0),(0,u.A)(this,"config",void 0),(0,u.A)(this,"r",void 0),(0,u.A)(this,"z",void 0),(0,u.A)(this,"el",void 0),this.routerOutlet=oe,this.navCtrl=re,this.config=Le,this.r=Mt,this.z=Nt,An.detach(),this.el=this.r.nativeElement}onClick(oe){var re;const Le=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(re=this.routerOutlet)&&void 0!==re&&re.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),oe.preventDefault()):null!=Le&&(this.navCtrl.navigateBack(Le,{animation:this.routerAnimation}),oe.preventDefault())}},"\u0275fac",function(oe){return new(oe||ne)(N.rXU(ye,8),N.rXU(Lt),N.rXU(Pn),N.rXU(N.aKT),N.rXU(N.SKi),N.rXU(N.gRc))}),(0,u.A)(ne,"\u0275dir",N.FsC({type:ne,hostBindings:function(oe,re){1&oe&&N.bIt("click",function(Mt){return re.onClick(Mt)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}})),ne);return ee=(0,$e.Cg)([ur({inputs:yn})],ee),ee})(),dr=(()=>{var ne;class ee{constructor(oe,re,Le,Mt,Nt){(0,u.A)(this,"locationStrategy",void 0),(0,u.A)(this,"navCtrl",void 0),(0,u.A)(this,"elementRef",void 0),(0,u.A)(this,"router",void 0),(0,u.A)(this,"routerLink",void 0),(0,u.A)(this,"routerDirection","forward"),(0,u.A)(this,"routerAnimation",void 0),this.locationStrategy=oe,this.navCtrl=re,this.elementRef=Le,this.router=Mt,this.routerLink=Nt}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var oe;if(null!==(oe=this.routerLink)&&void 0!==oe&&oe.urlTree){const re=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=re}}onClick(oe){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),oe.preventDefault()}}return ne=ee,(0,u.A)(ee,"\u0275fac",function(oe){return new(oe||ne)(N.rXU(de.hb),N.rXU(Lt),N.rXU(N.aKT),N.rXU(Te.Ix),N.rXU(Te.Wk,8))}),(0,u.A)(ee,"\u0275dir",N.FsC({type:ne,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(oe,re){1&oe&&N.bIt("click",function(Mt){return re.onClick(Mt)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[N.OA$]})),ee})(),Sr=(()=>{var ne;class ee{constructor(oe,re,Le,Mt,Nt){(0,u.A)(this,"locationStrategy",void 0),(0,u.A)(this,"navCtrl",void 0),(0,u.A)(this,"elementRef",void 0),(0,u.A)(this,"router",void 0),(0,u.A)(this,"routerLink",void 0),(0,u.A)(this,"routerDirection","forward"),(0,u.A)(this,"routerAnimation",void 0),this.locationStrategy=oe,this.navCtrl=re,this.elementRef=Le,this.router=Mt,this.routerLink=Nt}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var oe;if(null!==(oe=this.routerLink)&&void 0!==oe&&oe.urlTree){const re=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=re}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return ne=ee,(0,u.A)(ee,"\u0275fac",function(oe){return new(oe||ne)(N.rXU(de.hb),N.rXU(Lt),N.rXU(N.aKT),N.rXU(Te.Ix),N.rXU(Te.Wk,8))}),(0,u.A)(ee,"\u0275dir",N.FsC({type:ne,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(oe,re){1&oe&&N.bIt("click",function(){return re.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[N.OA$]})),ee})();const On=["animated","animation","root","rootParams","swipeGesture"],Mn=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let nr=(()=>{var ne;let ee=((0,u.A)(ne=class{constructor(oe,re,Le,Mt,Nt,An){(0,u.A)(this,"z",void 0),(0,u.A)(this,"el",void 0),this.z=Nt,An.detach(),this.el=oe.nativeElement,oe.nativeElement.delegate=Mt.create(re,Le),tr(this,this.el,["ionNavDidChange","ionNavWillChange"])}},"\u0275fac",function(oe){return new(oe||ne)(N.rXU(N.aKT),N.rXU(N.uvJ),N.rXU(N.zZn),N.rXU(vt),N.rXU(N.SKi),N.rXU(N.gRc))}),(0,u.A)(ne,"\u0275dir",N.FsC({type:ne,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}})),ne);return ee=(0,$e.Cg)([ur({inputs:On,methods:Mn})],ee),ee})(),Xr=(()=>{var ne;class ee{constructor(oe){(0,u.A)(this,"navCtrl",void 0),(0,u.A)(this,"tabsInner",void 0),(0,u.A)(this,"ionTabsWillChange",new N.bkB),(0,u.A)(this,"ionTabsDidChange",new N.bkB),(0,u.A)(this,"tabBarSlot","bottom"),this.navCtrl=oe}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:oe,tabSwitch:re}){const Le=oe.stackId;re&&void 0!==Le&&this.ionTabsWillChange.emit({tab:Le})}onStackDidChange({enteringView:oe,tabSwitch:re}){const Le=oe.stackId;re&&void 0!==Le&&(this.tabBar&&(this.tabBar.selectedTab=Le),this.ionTabsDidChange.emit({tab:Le}))}select(oe){const re="string"==typeof oe,Le=re?oe:oe.detail.tab,Mt=this.outlet.getActiveStackId()===Le,Nt=`${this.outlet.tabsPrefix}/${Le}`;if(re||oe.stopPropagation(),Mt){const An=this.outlet.getActiveStackId(),rr=this.outlet.getLastRouteView(An);if((null==rr?void 0:rr.url)===Nt)return;const Yn=this.outlet.getRootView(Le);return this.navCtrl.navigateRoot(Nt,{...Yn&&Nt===Yn.url&&Yn.savedExtras,animated:!0,animationDirection:"back"})}{const An=this.outlet.getLastRouteView(Le);return this.navCtrl.navigateRoot((null==An?void 0:An.url)||Nt,{...null==An?void 0:An.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(oe=>{const re=oe.el.getAttribute("slot");re!==this.tabBarSlot&&(this.tabBarSlot=re,this.relocateTabBar())})}relocateTabBar(){const oe=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(oe):this.tabsInner.nativeElement.after(oe)}}return ne=ee,(0,u.A)(ee,"\u0275fac",function(oe){return new(oe||ne)(N.rXU(Lt))}),(0,u.A)(ee,"\u0275dir",N.FsC({type:ne,selectors:[["ion-tabs"]],viewQuery:function(oe,re){if(1&oe&&N.GBs(Ee,7,N.aKT),2&oe){let Le;N.mGM(Le=N.lsd())&&(re.tabsInner=Le.first)}},hostBindings:function(oe,re){1&oe&&N.bIt("ionTabButtonClick",function(Mt){return re.select(Mt)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}})),ee})();const oi=ne=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ne):"function"==typeof requestAnimationFrame?requestAnimationFrame(ne):setTimeout(ne);let Do=(()=>{var ne;class ee{constructor(oe,re){(0,u.A)(this,"injector",void 0),(0,u.A)(this,"elementRef",void 0),(0,u.A)(this,"onChange",()=>{}),(0,u.A)(this,"onTouched",()=>{}),(0,u.A)(this,"lastValue",void 0),(0,u.A)(this,"statusChanges",void 0),this.injector=oe,this.elementRef=re}writeValue(oe){this.elementRef.nativeElement.value=this.lastValue=oe,Si(this.elementRef)}handleValueChange(oe,re){oe===this.elementRef.nativeElement&&(re!==this.lastValue&&(this.lastValue=re,this.onChange(re)),Si(this.elementRef))}_handleBlurEvent(oe){oe===this.elementRef.nativeElement&&(this.onTouched(),Si(this.elementRef))}registerOnChange(oe){this.onChange=oe}registerOnTouched(oe){this.onTouched=oe}setDisabledState(oe){this.elementRef.nativeElement.disabled=oe}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let oe;try{oe=this.injector.get(H.vO)}catch{}if(!oe)return;oe.statusChanges&&(this.statusChanges=oe.statusChanges.subscribe(()=>Si(this.elementRef)));const re=oe.control;re&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Mt=>{if(typeof re[Mt]<"u"){const Nt=re[Mt].bind(re);re[Mt]=(...An)=>{Nt(...An),Si(this.elementRef)}}})}}return ne=ee,(0,u.A)(ee,"\u0275fac",function(oe){return new(oe||ne)(N.rXU(N.zZn),N.rXU(N.aKT))}),(0,u.A)(ee,"\u0275dir",N.FsC({type:ne,hostBindings:function(oe,re){1&oe&&N.bIt("ionBlur",function(Mt){return re._handleBlurEvent(Mt.target)})}})),ee})();const Si=ne=>{oi(()=>{const ee=ne.nativeElement,ke=null!=ee.value&&ee.value.toString().length>0,oe=Rr(ee);eo(ee,oe);const re=ee.closest("ion-item");re&&eo(re,ke?[...oe,"item-has-value"]:oe)})},Rr=ne=>{const ee=ne.classList,ke=[];for(let oe=0;oe<ee.length;oe++){const re=ee.item(oe);null!==re&&ki(re,"ng-")&&ke.push(`ion-${re.substring(3)}`)}return ke},eo=(ne,ee)=>{const ke=ne.classList;ke.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),ke.add(...ee)},ki=(ne,ee)=>ne.substring(0,ee.length)===ee;class to{shouldDetach(ee){return!1}shouldAttach(ee){return!1}store(ee,ke){}retrieve(ee){return null}shouldReuseRoute(ee,ke){if(ee.routeConfig!==ke.routeConfig)return!1;const oe=ee.params,re=ke.params,Le=Object.keys(oe),Mt=Object.keys(re);if(Le.length!==Mt.length)return!1;for(const Nt of Le)if(re[Nt]!==oe[Nt])return!1;return!0}}class $t{constructor(ee){(0,u.A)(this,"ctrl",void 0),this.ctrl=ee}create(ee){return this.ctrl.create(ee||{})}dismiss(ee,ke,oe){return this.ctrl.dismiss(ee,ke,oe)}getTop(){return this.ctrl.getTop()}}},7863:(Dn,At,O)=>{"use strict";O.d(At,{hG:()=>Io,U1:()=>gn,Jm:()=>nn,QW:()=>vt,hU:()=>hn,W9:()=>Un,M0:()=>qn,lO:()=>ui,eU:()=>jn,iq:()=>Qn,$w:()=>Mr,uz:()=>ii,Rg:()=>jr,ln:()=>ne,nc:()=>zi,BC:()=>Ln,ai:()=>Ei,bv:()=>ai,Xi:()=>lr,Gw:()=>R});var d=O(9842),u=O(4438),N=O(4341),Te=O(2872),de=O(1635),Be=O(3726),ce=O(177),xe=O(4964),We=(O(9986),O(2725),O(8454),O(3314),O(8607),O(3664)),Ye=O(464),rt=(O(5465),O(6002)),Tt=(O(8476),O(9672));O(1970),O(6411);var ze=O(467);const dt=We.i,St=function(){var S=(0,ze.A)(function*(Q,_e){if(!(typeof window>"u"))return yield dt(),(0,Tt.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[33,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker",[[33,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[1,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[38,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-option",[[33,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[33,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[38,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}]]]]'),_e)});return function(_e,x){return S.apply(this,arguments)}}(),te=["*"],Dt=["outletContent"];let R=(()=>{var S;class Q extends Te.fL{constructor(x,Ce){super(x,Ce)}_handleInputEvent(x){this.handleValueChange(x,x.value)}}return S=Q,(0,d.A)(Q,"\u0275fac",function(x){return new(x||S)(u.rXU(u.zZn),u.rXU(u.aKT))}),(0,d.A)(Q,"\u0275dir",u.FsC({type:S,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(x,Ce){1&x&&u.bIt("ionInput",function(mr){return Ce._handleInputEvent(mr.target)})},features:[u.Jv_([{provide:N.kq,useExisting:S,multi:!0}]),u.Vt3]})),Q})();const H=(S,Q)=>{const _e=S.prototype;Q.forEach(x=>{Object.defineProperty(_e,x,{get(){return this.el[x]},set(Ce){this.z.runOutsideAngular(()=>this.el[x]=Ce)},configurable:!0})})},Ee=(S,Q)=>{const _e=S.prototype;Q.forEach(x=>{_e[x]=function(){const Ce=arguments;return this.z.runOutsideAngular(()=>this.el[x].apply(this.el,Ce))}})},Ve=(S,Q,_e)=>{_e.forEach(x=>S[x]=(0,Be.R)(Q,x))};function Me(S){return function(_e){const{defineCustomElementFn:x,inputs:Ce,methods:ht}=S;return void 0!==x&&x(),Ce&&H(_e,Ce),ht&&Ee(_e,ht),_e}}let gn=(()=>{var S;let Q=((0,d.A)(S=class{constructor(x,Ce,ht){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ht,x.detach(),this.el=Ce.nativeElement}},"\u0275fac",function(x){return new(x||S)(u.rXU(u.gRc),u.rXU(u.aKT),u.rXU(u.SKi))}),(0,d.A)(S,"\u0275cmp",u.VBU({type:S,selectors:[["ion-app"]],ngContentSelectors:te,decls:1,vars:0,template:function(x,Ce){1&x&&(u.NAR(),u.SdG(0))},encapsulation:2,changeDetection:0})),S);return Q=(0,de.Cg)([Me({})],Q),Q})(),nn=(()=>{var S;let Q=((0,d.A)(S=class{constructor(x,Ce,ht){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ht,x.detach(),this.el=Ce.nativeElement,Ve(this,this.el,["ionFocus","ionBlur"])}},"\u0275fac",function(x){return new(x||S)(u.rXU(u.gRc),u.rXU(u.aKT),u.rXU(u.SKi))}),(0,d.A)(S,"\u0275cmp",u.VBU({type:S,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:te,decls:1,vars:0,template:function(x,Ce){1&x&&(u.NAR(),u.SdG(0))},encapsulation:2,changeDetection:0})),S);return Q=(0,de.Cg)([Me({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],Q),Q})(),vt=(()=>{var S;let Q=((0,d.A)(S=class{constructor(x,Ce,ht){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ht,x.detach(),this.el=Ce.nativeElement}},"\u0275fac",function(x){return new(x||S)(u.rXU(u.gRc),u.rXU(u.aKT),u.rXU(u.SKi))}),(0,d.A)(S,"\u0275cmp",u.VBU({type:S,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:te,decls:1,vars:0,template:function(x,Ce){1&x&&(u.NAR(),u.SdG(0))},encapsulation:2,changeDetection:0})),S);return Q=(0,de.Cg)([Me({inputs:["collapse"]})],Q),Q})(),hn=(()=>{var S;let Q=((0,d.A)(S=class{constructor(x,Ce,ht){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ht,x.detach(),this.el=Ce.nativeElement}},"\u0275fac",function(x){return new(x||S)(u.rXU(u.gRc),u.rXU(u.aKT),u.rXU(u.SKi))}),(0,d.A)(S,"\u0275cmp",u.VBU({type:S,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:te,decls:1,vars:0,template:function(x,Ce){1&x&&(u.NAR(),u.SdG(0))},encapsulation:2,changeDetection:0})),S);return Q=(0,de.Cg)([Me({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],Q),Q})(),Un=(()=>{var S;let Q=((0,d.A)(S=class{constructor(x,Ce,ht){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ht,x.detach(),this.el=Ce.nativeElement,Ve(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}},"\u0275fac",function(x){return new(x||S)(u.rXU(u.gRc),u.rXU(u.aKT),u.rXU(u.SKi))}),(0,d.A)(S,"\u0275cmp",u.VBU({type:S,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:te,decls:1,vars:0,template:function(x,Ce){1&x&&(u.NAR(),u.SdG(0))},encapsulation:2,changeDetection:0})),S);return Q=(0,de.Cg)([Me({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],Q),Q})(),qn=(()=>{var S;let Q=((0,d.A)(S=class{constructor(x,Ce,ht){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ht,x.detach(),this.el=Ce.nativeElement}},"\u0275fac",function(x){return new(x||S)(u.rXU(u.gRc),u.rXU(u.aKT),u.rXU(u.SKi))}),(0,d.A)(S,"\u0275cmp",u.VBU({type:S,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:te,decls:1,vars:0,template:function(x,Ce){1&x&&(u.NAR(),u.SdG(0))},encapsulation:2,changeDetection:0})),S);return Q=(0,de.Cg)([Me({inputs:["collapse","mode","translucent"]})],Q),Q})(),ui=(()=>{var S;let Q=((0,d.A)(S=class{constructor(x,Ce,ht){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ht,x.detach(),this.el=Ce.nativeElement}},"\u0275fac",function(x){return new(x||S)(u.rXU(u.gRc),u.rXU(u.aKT),u.rXU(u.SKi))}),(0,d.A)(S,"\u0275cmp",u.VBU({type:S,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:te,decls:1,vars:0,template:function(x,Ce){1&x&&(u.NAR(),u.SdG(0))},encapsulation:2,changeDetection:0})),S);return Q=(0,de.Cg)([Me({inputs:["fixed"]})],Q),Q})(),jn=(()=>{var S;let Q=((0,d.A)(S=class{constructor(x,Ce,ht){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ht,x.detach(),this.el=Ce.nativeElement}},"\u0275fac",function(x){return new(x||S)(u.rXU(u.gRc),u.rXU(u.aKT),u.rXU(u.SKi))}),(0,d.A)(S,"\u0275cmp",u.VBU({type:S,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:te,decls:1,vars:0,template:function(x,Ce){1&x&&(u.NAR(),u.SdG(0))},encapsulation:2,changeDetection:0})),S);return Q=(0,de.Cg)([Me({inputs:["collapse","mode","translucent"]})],Q),Q})(),Qn=(()=>{var S;let Q=((0,d.A)(S=class{constructor(x,Ce,ht){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ht,x.detach(),this.el=Ce.nativeElement}},"\u0275fac",function(x){return new(x||S)(u.rXU(u.gRc),u.rXU(u.aKT),u.rXU(u.SKi))}),(0,d.A)(S,"\u0275cmp",u.VBU({type:S,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:te,decls:1,vars:0,template:function(x,Ce){1&x&&(u.NAR(),u.SdG(0))},encapsulation:2,changeDetection:0})),S);return Q=(0,de.Cg)([Me({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],Q),Q})(),Mr=(()=>{var S;let Q=((0,d.A)(S=class{constructor(x,Ce,ht){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ht,x.detach(),this.el=Ce.nativeElement,Ve(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}},"\u0275fac",function(x){return new(x||S)(u.rXU(u.gRc),u.rXU(u.aKT),u.rXU(u.SKi))}),(0,d.A)(S,"\u0275cmp",u.VBU({type:S,selectors:[["ion-input"]],inputs:{autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearInputIcon:"clearInputIcon",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:te,decls:1,vars:0,template:function(x,Ce){1&x&&(u.NAR(),u.SdG(0))},encapsulation:2,changeDetection:0})),S);return Q=(0,de.Cg)([Me({inputs:["autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],Q),Q})(),ii=(()=>{var S;let Q=((0,d.A)(S=class{constructor(x,Ce,ht){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ht,x.detach(),this.el=Ce.nativeElement}},"\u0275fac",function(x){return new(x||S)(u.rXU(u.gRc),u.rXU(u.aKT),u.rXU(u.SKi))}),(0,d.A)(S,"\u0275cmp",u.VBU({type:S,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:te,decls:1,vars:0,template:function(x,Ce){1&x&&(u.NAR(),u.SdG(0))},encapsulation:2,changeDetection:0})),S);return Q=(0,de.Cg)([Me({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],Q),Q})(),ne=(()=>{var S;let Q=((0,d.A)(S=class{constructor(x,Ce,ht){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ht,x.detach(),this.el=Ce.nativeElement}},"\u0275fac",function(x){return new(x||S)(u.rXU(u.gRc),u.rXU(u.aKT),u.rXU(u.SKi))}),(0,d.A)(S,"\u0275cmp",u.VBU({type:S,selectors:[["ion-row"]],ngContentSelectors:te,decls:1,vars:0,template:function(x,Ce){1&x&&(u.NAR(),u.SdG(0))},encapsulation:2,changeDetection:0})),S);return Q=(0,de.Cg)([Me({})],Q),Q})(),zi=(()=>{var S;let Q=((0,d.A)(S=class{constructor(x,Ce,ht){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ht,x.detach(),this.el=Ce.nativeElement,Ve(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}},"\u0275fac",function(x){return new(x||S)(u.rXU(u.gRc),u.rXU(u.aKT),u.rXU(u.SKi))}),(0,d.A)(S,"\u0275cmp",u.VBU({type:S,selectors:[["ion-textarea"]],inputs:{autoGrow:"autoGrow",autocapitalize:"autocapitalize",autofocus:"autofocus",clearOnEdit:"clearOnEdit",color:"color",cols:"cols",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",readonly:"readonly",required:"required",rows:"rows",shape:"shape",spellcheck:"spellcheck",value:"value",wrap:"wrap"},ngContentSelectors:te,decls:1,vars:0,template:function(x,Ce){1&x&&(u.NAR(),u.SdG(0))},encapsulation:2,changeDetection:0})),S);return Q=(0,de.Cg)([Me({inputs:["autoGrow","autocapitalize","autofocus","clearOnEdit","color","cols","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","maxlength","minlength","mode","name","placeholder","readonly","required","rows","shape","spellcheck","value","wrap"],methods:["setFocus","getInputElement"]})],Q),Q})(),Ln=(()=>{var S;let Q=((0,d.A)(S=class{constructor(x,Ce,ht){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ht,x.detach(),this.el=Ce.nativeElement}},"\u0275fac",function(x){return new(x||S)(u.rXU(u.gRc),u.rXU(u.aKT),u.rXU(u.SKi))}),(0,d.A)(S,"\u0275cmp",u.VBU({type:S,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:te,decls:1,vars:0,template:function(x,Ce){1&x&&(u.NAR(),u.SdG(0))},encapsulation:2,changeDetection:0})),S);return Q=(0,de.Cg)([Me({inputs:["color","size"]})],Q),Q})(),Ei=(()=>{var S;let Q=((0,d.A)(S=class{constructor(x,Ce,ht){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ht,x.detach(),this.el=Ce.nativeElement}},"\u0275fac",function(x){return new(x||S)(u.rXU(u.gRc),u.rXU(u.aKT),u.rXU(u.SKi))}),(0,d.A)(S,"\u0275cmp",u.VBU({type:S,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:te,decls:1,vars:0,template:function(x,Ce){1&x&&(u.NAR(),u.SdG(0))},encapsulation:2,changeDetection:0})),S);return Q=(0,de.Cg)([Me({inputs:["color","mode"]})],Q),Q})(),jr=(()=>{var S;class Q extends Te.Rg{constructor(x,Ce,ht,mr,Ai,K,he,Se){super(x,Ce,ht,mr,Ai,K,he,Se),(0,d.A)(this,"parentOutlet",void 0),(0,d.A)(this,"outletContent",void 0),this.parentOutlet=Se}}return S=Q,(0,d.A)(Q,"\u0275fac",function(x){return new(x||S)(u.kS0("name"),u.kS0("tabs"),u.rXU(ce.aZ),u.rXU(u.aKT),u.rXU(xe.Ix),u.rXU(u.SKi),u.rXU(xe.nX),u.rXU(S,12))}),(0,d.A)(Q,"\u0275cmp",u.VBU({type:S,selectors:[["ion-router-outlet"]],viewQuery:function(x,Ce){if(1&x&&u.GBs(Dt,7,u.c1b),2&x){let ht;u.mGM(ht=u.lsd())&&(Ce.outletContent=ht.first)}},features:[u.Vt3],ngContentSelectors:te,decls:3,vars:0,consts:[["outletContent",""]],template:function(x,Ce){1&x&&(u.NAR(),u.qex(0,null,0),u.SdG(2),u.bVm())},encapsulation:2})),Q})();const hr={provide:N.cz,useExisting:(0,u.Rfq)(()=>Fr),multi:!0};let Fr=(()=>{var S;class Q extends N.zX{}return S=Q,(0,d.A)(Q,"\u0275fac",(()=>{let _e;return function(Ce){return(_e||(_e=u.xGo(S)))(Ce||S)}})()),(0,d.A)(Q,"\u0275dir",u.FsC({type:S,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(x,Ce){2&x&&u.BMQ("max",Ce._enabled?Ce.max:null)},features:[u.Jv_([hr]),u.Vt3]})),Q})();const Li={provide:N.cz,useExisting:(0,u.Rfq)(()=>Hi),multi:!0};let Hi=(()=>{var S;class Q extends N.VZ{}return S=Q,(0,d.A)(Q,"\u0275fac",(()=>{let _e;return function(Ce){return(_e||(_e=u.xGo(S)))(Ce||S)}})()),(0,d.A)(Q,"\u0275dir",u.FsC({type:S,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(x,Ce){2&x&&u.BMQ("min",Ce._enabled?Ce.min:null)},features:[u.Jv_([Li]),u.Vt3]})),Q})(),Io=(()=>{var S;class Q extends Te.Kb{constructor(){super(rt.a)}}return S=Q,(0,d.A)(Q,"\u0275fac",function(x){return new(x||S)}),(0,d.A)(Q,"\u0275prov",u.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})),Q})(),lr=(()=>{var S;class Q extends Te.Kb{constructor(){super(rt.l)}}return S=Q,(0,d.A)(Q,"\u0275fac",function(x){return new(x||S)}),(0,d.A)(Q,"\u0275prov",u.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})),Q})(),vs=(()=>{var S;class Q extends Te.Kb{constructor(){super(rt.m),(0,d.A)(this,"angularDelegate",(0,u.WQX)(Te.Yq)),(0,d.A)(this,"injector",(0,u.WQX)(u.zZn)),(0,d.A)(this,"environmentInjector",(0,u.WQX)(u.uvJ))}create(x){return super.create({...x,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return S=Q,(0,d.A)(Q,"\u0275fac",function(x){return new(x||S)}),(0,d.A)(Q,"\u0275prov",u.jDH({token:S,factory:S.\u0275fac})),Q})();class No extends Te.Kb{constructor(){super(rt.c),(0,d.A)(this,"angularDelegate",(0,u.WQX)(Te.Yq)),(0,d.A)(this,"injector",(0,u.WQX)(u.zZn)),(0,d.A)(this,"environmentInjector",(0,u.WQX)(u.uvJ))}create(Q){return super.create({...Q,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const Go=(S,Q,_e)=>()=>{const x=Q.defaultView;if(x&&typeof window<"u"){(0,Ye.s)({...S,_zoneGate:ht=>_e.run(ht)});const Ce="__zone_symbol__addEventListener"in Q.body?"__zone_symbol__addEventListener":"addEventListener";return function Ge(){var S=[];if(typeof window<"u"){var Q=window;(!Q.customElements||Q.Element&&(!Q.Element.prototype.closest||!Q.Element.prototype.matches||!Q.Element.prototype.remove||!Q.Element.prototype.getRootNode))&&S.push(O.e(7278).then(O.t.bind(O,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||Q.NodeList&&!Q.NodeList.prototype.forEach||!Q.fetch||!function(){try{var x=new URL("b","http://a");return x.pathname="c%20d","http://a/c%20d"===x.href&&x.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&S.push(O.e(9329).then(O.t.bind(O,7783,23)))}return Promise.all(S)}().then(()=>St(x,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Te.er,jmp:ht=>_e.runOutsideAngular(ht),ael(ht,mr,Ai,K){ht[Ce](mr,Ai,K)},rel(ht,mr,Ai,K){ht.removeEventListener(mr,Ai,K)}}))}};let ai=(()=>{var S;class Q{static forRoot(x={}){return{ngModule:Q,providers:[{provide:Te.sR,useValue:x},{provide:u.hnV,useFactory:Go,multi:!0,deps:[Te.sR,ce.qQ,u.SKi]},Te.Yq,(0,Te.YV)()]}}}return S=Q,(0,d.A)(Q,"\u0275fac",function(x){return new(x||S)}),(0,d.A)(Q,"\u0275mod",u.$C({type:S})),(0,d.A)(Q,"\u0275inj",u.G2t({providers:[vs,No],imports:[ce.MD]})),Q})()},2214:(Dn,At,O)=>{"use strict";O.d(At,{Dk:()=>d.getApps,KO:()=>d.registerVersion,Sx:()=>d.getApp,Wp:()=>d.initializeApp});var d=O(7852);(0,d.registerVersion)("firebase","10.12.2","app")},7935:(Dn,At,O)=>{"use strict";O.d(At,{A:()=>d.A});var d=O(3345);d.A.registerVersion("firebase","10.12.2","app-compat")},2438:(Dn,At,O)=>{"use strict";O.r(At);var d=O(467),u=O(3345),N=O(4033),Te=O(1076),ce=(O(7852),O(8041),O(1362));function xe(){return window}function ve(){return ve=(0,d.A)(function*(se,pe,ie){var lt;const{BuildInfo:qt}=xe();(0,N.au)(pe.sessionId,"AuthEvent did not contain a session ID");const yn=yield function nt(se){return Tt.apply(this,arguments)}(pe.sessionId),Nn={};return(0,N.av)()?Nn.ibi=qt.packageName:(0,N.aw)()?Nn.apn=qt.packageName:(0,N.ax)(se,"operation-not-supported-in-this-environment"),qt.displayName&&(Nn.appDisplayName=qt.displayName),Nn.sessionId=yn,(0,N.ay)(se,ie,pe.type,void 0,null!==(lt=pe.eventId)&&void 0!==lt?lt:void 0,Nn)}),ve.apply(this,arguments)}function Ke(){return(Ke=(0,d.A)(function*(se){const{BuildInfo:pe}=xe(),ie={};(0,N.av)()?ie.iosBundleId=pe.packageName:(0,N.aw)()?ie.androidPackageName=pe.packageName:(0,N.ax)(se,"operation-not-supported-in-this-environment"),yield(0,N.az)(se,ie)})).apply(this,arguments)}function ct(){return(ct=(0,d.A)(function*(se,pe,ie){const{cordova:lt}=xe();let qt=()=>{};try{yield new Promise((yn,Nn)=>{let dr=null;function Sr(){var nr;yn();const Xr=null===(nr=lt.plugins.browsertab)||void 0===nr?void 0:nr.close;"function"==typeof Xr&&Xr(),"function"==typeof(null==ie?void 0:ie.close)&&ie.close()}function On(){dr||(dr=window.setTimeout(()=>{Nn((0,N.aB)(se,"redirect-cancelled-by-user"))},2e3))}function Mn(){"visible"===(null==document?void 0:document.visibilityState)&&On()}pe.addPassiveListener(Sr),document.addEventListener("resume",On,!1),(0,N.aw)()&&document.addEventListener("visibilitychange",Mn,!1),qt=()=>{pe.removePassiveListener(Sr),document.removeEventListener("resume",On,!1),document.removeEventListener("visibilitychange",Mn,!1),dr&&window.clearTimeout(dr)}})}finally{qt()}})).apply(this,arguments)}function Tt(){return(Tt=(0,d.A)(function*(se){const pe=function tt(se){if((0,N.au)(/[0-9a-zA-Z]+/.test(se),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(se);const pe=new ArrayBuffer(se.length),ie=new Uint8Array(pe);for(let lt=0;lt<se.length;lt++)ie[lt]=se.charCodeAt(lt);return ie}(se),ie=yield crypto.subtle.digest("SHA-256",pe);return Array.from(new Uint8Array(ie)).map(qt=>qt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class we extends N.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(pe=>{this.resolveInialized=pe})}addPassiveListener(pe){this.passiveListeners.add(pe)}removePassiveListener(pe){this.passiveListeners.delete(pe)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(pe){return this.resolveInialized(),this.passiveListeners.forEach(ie=>ie(pe)),super.onEvent(pe)}initialized(){var pe=this;return(0,d.A)(function*(){yield pe.initPromise})()}}function dt(se){return St.apply(this,arguments)}function St(){return(St=(0,d.A)(function*(se){const pe=yield wt()._get(an(se));return pe&&(yield wt()._remove(an(se))),pe})).apply(this,arguments)}function Dt(){const se=[];for(let ie=0;ie<20;ie++){const lt=Math.floor(62*Math.random());se.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(lt))}return se.join("")}function wt(){return(0,N.aE)(N.b)}function an(se){return(0,N.aF)("authEvent",se.config.apiKey,se.name)}function Tn(se){if(null==se||!se.includes("?"))return{};const[pe,...ie]=se.split("?");return(0,Te.I9)(ie.join("?"))}const B=class J{constructor(){this._redirectPersistence=N.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=N.aG,this._overrideRedirectResult=N.aH}_initialize(pe){var ie=this;return(0,d.A)(function*(){const lt=pe._key();let qt=ie.eventManagers.get(lt);return qt||(qt=new we(pe),ie.eventManagers.set(lt,qt),ie.attachCallbackListeners(pe,qt)),qt})()}_openPopup(pe){(0,N.ax)(pe,"operation-not-supported-in-this-environment")}_openRedirect(pe,ie,lt,qt){var yn=this;return(0,d.A)(function*(){!function rt(se){var pe,ie,lt,qt,yn,Nn,dr,Sr,On,Mn;const nr=xe();(0,N.aC)("function"==typeof(null===(pe=null==nr?void 0:nr.universalLinks)||void 0===pe?void 0:pe.subscribe),se,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,N.aC)(typeof(null===(ie=null==nr?void 0:nr.BuildInfo)||void 0===ie?void 0:ie.packageName)<"u",se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,N.aC)("function"==typeof(null===(yn=null===(qt=null===(lt=null==nr?void 0:nr.cordova)||void 0===lt?void 0:lt.plugins)||void 0===qt?void 0:qt.browsertab)||void 0===yn?void 0:yn.openUrl),se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.aC)("function"==typeof(null===(Sr=null===(dr=null===(Nn=null==nr?void 0:nr.cordova)||void 0===Nn?void 0:Nn.plugins)||void 0===dr?void 0:dr.browsertab)||void 0===Sr?void 0:Sr.isAvailable),se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.aC)("function"==typeof(null===(Mn=null===(On=null==nr?void 0:nr.cordova)||void 0===On?void 0:On.InAppBrowser)||void 0===Mn?void 0:Mn.open),se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(pe);const Nn=yield yn._initialize(pe);yield Nn.initialized(),Nn.resetRedirect(),(0,N.aI)(),yield yn._originValidation(pe);const dr=function Ge(se,pe,ie=null){return{type:pe,eventId:ie,urlResponse:null,sessionId:Dt(),postBody:null,tenantId:se.tenantId,error:(0,N.aB)(se,"no-auth-event")}}(pe,lt,qt);yield function ze(se,pe){return wt()._set(an(se),pe)}(pe,dr);const Sr=yield function Pe(se,pe,ie){return ve.apply(this,arguments)}(pe,dr,ie),On=yield function We(se){const{cordova:pe}=xe();return new Promise(ie=>{pe.plugins.browsertab.isAvailable(lt=>{let qt=null;lt?pe.plugins.browsertab.openUrl(se):qt=pe.InAppBrowser.open(se,(0,N.aA)()?"_blank":"_system","location=yes"),ie(qt)})})}(Sr);return function Ye(se,pe,ie){return ct.apply(this,arguments)}(pe,Nn,On)})()}_isIframeWebStorageSupported(pe,ie){throw new Error("Method not implemented.")}_originValidation(pe){const ie=pe._key();return this.originValidationPromises[ie]||(this.originValidationPromises[ie]=function qe(se){return Ke.apply(this,arguments)}(pe)),this.originValidationPromises[ie]}attachCallbackListeners(pe,ie){const{universalLinks:lt,handleOpenURL:qt,BuildInfo:yn}=xe(),Nn=setTimeout((0,d.A)(function*(){yield dt(pe),ie.onEvent(R())}),500),dr=function(){var Mn=(0,d.A)(function*(nr){clearTimeout(Nn);const Xr=yield dt(pe);let oi=null;Xr&&null!=nr&&nr.url&&(oi=function te(se,pe){var ie,lt;const qt=function It(se){const pe=Tn(se),ie=pe.link?decodeURIComponent(pe.link):void 0,lt=Tn(ie).link,qt=pe.deep_link_id?decodeURIComponent(pe.deep_link_id):void 0;return Tn(qt).link||qt||lt||ie||se}(pe);if(qt.includes("/__/auth/callback")){const yn=Tn(qt),Nn=yn.firebaseError?function zt(se){try{return JSON.parse(se)}catch{return null}}(decodeURIComponent(yn.firebaseError)):null,dr=null===(lt=null===(ie=null==Nn?void 0:Nn.code)||void 0===ie?void 0:ie.split("auth/"))||void 0===lt?void 0:lt[1],Sr=dr?(0,N.aB)(dr):null;return Sr?{type:se.type,eventId:se.eventId,tenantId:se.tenantId,error:Sr,urlResponse:null,sessionId:null,postBody:null}:{type:se.type,eventId:se.eventId,tenantId:se.tenantId,sessionId:se.sessionId,urlResponse:qt,postBody:null}}return null}(Xr,nr.url)),ie.onEvent(oi||R())});return function(Xr){return Mn.apply(this,arguments)}}();typeof lt<"u"&&"function"==typeof lt.subscribe&&lt.subscribe(null,dr);const Sr=qt,On=`${yn.packageName.toLowerCase()}://`;xe().handleOpenURL=function(){var Mn=(0,d.A)(function*(nr){if(nr.toLowerCase().startsWith(On)&&dr({url:nr}),"function"==typeof Sr)try{Sr(nr)}catch(Xr){console.error(Xr)}});return function(nr){return Mn.apply(this,arguments)}}()}};function R(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,N.aB)("no-auth-event")}}function Me(){var se;return(null===(se=null==self?void 0:self.location)||void 0===se?void 0:se.protocol)||null}function jt(se=(0,Te.ZQ)()){return!("file:"!==Me()&&"ionic:"!==Me()&&"capacitor:"!==Me()||!se.toLowerCase().match(/iphone|ipad|ipod|android/))}function Jt(){try{const se=self.localStorage,pe=N.aN();if(se)return se.setItem(pe,"1"),se.removeItem(pe),!function Sn(se=(0,Te.ZQ)()){return function Lt(){return(0,Te.lT)()&&11===(null==document?void 0:document.documentMode)}()||function gn(se=(0,Te.ZQ)()){return/Edge\/\d+/.test(se)}(se)}()||(0,Te.zW)()}catch{return Pn()&&(0,Te.zW)()}return!1}function Pn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Jn(){return(function Xe(){return"http:"===Me()||"https:"===Me()}()||(0,Te.sr)()||jt())&&!function ft(){return(0,Te.lV)()||(0,Te.Ll)()}()&&Jt()&&!Pn()}function bn(){return jt()&&typeof document<"u"}function vt(){return(vt=(0,d.A)(function*(){return!!bn()&&new Promise(se=>{const pe=setTimeout(()=>{se(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(pe),se(!0)})})})).apply(this,arguments)}const Ft={LOCAL:"local",NONE:"none",SESSION:"session"},rn=N.aC,Qt="persistence";function Wn(se){return wn.apply(this,arguments)}function wn(){return(wn=(0,d.A)(function*(se){yield se._initializationPromise;const pe=Un(),ie=N.aF(Qt,se.config.apiKey,se.name);pe&&pe.setItem(ie,se._getPersistence())})).apply(this,arguments)}function Un(){var se;try{return(null===(se=function pt(){return typeof window<"u"?window:null}())||void 0===se?void 0:se.sessionStorage)||null}catch{return null}}const tr=N.aC;class ur{constructor(){this.browserResolver=N.aE(N.k),this.cordovaResolver=N.aE(B),this.underlyingResolver=null,this._redirectPersistence=N.a,this._completeRedirectFn=N.aG,this._overrideRedirectResult=N.aH}_initialize(pe){var ie=this;return(0,d.A)(function*(){return yield ie.selectUnderlyingResolver(),ie.assertedUnderlyingResolver._initialize(pe)})()}_openPopup(pe,ie,lt,qt){var yn=this;return(0,d.A)(function*(){return yield yn.selectUnderlyingResolver(),yn.assertedUnderlyingResolver._openPopup(pe,ie,lt,qt)})()}_openRedirect(pe,ie,lt,qt){var yn=this;return(0,d.A)(function*(){return yield yn.selectUnderlyingResolver(),yn.assertedUnderlyingResolver._openRedirect(pe,ie,lt,qt)})()}_isIframeWebStorageSupported(pe,ie){this.assertedUnderlyingResolver._isIframeWebStorageSupported(pe,ie)}_originValidation(pe){return this.assertedUnderlyingResolver._originValidation(pe)}get _shouldInitProactively(){return bn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return tr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var pe=this;return(0,d.A)(function*(){if(pe.underlyingResolver)return;const ie=yield function nn(){return vt.apply(this,arguments)}();pe.underlyingResolver=ie?pe.cordovaResolver:pe.browserResolver})()}}function Br(se){return se.unwrap()}function Ir(se){return ui(se)}function ui(se){const{_tokenResponse:pe}=se instanceof Te.g?se.customData:se;if(!pe)return null;if(!(se instanceof Te.g)&&"temporaryProof"in pe&&"phoneNumber"in pe)return N.P.credentialFromResult(se);const ie=pe.providerId;if(!ie||ie===N.p.PASSWORD)return null;let lt;switch(ie){case N.p.GOOGLE:lt=N.X;break;case N.p.FACEBOOK:lt=N.W;break;case N.p.GITHUB:lt=N.Y;break;case N.p.TWITTER:lt=N.$;break;default:const{oauthIdToken:qt,oauthAccessToken:yn,oauthTokenSecret:Nn,pendingToken:dr,nonce:Sr}=pe;return yn||Nn||qt||dr?dr?ie.startsWith("saml.")?N.aQ._create(ie,dr):N.N._fromParams({providerId:ie,signInMethod:ie,pendingToken:dr,idToken:qt,accessToken:yn}):new N.Z(ie).credential({idToken:qt,accessToken:yn,rawNonce:Sr}):null}return se instanceof Te.g?lt.credentialFromError(se):lt.credentialFromResult(se)}function jn(se,pe){return pe.catch(ie=>{throw ie instanceof Te.g&&function qn(se,pe){var ie;const lt=null===(ie=pe.customData)||void 0===ie?void 0:ie._tokenResponse;if("auth/multi-factor-auth-required"===(null==pe?void 0:pe.code))pe.resolver=new at(se,N.as(se,pe));else if(lt){const qt=ui(pe),yn=pe;qt&&(yn.credential=qt,yn.tenantId=lt.tenantId||void 0,yn.email=lt.email||void 0,yn.phoneNumber=lt.phoneNumber||void 0)}}(se,ie),ie}).then(ie=>{const qt=ie.user;return{operationType:ie.operationType,credential:Ir(ie),additionalUserInfo:N.aq(ie),user:Dr.getOrCreate(qt)}})}function Qn(se,pe){return mi.apply(this,arguments)}function mi(){return(mi=(0,d.A)(function*(se,pe){const ie=yield pe;return{verificationId:ie.verificationId,confirm:lt=>jn(se,ie.confirm(lt))}})).apply(this,arguments)}class at{constructor(pe,ie){this.resolver=ie,this.auth=function Kn(se){return se.wrapped()}(pe)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(pe){return jn(Br(this.auth),this.resolver.resolveSignIn(pe))}}class Dr{constructor(pe){this._delegate=pe,this.multiFactor=N.at(pe)}static getOrCreate(pe){return Dr.USER_MAP.has(pe)||Dr.USER_MAP.set(pe,new Dr(pe)),Dr.USER_MAP.get(pe)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(pe){return this._delegate.getIdTokenResult(pe)}getIdToken(pe){return this._delegate.getIdToken(pe)}linkAndRetrieveDataWithCredential(pe){return this.linkWithCredential(pe)}linkWithCredential(pe){var ie=this;return(0,d.A)(function*(){return jn(ie.auth,N.a2(ie._delegate,pe))})()}linkWithPhoneNumber(pe,ie){var lt=this;return(0,d.A)(function*(){return Qn(lt.auth,N.l(lt._delegate,pe,ie))})()}linkWithPopup(pe){var ie=this;return(0,d.A)(function*(){return jn(ie.auth,N.d(ie._delegate,pe,ur))})()}linkWithRedirect(pe){var ie=this;return(0,d.A)(function*(){return yield Wn(N.aJ(ie.auth)),N.g(ie._delegate,pe,ur)})()}reauthenticateAndRetrieveDataWithCredential(pe){return this.reauthenticateWithCredential(pe)}reauthenticateWithCredential(pe){var ie=this;return(0,d.A)(function*(){return jn(ie.auth,N.a3(ie._delegate,pe))})()}reauthenticateWithPhoneNumber(pe,ie){return Qn(this.auth,N.r(this._delegate,pe,ie))}reauthenticateWithPopup(pe){return jn(this.auth,N.e(this._delegate,pe,ur))}reauthenticateWithRedirect(pe){var ie=this;return(0,d.A)(function*(){return yield Wn(N.aJ(ie.auth)),N.h(ie._delegate,pe,ur)})()}sendEmailVerification(pe){return N.ag(this._delegate,pe)}unlink(pe){var ie=this;return(0,d.A)(function*(){return yield N.ap(ie._delegate,pe),ie})()}updateEmail(pe){return N.al(this._delegate,pe)}updatePassword(pe){return N.am(this._delegate,pe)}updatePhoneNumber(pe){return N.u(this._delegate,pe)}updateProfile(pe){return N.ak(this._delegate,pe)}verifyBeforeUpdateEmail(pe,ie){return N.ah(this._delegate,pe,ie)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Dr.USER_MAP=new WeakMap;const Mr=N.aC;let Oi=(()=>{class se{constructor(ie,lt){if(this.app=ie,lt.isInitialized())return this._delegate=lt.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:qt}=ie.options;Mr(qt,"invalid-api-key",{appName:ie.name}),Mr(qt,"invalid-api-key",{appName:ie.name});const yn=typeof window<"u"?ur:void 0;this._delegate=lt.initialize({options:{persistence:mt(qt,ie.name),popupRedirectResolver:yn}}),this._delegate._updateErrorMap(N.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Dr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(ie){this._delegate.languageCode=ie}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(ie){this._delegate.tenantId=ie}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(ie,lt){N.K(this._delegate,ie,lt)}applyActionCode(ie){return N.a7(this._delegate,ie)}checkActionCode(ie){return N.a8(this._delegate,ie)}confirmPasswordReset(ie,lt){return N.a6(this._delegate,ie,lt)}createUserWithEmailAndPassword(ie,lt){var qt=this;return(0,d.A)(function*(){return jn(qt._delegate,N.aa(qt._delegate,ie,lt))})()}fetchProvidersForEmail(ie){return this.fetchSignInMethodsForEmail(ie)}fetchSignInMethodsForEmail(ie){return N.af(this._delegate,ie)}isSignInWithEmailLink(ie){return N.ad(this._delegate,ie)}getRedirectResult(){var ie=this;return(0,d.A)(function*(){Mr(Jn(),ie._delegate,"operation-not-supported-in-this-environment");const lt=yield N.j(ie._delegate,ur);return lt?jn(ie._delegate,Promise.resolve(lt)):{credential:null,user:null}})()}addFrameworkForLogging(ie){!function H(se,pe){(0,N.aJ)(se)._logFramework(pe)}(this._delegate,ie)}onAuthStateChanged(ie,lt,qt){const{next:yn,error:Nn,complete:dr}=ii(ie,lt,qt);return this._delegate.onAuthStateChanged(yn,Nn,dr)}onIdTokenChanged(ie,lt,qt){const{next:yn,error:Nn,complete:dr}=ii(ie,lt,qt);return this._delegate.onIdTokenChanged(yn,Nn,dr)}sendSignInLinkToEmail(ie,lt){return N.ac(this._delegate,ie,lt)}sendPasswordResetEmail(ie,lt){return N.a5(this._delegate,ie,lt||void 0)}setPersistence(ie){var lt=this;return(0,d.A)(function*(){let qt;switch(function or(se,pe){rn(Object.values(Ft).includes(pe),se,"invalid-persistence-type"),(0,Te.lV)()?rn(pe!==Ft.SESSION,se,"unsupported-persistence-type"):(0,Te.Ll)()?rn(pe===Ft.NONE,se,"unsupported-persistence-type"):Pn()?rn(pe===Ft.NONE||pe===Ft.LOCAL&&(0,Te.zW)(),se,"unsupported-persistence-type"):rn(pe===Ft.NONE||Jt(),se,"unsupported-persistence-type")}(lt._delegate,ie),ie){case Ft.SESSION:qt=N.a;break;case Ft.LOCAL:qt=(yield N.aE(N.i)._isAvailable())?N.i:N.b;break;case Ft.NONE:qt=N.U;break;default:return N.ax("argument-error",{appName:lt._delegate.name})}return lt._delegate.setPersistence(qt)})()}signInAndRetrieveDataWithCredential(ie){return this.signInWithCredential(ie)}signInAnonymously(){return jn(this._delegate,N.a0(this._delegate))}signInWithCredential(ie){return jn(this._delegate,N.a1(this._delegate,ie))}signInWithCustomToken(ie){return jn(this._delegate,N.a4(this._delegate,ie))}signInWithEmailAndPassword(ie,lt){return jn(this._delegate,N.ab(this._delegate,ie,lt))}signInWithEmailLink(ie,lt){return jn(this._delegate,N.ae(this._delegate,ie,lt))}signInWithPhoneNumber(ie,lt){return Qn(this._delegate,N.s(this._delegate,ie,lt))}signInWithPopup(ie){var lt=this;return(0,d.A)(function*(){return Mr(Jn(),lt._delegate,"operation-not-supported-in-this-environment"),jn(lt._delegate,N.c(lt._delegate,ie,ur))})()}signInWithRedirect(ie){var lt=this;return(0,d.A)(function*(){return Mr(Jn(),lt._delegate,"operation-not-supported-in-this-environment"),yield Wn(lt._delegate),N.f(lt._delegate,ie,ur)})()}updateCurrentUser(ie){return this._delegate.updateCurrentUser(ie)}verifyPasswordResetCode(ie){return N.a9(this._delegate,ie)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return se.Persistence=Ft,se})();function ii(se,pe,ie){let lt=se;"function"!=typeof se&&({next:lt,error:pe,complete:ie}=se);const qt=lt;return{next:Nn=>qt(Nn&&Dr.getOrCreate(Nn)),error:pe,complete:ie}}function mt(se,pe){const ie=function hn(se,pe){const ie=Un();if(!ie)return[];const lt=N.aF(Qt,se,pe);switch(ie.getItem(lt)){case Ft.NONE:return[N.U];case Ft.LOCAL:return[N.i,N.a];case Ft.SESSION:return[N.a];default:return[]}}(se,pe);if(typeof self<"u"&&!ie.includes(N.i)&&ie.push(N.i),typeof window<"u")for(const lt of[N.b,N.a])ie.includes(lt)||ie.push(lt);return ie.includes(N.U)||ie.push(N.U),ie}class Je{constructor(){this.providerId="phone",this._delegate=new N.P(Br(u.A.auth()))}static credential(pe,ie){return N.P.credential(pe,ie)}verifyPhoneNumber(pe,ie){return this._delegate.verifyPhoneNumber(pe,ie)}unwrap(){return this._delegate}}Je.PHONE_SIGN_IN_METHOD=N.P.PHONE_SIGN_IN_METHOD,Je.PROVIDER_ID=N.P.PROVIDER_ID;const kt=N.aC;class ot{constructor(pe,ie,lt=u.A.app()){var qt;kt(null===(qt=lt.options)||void 0===qt?void 0:qt.apiKey,"invalid-api-key",{appName:lt.name}),this._delegate=new N.R(lt.auth(),pe,ie),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ye(se){se.INTERNAL.registerComponent(new ce.uA("auth-compat",pe=>{const ie=pe.getProvider("app-compat").getImmediate(),lt=pe.getProvider("auth");return new Oi(ie,lt)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:N.A.EMAIL_SIGNIN,PASSWORD_RESET:N.A.PASSWORD_RESET,RECOVER_EMAIL:N.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:N.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:N.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:N.A.VERIFY_EMAIL}},EmailAuthProvider:N.V,FacebookAuthProvider:N.W,GithubAuthProvider:N.Y,GoogleAuthProvider:N.X,OAuthProvider:N.Z,SAMLAuthProvider:N._,PhoneAuthProvider:Je,PhoneMultiFactorGenerator:N.m,RecaptchaVerifier:ot,TwitterAuthProvider:N.$,Auth:Oi,AuthCredential:N.L,Error:Te.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),se.registerVersion("@firebase/auth-compat","0.5.9")}(u.A)},3011:(Dn,At,O)=>{"use strict";var d=O(3345),u=O(9583),N=O(1076),Te=O(1362);function ce(B,R){if(void 0===R)return{merge:!1};if(void 0!==R.mergeFields&&void 0!==R.merge)throw new u.W6("invalid-argument",`Invalid options passed to function ${B}(): You cannot specify both "merge" and "mergeFields".`);return R}function xe(){if(typeof Uint8Array>"u")throw new u.W6("unimplemented","Uint8Arrays are not available in this environment.")}function Qe(){if(!(0,u.qG)())throw new u.W6("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Pe{constructor(R){this._delegate=R}static fromBase64String(R){return Qe(),new Pe(u.Ix.fromBase64String(R))}static fromUint8Array(R){return xe(),new Pe(u.Ix.fromUint8Array(R))}toBase64(){return Qe(),this._delegate.toBase64()}toUint8Array(){return xe(),this._delegate.toUint8Array()}isEqual(R){return this._delegate.isEqual(R._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function ve(B){return function qe(B,R){if("object"!=typeof B||null===B)return!1;const H=B;for(const Ee of R)if(Ee in H&&"function"==typeof H[Ee])return!0;return!1}(B,["next","error","complete"])}class Ke{enableIndexedDbPersistence(R,H){return(0,u.ol)(R._delegate,{forceOwnership:H})}enableMultiTabIndexedDbPersistence(R){return(0,u.Q5)(R._delegate)}clearIndexedDbPersistence(R){return(0,u.me)(R._delegate)}}class We{constructor(R,H,Ee){this._delegate=H,this._persistenceProvider=Ee,this.INTERNAL={delete:()=>this.terminate()},R instanceof u.cm||(this._appCompat=R)}get _databaseId(){return this._delegate._databaseId}settings(R){const H=this._delegate._getSettings();!R.merge&&H.host!==R.host&&(0,u.qi)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),R.merge&&delete(R=Object.assign(Object.assign({},H),R)).merge,this._delegate._setSettings(R)}useEmulator(R,H,Ee={}){(0,u.vN)(this._delegate,R,H,Ee)}enableNetwork(){return(0,u.Os)(this._delegate)}disableNetwork(){return(0,u.LA)(this._delegate)}enablePersistence(R){let H=!1,Ee=!1;return R&&(H=!!R.synchronizeTabs,Ee=!!R.experimentalForceOwningTab,(0,u.c8)("synchronizeTabs",H,"experimentalForceOwningTab",Ee)),H?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,Ee)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,u.iB)(this._delegate)}onSnapshotsInSync(R){return(0,u.FC)(this._delegate,R)}get app(){if(!this._appCompat)throw new u.W6("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(R){try{return new wt(this,(0,u.rJ)(this._delegate,R))}catch(H){throw et(H,"collection()","Firestore.collection()")}}doc(R){try{return new tt(this,(0,u.H9)(this._delegate,R))}catch(H){throw et(H,"doc()","Firestore.doc()")}}collectionGroup(R){try{return new St(this,(0,u.Cs)(this._delegate,R))}catch(H){throw et(H,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(R){return(0,u.c4)(this._delegate,H=>R(new rt(this,H)))}batch(){return(0,u.Ws)(this._delegate),new nt(new u.GA(this._delegate,R=>(0,u.z6)(this._delegate,R)))}loadBundle(R){return(0,u.po)(this._delegate,R)}namedQuery(R){return(0,u.St)(this._delegate,R).then(H=>H?new St(this,H):null)}}class Ye extends u.fS{constructor(R){super(),this.firestore=R}convertBytes(R){return new Pe(new u.Ix(R))}convertReference(R){const H=this.convertDocumentKey(R,this.firestore._databaseId);return tt.forKey(H,this.firestore,null)}}class rt{constructor(R,H){this._firestore=R,this._delegate=H,this._userDataWriter=new Ye(R)}get(R){const H=an(R);return this._delegate.get(H).then(Ee=>new ze(this._firestore,new u.Wq(this._firestore._delegate,this._userDataWriter,Ee._key,Ee._document,Ee.metadata,H.converter)))}set(R,H,Ee){const Ve=an(R);return Ee?(ce("Transaction.set",Ee),this._delegate.set(Ve,H,Ee)):this._delegate.set(Ve,H),this}update(R,H,Ee,...Ve){const it=an(R);return 2===arguments.length?this._delegate.update(it,H):this._delegate.update(it,H,Ee,...Ve),this}delete(R){const H=an(R);return this._delegate.delete(H),this}}class nt{constructor(R){this._delegate=R}set(R,H,Ee){const Ve=an(R);return Ee?(ce("WriteBatch.set",Ee),this._delegate.set(Ve,H,Ee)):this._delegate.set(Ve,H),this}update(R,H,Ee,...Ve){const it=an(R);return 2===arguments.length?this._delegate.update(it,H):this._delegate.update(it,H,Ee,...Ve),this}delete(R){const H=an(R);return this._delegate.delete(H),this}commit(){return this._delegate.commit()}}class Tt{constructor(R,H,Ee){this._firestore=R,this._userDataWriter=H,this._delegate=Ee}fromFirestore(R,H){const Ee=new u.YQ(this._firestore._delegate,this._userDataWriter,R._key,R._document,R.metadata,null);return this._delegate.fromFirestore(new dt(this._firestore,Ee),null!=H?H:{})}toFirestore(R,H){return H?this._delegate.toFirestore(R,H):this._delegate.toFirestore(R)}static getInstance(R,H){const Ee=Tt.INSTANCES;let Ve=Ee.get(R);Ve||(Ve=new WeakMap,Ee.set(R,Ve));let it=Ve.get(H);return it||(it=new Tt(R,new Ye(R),H),Ve.set(H,it)),it}}Tt.INSTANCES=new WeakMap;class tt{constructor(R,H){this.firestore=R,this._delegate=H,this._userDataWriter=new Ye(R)}static forPath(R,H,Ee){if(R.length%2!=0)throw new u.W6("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${R.canonicalString()} has ${R.length}`);return new tt(H,new u.T1(H._delegate,Ee,new u.K$(R)))}static forKey(R,H,Ee){return new tt(H,new u.T1(H._delegate,Ee,R))}get id(){return this._delegate.id}get parent(){return new wt(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(R){try{return new wt(this.firestore,(0,u.rJ)(this._delegate,R))}catch(H){throw et(H,"collection()","DocumentReference.collection()")}}isEqual(R){return(R=(0,N.Ku)(R))instanceof u.T1&&(0,u.yx)(this._delegate,R)}set(R,H){H=ce("DocumentReference.set",H);try{return H?(0,u.BN)(this._delegate,R,H):(0,u.BN)(this._delegate,R)}catch(Ee){throw et(Ee,"setDoc()","DocumentReference.set()")}}update(R,H,...Ee){try{return 1===arguments.length?(0,u.mZ)(this._delegate,R):(0,u.mZ)(this._delegate,R,H,...Ee)}catch(Ve){throw et(Ve,"updateDoc()","DocumentReference.update()")}}delete(){return(0,u.kd)(this._delegate)}onSnapshot(...R){const H=we(R),Ee=Ge(R,Ve=>new ze(this.firestore,new u.Wq(this.firestore._delegate,this._userDataWriter,Ve._key,Ve._document,Ve.metadata,this._delegate.converter)));return(0,u.aQ)(this._delegate,H,Ee)}get(R){let H;return H="cache"===(null==R?void 0:R.source)?(0,u.nY)(this._delegate):"server"===(null==R?void 0:R.source)?(0,u._e)(this._delegate):(0,u.x7)(this._delegate),H.then(Ee=>new ze(this.firestore,new u.Wq(this.firestore._delegate,this._userDataWriter,Ee._key,Ee._document,Ee.metadata,this._delegate.converter)))}withConverter(R){return new tt(this.firestore,this._delegate.withConverter(R?Tt.getInstance(this.firestore,R):null))}}function et(B,R,H){return B.message=B.message.replace(R,H),B}function we(B){for(const R of B)if("object"==typeof R&&!ve(R))return R;return{}}function Ge(B,R){var H,Ee;let Ve;return Ve=ve(B[0])?B[0]:ve(B[1])?B[1]:"function"==typeof B[0]?{next:B[0],error:B[1],complete:B[2]}:{next:B[1],error:B[2],complete:B[3]},{next:it=>{Ve.next&&Ve.next(R(it))},error:null===(H=Ve.error)||void 0===H?void 0:H.bind(Ve),complete:null===(Ee=Ve.complete)||void 0===Ee?void 0:Ee.bind(Ve)}}class ze{constructor(R,H){this._firestore=R,this._delegate=H}get ref(){return new tt(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(R){return this._delegate.data(R)}get(R,H){return this._delegate.get(R,H)}isEqual(R){return(0,u.lN)(this._delegate,R._delegate)}}class dt extends ze{data(R){const H=this._delegate.data(R);return this._delegate._converter||(0,u.bI)(void 0!==H,"Document in a QueryDocumentSnapshot should exist"),H}}class St{constructor(R,H){this.firestore=R,this._delegate=H,this._userDataWriter=new Ye(R)}where(R,H,Ee){try{return new St(this.firestore,(0,u.P)(this._delegate,(0,u._M)(R,H,Ee)))}catch(Ve){throw et(Ve,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(R,H){try{return new St(this.firestore,(0,u.P)(this._delegate,(0,u.My)(R,H)))}catch(Ee){throw et(Ee,/(orderBy|where)\(\)/,"Query.$1()")}}limit(R){try{return new St(this.firestore,(0,u.P)(this._delegate,(0,u.AB)(R)))}catch(H){throw et(H,"limit()","Query.limit()")}}limitToLast(R){try{return new St(this.firestore,(0,u.P)(this._delegate,(0,u.$1)(R)))}catch(H){throw et(H,"limitToLast()","Query.limitToLast()")}}startAt(...R){try{return new St(this.firestore,(0,u.P)(this._delegate,(0,u.EO)(...R)))}catch(H){throw et(H,"startAt()","Query.startAt()")}}startAfter(...R){try{return new St(this.firestore,(0,u.P)(this._delegate,(0,u.HM)(...R)))}catch(H){throw et(H,"startAfter()","Query.startAfter()")}}endBefore(...R){try{return new St(this.firestore,(0,u.P)(this._delegate,(0,u.rf)(...R)))}catch(H){throw et(H,"endBefore()","Query.endBefore()")}}endAt(...R){try{return new St(this.firestore,(0,u.P)(this._delegate,(0,u.FD)(...R)))}catch(H){throw et(H,"endAt()","Query.endAt()")}}isEqual(R){return(0,u.B)(this._delegate,R._delegate)}get(R){let H;return H="cache"===(null==R?void 0:R.source)?(0,u.kU)(this._delegate):"server"===(null==R?void 0:R.source)?(0,u.Rr)(this._delegate):(0,u.GG)(this._delegate),H.then(Ee=>new Dt(this.firestore,new u.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,Ee._snapshot)))}onSnapshot(...R){const H=we(R),Ee=Ge(R,Ve=>new Dt(this.firestore,new u.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,Ve._snapshot)));return(0,u.aQ)(this._delegate,H,Ee)}withConverter(R){return new St(this.firestore,this._delegate.withConverter(R?Tt.getInstance(this.firestore,R):null))}}class te{constructor(R,H){this._firestore=R,this._delegate=H}get type(){return this._delegate.type}get doc(){return new dt(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Dt{constructor(R,H){this._firestore=R,this._delegate=H}get query(){return new St(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(R=>new dt(this._firestore,R))}docChanges(R){return this._delegate.docChanges(R).map(H=>new te(this._firestore,H))}forEach(R,H){this._delegate.forEach(Ee=>{R.call(H,new dt(this._firestore,Ee))})}isEqual(R){return(0,u.lN)(this._delegate,R._delegate)}}class wt extends St{constructor(R,H){super(R,H),this.firestore=R,this._delegate=H}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const R=this._delegate.parent;return R?new tt(this.firestore,R):null}doc(R){try{return new tt(this.firestore,void 0===R?(0,u.H9)(this._delegate):(0,u.H9)(this._delegate,R))}catch(H){throw et(H,"doc()","CollectionReference.doc()")}}add(R){return(0,u.gS)(this._delegate,R).then(H=>new tt(this.firestore,H))}isEqual(R){return(0,u.yx)(this._delegate,R._delegate)}withConverter(R){return new wt(this.firestore,this._delegate.withConverter(R?Tt.getInstance(this.firestore,R):null))}}function an(B){return(0,u.lo)(B,u.T1)}class zt{constructor(...R){this._delegate=new u.uY(...R)}static documentId(){return new zt(u.FA.keyField().canonicalString())}isEqual(R){return(R=(0,N.Ku)(R))instanceof u.uY&&this._delegate._internalPath.isEqual(R._internalPath)}}class It{constructor(R){this._delegate=R}static serverTimestamp(){const R=(0,u.O5)();return R._methodName="FieldValue.serverTimestamp",new It(R)}static delete(){const R=(0,u.CL)();return R._methodName="FieldValue.delete",new It(R)}static arrayUnion(...R){const H=(0,u.hq)(...R);return H._methodName="FieldValue.arrayUnion",new It(H)}static arrayRemove(...R){const H=(0,u.C3)(...R);return H._methodName="FieldValue.arrayRemove",new It(H)}static increment(R){const H=(0,u.GV)(R);return H._methodName="FieldValue.increment",new It(H)}isEqual(R){return this._delegate.isEqual(R._delegate)}}const Tn={Firestore:We,GeoPoint:u.Ci,Timestamp:u.Dc,Blob:Pe,Transaction:rt,WriteBatch:nt,DocumentReference:tt,DocumentSnapshot:ze,Query:St,QueryDocumentSnapshot:dt,QuerySnapshot:Dt,CollectionReference:wt,FieldPath:zt,FieldValue:It,setLogLevel:function ct(B){(0,u.He)(B)},CACHE_SIZE_UNLIMITED:u.H6};!function J(B){(function $e(B,R){B.INTERNAL.registerComponent(new Te.uA("firestore-compat",H=>{const Ee=H.getProvider("app-compat").getImmediate(),Ve=H.getProvider("firestore").getImmediate();return R(Ee,Ve)},"PUBLIC").setServiceProps(Object.assign({},Tn)))})(B,(R,H)=>new We(R,H,new Ke)),B.registerVersion("@firebase/firestore-compat","0.3.32")}(d.A)},2784:(Dn,At,O)=>{"use strict";O.d(At,{O5:()=>d.O5,aU:()=>d.aU});var d=O(9583)},467:(Dn,At,O)=>{"use strict";function d(N,Te,de,Be,ce,xe,Qe){try{var Pe=N[xe](Qe),ve=Pe.value}catch(qe){return void de(qe)}Pe.done?Te(ve):Promise.resolve(ve).then(Be,ce)}function u(N){return function(){var Te=this,de=arguments;return new Promise(function(Be,ce){var xe=N.apply(Te,de);function Qe(ve){d(xe,Be,ce,Qe,Pe,"next",ve)}function Pe(ve){d(xe,Be,ce,Qe,Pe,"throw",ve)}Qe(void 0)})}}O.d(At,{A:()=>u})},9842:(Dn,At,O)=>{"use strict";function d(de){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Be){return typeof Be}:function(Be){return Be&&"function"==typeof Symbol&&Be.constructor===Symbol&&Be!==Symbol.prototype?"symbol":typeof Be})(de)}function Te(de,Be,ce){return(Be=function N(de){var Be=function u(de,Be){if("object"!=d(de)||!de)return de;var ce=de[Symbol.toPrimitive];if(void 0!==ce){var xe=ce.call(de,Be||"default");if("object"!=d(xe))return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===Be?String:Number)(de)}(de,"string");return"symbol"==d(Be)?Be:String(Be)}(Be))in de?Object.defineProperty(de,Be,{value:ce,enumerable:!0,configurable:!0,writable:!0}):de[Be]=ce,de}O.d(At,{A:()=>Te})},1635:(Dn,At,O)=>{"use strict";function Te(B,R){var H={};for(var Ee in B)Object.prototype.hasOwnProperty.call(B,Ee)&&R.indexOf(Ee)<0&&(H[Ee]=B[Ee]);if(null!=B&&"function"==typeof Object.getOwnPropertySymbols){var Ve=0;for(Ee=Object.getOwnPropertySymbols(B);Ve<Ee.length;Ve++)R.indexOf(Ee[Ve])<0&&Object.prototype.propertyIsEnumerable.call(B,Ee[Ve])&&(H[Ee[Ve]]=B[Ee[Ve]])}return H}function de(B,R,H,Ee){var Me,Ve=arguments.length,it=Ve<3?R:null===Ee?Ee=Object.getOwnPropertyDescriptor(R,H):Ee;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)it=Reflect.decorate(B,R,H,Ee);else for(var Xe=B.length-1;Xe>=0;Xe--)(Me=B[Xe])&&(it=(Ve<3?Me(it):Ve>3?Me(R,H,it):Me(R,H))||it);return Ve>3&&it&&Object.defineProperty(R,H,it),it}function qe(B,R,H,Ee){return new(H||(H=Promise))(function(it,Me){function Xe(Lt){try{ft(Ee.next(Lt))}catch(gn){Me(gn)}}function jt(Lt){try{ft(Ee.throw(Lt))}catch(gn){Me(gn)}}function ft(Lt){Lt.done?it(Lt.value):function Ve(it){return it instanceof H?it:new H(function(Me){Me(it)})}(Lt.value).then(Xe,jt)}ft((Ee=Ee.apply(B,R||[])).next())})}function et(B){return this instanceof et?(this.v=B,this):new et(B)}function we(B,R,H){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,Ee=H.apply(B,R||[]),it=[];return Ve={},Me("next"),Me("throw"),Me("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve;function Me(Sn){Ee[Sn]&&(Ve[Sn]=function(Jt){return new Promise(function(Pn,Jn){it.push([Sn,Jt,Pn,Jn])>1||Xe(Sn,Jt)})})}function Xe(Sn,Jt){try{!function jt(Sn){Sn.value instanceof et?Promise.resolve(Sn.value.v).then(ft,Lt):gn(it[0][2],Sn)}(Ee[Sn](Jt))}catch(Pn){gn(it[0][3],Pn)}}function ft(Sn){Xe("next",Sn)}function Lt(Sn){Xe("throw",Sn)}function gn(Sn,Jt){Sn(Jt),it.shift(),it.length&&Xe(it[0][0],it[0][1])}}function ze(B){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var H,R=B[Symbol.asyncIterator];return R?R.call(B):(B=function ct(B){var R="function"==typeof Symbol&&Symbol.iterator,H=R&&B[R],Ee=0;if(H)return H.call(B);if(B&&"number"==typeof B.length)return{next:function(){return B&&Ee>=B.length&&(B=void 0),{value:B&&B[Ee++],done:!B}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")}(B),H={},Ee("next"),Ee("throw"),Ee("return"),H[Symbol.asyncIterator]=function(){return this},H);function Ee(it){H[it]=B[it]&&function(Me){return new Promise(function(Xe,jt){!function Ve(it,Me,Xe,jt){Promise.resolve(jt).then(function(ft){it({value:ft,done:Xe})},Me)}(Xe,jt,(Me=B[it](Me)).done,Me.value)})}}}O.d(At,{AQ:()=>we,Cg:()=>de,N3:()=>et,Tt:()=>Te,sH:()=>qe,xN:()=>ze}),"function"==typeof SuppressedError&&SuppressedError}},Dn=>{Dn(Dn.s=9457)}]);